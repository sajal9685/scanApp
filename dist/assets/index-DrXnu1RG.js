(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function Ib(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Tm={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function Nb(){if(kv)return Hl;kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=t,Hl.jsxs=t,Hl}var Lv;function Db(){return Lv||(Lv=1,Tm.exports=Nb()),Tm.exports}var S=Db(),wm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function xb(){if(Pv)return Ne;Pv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function R(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,q={};function k(V,re,ge){this.props=V,this.context=re,this.refs=q,this.updater=ge||x}k.prototype.isReactComponent={},k.prototype.setState=function(V,re){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,re,"setState")},k.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function K(){}K.prototype=k.prototype;function Z(V,re,ge){this.props=V,this.context=re,this.refs=q,this.updater=ge||x}var X=Z.prototype=new K;X.constructor=Z,D(X,k.prototype),X.isPureReactComponent=!0;var de=Array.isArray,oe={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function M(V,re,ge,le,ce,De){return ge=De.ref,{$$typeof:i,type:V,key:re,ref:ge!==void 0?ge:null,props:De}}function C(V,re){return M(V.type,re,void 0,void 0,void 0,V.props)}function b(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function I(V){var re={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ge){return re[ge]})}var L=/\/+/g;function j(V,re){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):re.toString(36)}function O(){}function nt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(O,O):(V.status="pending",V.then(function(re){V.status==="pending"&&(V.status="fulfilled",V.value=re)},function(re){V.status==="pending"&&(V.status="rejected",V.reason=re)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Me(V,re,ge,le,ce){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var Ie=!1;if(V===null)Ie=!0;else switch(De){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(V.$$typeof){case i:case e:Ie=!0;break;case v:return Ie=V._init,Me(Ie(V._payload),re,ge,le,ce)}}if(Ie)return ce=ce(V),Ie=le===""?"."+j(V,0):le,de(ce)?(ge="",Ie!=null&&(ge=Ie.replace(L,"$&/")+"/"),Me(ce,re,ge,"",function(lt){return lt})):ce!=null&&(b(ce)&&(ce=C(ce,ge+(ce.key==null||V&&V.key===ce.key?"":(""+ce.key).replace(L,"$&/")+"/")+Ie)),re.push(ce)),1;Ie=0;var yt=le===""?".":le+":";if(de(V))for(var He=0;He<V.length;He++)le=V[He],De=yt+j(le,He),Ie+=Me(le,re,ge,De,ce);else if(He=R(V),typeof He=="function")for(V=He.call(V),He=0;!(le=V.next()).done;)le=le.value,De=yt+j(le,He++),Ie+=Me(le,re,ge,De,ce);else if(De==="object"){if(typeof V.then=="function")return Me(nt(V),re,ge,le,ce);throw re=String(V),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function ie(V,re,ge){if(V==null)return V;var le=[],ce=0;return Me(V,le,"","",function(De){return re.call(ge,De,ce++)}),le}function me(V){if(V._status===-1){var re=V._result;re=re(),re.then(function(ge){(V._status===0||V._status===-1)&&(V._status=1,V._result=ge)},function(ge){(V._status===0||V._status===-1)&&(V._status=2,V._result=ge)}),V._status===-1&&(V._status=0,V._result=re)}if(V._status===1)return V._result.default;throw V._result}var ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Re(){}return Ne.Children={map:ie,forEach:function(V,re,ge){ie(V,function(){re.apply(this,arguments)},ge)},count:function(V){var re=0;return ie(V,function(){re++}),re},toArray:function(V){return ie(V,function(re){return re})||[]},only:function(V){if(!b(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ne.Component=k,Ne.Fragment=t,Ne.Profiler=o,Ne.PureComponent=Z,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ne.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cloneElement=function(V,re,ge){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=D({},V.props),ce=V.key,De=void 0;if(re!=null)for(Ie in re.ref!==void 0&&(De=void 0),re.key!==void 0&&(ce=""+re.key),re)!se.call(re,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&re.ref===void 0||(le[Ie]=re[Ie]);var Ie=arguments.length-2;if(Ie===1)le.children=ge;else if(1<Ie){for(var yt=Array(Ie),He=0;He<Ie;He++)yt[He]=arguments[He+2];le.children=yt}return M(V.type,ce,void 0,void 0,De,le)},Ne.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ne.createElement=function(V,re,ge){var le,ce={},De=null;if(re!=null)for(le in re.key!==void 0&&(De=""+re.key),re)se.call(re,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ce[le]=re[le]);var Ie=arguments.length-2;if(Ie===1)ce.children=ge;else if(1<Ie){for(var yt=Array(Ie),He=0;He<Ie;He++)yt[He]=arguments[He+2];ce.children=yt}if(V&&V.defaultProps)for(le in Ie=V.defaultProps,Ie)ce[le]===void 0&&(ce[le]=Ie[le]);return M(V,De,void 0,void 0,null,ce)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:d,render:V}},Ne.isValidElement=b,Ne.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:me}},Ne.memo=function(V,re){return{$$typeof:g,type:V,compare:re===void 0?null:re}},Ne.startTransition=function(V){var re=oe.T,ge={};oe.T=ge;try{var le=V(),ce=oe.S;ce!==null&&ce(ge,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Re,ue)}catch(De){ue(De)}finally{oe.T=re}},Ne.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ne.use=function(V){return oe.H.use(V)},Ne.useActionState=function(V,re,ge){return oe.H.useActionState(V,re,ge)},Ne.useCallback=function(V,re){return oe.H.useCallback(V,re)},Ne.useContext=function(V){return oe.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,re){return oe.H.useDeferredValue(V,re)},Ne.useEffect=function(V,re){return oe.H.useEffect(V,re)},Ne.useId=function(){return oe.H.useId()},Ne.useImperativeHandle=function(V,re,ge){return oe.H.useImperativeHandle(V,re,ge)},Ne.useInsertionEffect=function(V,re){return oe.H.useInsertionEffect(V,re)},Ne.useLayoutEffect=function(V,re){return oe.H.useLayoutEffect(V,re)},Ne.useMemo=function(V,re){return oe.H.useMemo(V,re)},Ne.useOptimistic=function(V,re){return oe.H.useOptimistic(V,re)},Ne.useReducer=function(V,re,ge){return oe.H.useReducer(V,re,ge)},Ne.useRef=function(V){return oe.H.useRef(V)},Ne.useState=function(V){return oe.H.useState(V)},Ne.useSyncExternalStore=function(V,re,ge){return oe.H.useSyncExternalStore(V,re,ge)},Ne.useTransition=function(){return oe.H.useTransition()},Ne.version="19.0.0",Ne}var Uv;function Rp(){return Uv||(Uv=1,wm.exports=xb()),wm.exports}var B=Rp();const Ob=Ib(B);var Sm={exports:{}},Fl={},Am={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function Mb(){return jv||(jv=1,function(i){function e(ie,me){var ue=ie.length;ie.push(me);e:for(;0<ue;){var Re=ue-1>>>1,V=ie[Re];if(0<o(V,me))ie[Re]=me,ie[ue]=V,ue=Re;else break e}}function t(ie){return ie.length===0?null:ie[0]}function s(ie){if(ie.length===0)return null;var me=ie[0],ue=ie.pop();if(ue!==me){ie[0]=ue;e:for(var Re=0,V=ie.length,re=V>>>1;Re<re;){var ge=2*(Re+1)-1,le=ie[ge],ce=ge+1,De=ie[ce];if(0>o(le,ue))ce<V&&0>o(De,le)?(ie[Re]=De,ie[ce]=ue,Re=ce):(ie[Re]=le,ie[ge]=ue,Re=ge);else if(ce<V&&0>o(De,ue))ie[Re]=De,ie[ce]=ue,Re=ce;else break e}}return me}function o(ie,me){var ue=ie.sortIndex-me.sortIndex;return ue!==0?ue:ie.id-me.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],v=1,T=null,R=3,x=!1,D=!1,q=!1,k=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function X(ie){for(var me=t(g);me!==null;){if(me.callback===null)s(g);else if(me.startTime<=ie)s(g),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(g)}}function de(ie){if(q=!1,X(ie),!D)if(t(p)!==null)D=!0,nt();else{var me=t(g);me!==null&&Me(de,me.startTime-ie)}}var oe=!1,se=-1,M=5,C=-1;function b(){return!(i.unstable_now()-C<M)}function I(){if(oe){var ie=i.unstable_now();C=ie;var me=!0;try{e:{D=!1,q&&(q=!1,K(se),se=-1),x=!0;var ue=R;try{t:{for(X(ie),T=t(p);T!==null&&!(T.expirationTime>ie&&b());){var Re=T.callback;if(typeof Re=="function"){T.callback=null,R=T.priorityLevel;var V=Re(T.expirationTime<=ie);if(ie=i.unstable_now(),typeof V=="function"){T.callback=V,X(ie),me=!0;break t}T===t(p)&&s(p),X(ie)}else s(p);T=t(p)}if(T!==null)me=!0;else{var re=t(g);re!==null&&Me(de,re.startTime-ie),me=!1}}break e}finally{T=null,R=ue,x=!1}me=void 0}}finally{me?L():oe=!1}}}var L;if(typeof Z=="function")L=function(){Z(I)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,O=j.port2;j.port1.onmessage=I,L=function(){O.postMessage(null)}}else L=function(){k(I,0)};function nt(){oe||(oe=!0,L())}function Me(ie,me){se=k(function(){ie(i.unstable_now())},me)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ie){ie.callback=null},i.unstable_continueExecution=function(){D||x||(D=!0,nt())},i.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ie?Math.floor(1e3/ie):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return t(p)},i.unstable_next=function(ie){switch(R){case 1:case 2:case 3:var me=3;break;default:me=R}var ue=R;R=me;try{return ie()}finally{R=ue}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ue=R;R=ie;try{return me()}finally{R=ue}},i.unstable_scheduleCallback=function(ie,me,ue){var Re=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Re+ue:Re):ue=Re,ie){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ue+V,ie={id:v++,callback:me,priorityLevel:ie,startTime:ue,expirationTime:V,sortIndex:-1},ue>Re?(ie.sortIndex=ue,e(g,ie),t(p)===null&&ie===t(g)&&(q?(K(se),se=-1):q=!0,Me(de,ue-Re))):(ie.sortIndex=V,e(p,ie),D||x||(D=!0,nt())),ie},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(ie){var me=R;return function(){var ue=R;R=me;try{return ie.apply(this,arguments)}finally{R=ue}}}}(bm)),bm}var zv;function Vb(){return zv||(zv=1,Am.exports=Mb()),Am.exports}var Rm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function kb(){if(Bv)return Xt;Bv=1;var i=Rp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Xt.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:R,fetchPriority:x}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:R,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var qv;function Lb(){if(qv)return Rm.exports;qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rm.exports=kb(),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function Pb(){if(Hv)return Fl;Hv=1;var i=Vb(),e=Rp(),t=Lb();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),x=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),de=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=oe&&n[oe]||n["@@iterator"],typeof n=="function"?n:null)}var M=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===M?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case p:return"Fragment";case d:return"Portal";case v:return"Profiler";case g:return"StrictMode";case q:return"Suspense";case k:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case x:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case D:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return r=n.displayName||null,r!==null?r:C(n.type)||"Memo";case Z:r=n._payload,n=n._init;try{return C(n(r))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,L,j;function O(n){if(L===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+n+j}var nt=!1;function Me(n,r){if(!n||nt)return"";nt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var G=Y}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(Y){G=Y}n.call(ne.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var N=E.split(`
`),U=w.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<U.length&&!U[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===U.length)for(l=N.length-1,f=U.length-1;1<=l&&0<=f&&N[l]!==U[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==U[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==U[f]){var W=`
`+N[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{nt=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?O(a):""}function ie(n){switch(n.tag){case 26:case 27:case 5:return O(n.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 15:return n=Me(n.type,!1),n;case 11:return n=Me(n.type.render,!1),n;case 1:return n=Me(n.type,!0),n;default:return""}}function me(n){try{var r="";do r+=ie(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ue(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function Re(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function V(n){if(ue(n)!==n)throw Error(s(188))}function re(n){var r=n.alternate;if(!r){if(r=ue(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return V(f),n;if(m===l)return V(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var E=!1,w=f.child;w;){if(w===a){E=!0,a=f,l=m;break}if(w===l){E=!0,l=f,a=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===a){E=!0,a=m,l=f;break}if(w===l){E=!0,l=m,a=f;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function ge(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=ge(n),r!==null)return r;n=n.sibling}return null}var le=Array.isArray,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,De={pending:!1,data:null,method:null,action:null},Ie=[],yt=-1;function He(n){return{current:n}}function lt(n){0>yt||(n.current=Ie[yt],Ie[yt]=null,yt--)}function Ye(n,r){yt++,Ie[yt]=n.current,n.current=r}var nn=He(null),Ni=He(null),Cn=He(null),pr=He(null);function gr(n,r){switch(Ye(Cn,r),Ye(Ni,n),Ye(nn,null),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?cv(r):0;break;default:if(n=n===8?r.parentNode:r,r=n.tagName,n=n.namespaceURI)n=cv(n),r=hv(n,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}lt(nn),Ye(nn,r)}function Di(){lt(nn),lt(Ni),lt(Cn)}function Uo(n){n.memoizedState!==null&&Ye(pr,n);var r=nn.current,a=hv(r,n.type);r!==a&&(Ye(Ni,n),Ye(nn,a))}function ya(n){Ni.current===n&&(lt(nn),lt(Ni)),pr.current===n&&(lt(pr),Ul._currentValue=De)}var _a=Object.prototype.hasOwnProperty,As=i.unstable_scheduleCallback,va=i.unstable_cancelCallback,Sf=i.unstable_shouldYield,jo=i.unstable_requestPaint,cn=i.unstable_now,Vu=i.unstable_getCurrentPriorityLevel,St=i.unstable_ImmediatePriority,xt=i.unstable_UserBlockingPriority,xi=i.unstable_NormalPriority,ku=i.unstable_LowPriority,zo=i.unstable_IdlePriority,Af=i.log,bs=i.unstable_setDisableYieldValue,yr=null,Qt=null;function Bo(n){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(yr,n,void 0,(n.current.flags&128)===128)}catch{}}function ri(n){if(typeof Af=="function"&&bs(n),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(yr,n)}catch{}}var rn=Math.clz32?Math.clz32:Pu,qo=Math.log,Lu=Math.LN2;function Pu(n){return n>>>=0,n===0?32:31-(qo(n)/Lu|0)|0}var si=128,_r=4194304;function Gn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function In(n,r){var a=n.pendingLanes;if(a===0)return 0;var l=0,f=n.suspendedLanes,m=n.pingedLanes,E=n.warmLanes;n=n.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~f,a!==0?l=Gn(a):(m&=w,m!==0?l=Gn(m):n||(E=w&~E,E!==0&&(l=Gn(E))))):(w=a&~f,w!==0?l=Gn(w):m!==0?l=Gn(m):n||(E=a&~E,E!==0&&(l=Gn(E)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,E=r&-r,f>=E||f===32&&(E&4194176)!==0)?r:l}function vr(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Ea(n,r){switch(n){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ho(){var n=si;return si<<=1,(si&4194176)===0&&(si=128),n}function Er(){var n=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),n}function Ta(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function dt(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Uu(n,r,a,l,f,m){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,U=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-rn(a),ne=1<<W;w[W]=0,N[W]=-1;var G=U[W];if(G!==null)for(U[W]=null,W=0;W<G.length;W++){var Y=G[W];Y!==null&&(Y.lane&=-536870913)}a&=~ne}l!==0&&Tr(n,l,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~r))}function Tr(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-rn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194218}function wr(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-rn(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function ju(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zu(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:Nv(n.type))}function Sr(n,r){var a=ce.p;try{return ce.p=n,r()}finally{ce.p=a}}var ai=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ai,At="__reactProps$"+ai,Oi="__reactContainer$"+ai,Rs="__reactEvents$"+ai,wa="__reactListeners$"+ai,oi="__reactHandles$"+ai,Fo="__reactResources$"+ai,Ar="__reactMarker$"+ai;function Cs(n){delete n[Ot],delete n[At],delete n[Rs],delete n[wa],delete n[oi]}function Kn(n){var r=n[Ot];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Oi]||a[Ot]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=mv(n);n!==null;){if(a=n[Ot])return a;n=mv(n)}return r}n=a,a=n.parentNode}return null}function Mi(n){if(n=n[Ot]||n[Oi]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function br(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function Rr(n){var r=n[Fo];return r||(r=n[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function rt(n){n[Ar]=!0}var Go=new Set,Sa={};function _n(n,r){hn(n,r),hn(n+"Capture",r)}function hn(n,r){for(Sa[n]=r,n=0;n<r.length;n++)Go.add(r[n])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},$o={};function Bu(n){return _a.call($o,n)?!0:_a.call(Ko,n)?!1:bf.test(n)?$o[n]=!0:(Ko[n]=!0,!1)}function Cr(n,r,a){if(Bu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function Ir(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Nn(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qu(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Rf(n){var r=qu(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,m.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Is(n){n._valueTracker||(n._valueTracker=Rf(n))}function Qo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=qu(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Aa(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Vi=/[\n"\\]/g;function ut(n){return n.replace(Vi,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Nr(n,r,a,l,f,m,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+sn(r)):n.value!==""+sn(r)&&(n.value=""+sn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?ba(n,E,sn(r)):a!=null?ba(n,E,sn(a)):l!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+sn(w):n.removeAttribute("name")}function Ns(n,r,a,l,f,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+sn(a):"",r=r!=null?""+sn(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function ba(n,r,a){r==="number"&&Aa(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Fe(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+sn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ds(n,r,a){if(r!=null&&(r=""+sn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+sn(a):""}function Dr(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=sn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Dn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Cf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yo(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Cf.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Hu(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Yo(n,f,l)}else for(var m in r)r.hasOwnProperty(m)&&Yo(n,m,r[m])}function Xo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function li(n){return Nf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var xn=null;function Ra(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ki=null,Li=null;function Pi(n){var r=Mi(n);if(r&&(n=r.stateNode)){var a=n[At]||null;e:switch(n=r.stateNode,r.type){case"input":if(Nr(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ut(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[At]||null;if(!f)throw Error(s(90));Nr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Qo(l)}break e;case"textarea":Ds(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Fe(n,!!a.multiple,r,!1)}}}var Wo=!1;function Fu(n,r,a){if(Wo)return n(r,a);Wo=!0;try{var l=n(r);return l}finally{if(Wo=!1,(ki!==null||Li!==null)&&(kc(),ki&&(r=ki,n=Li,Li=ki=null,Pi(r),n)))for(r=0;r<n.length;r++)Pi(n[r])}}function xs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var On=!1;if(vn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){On=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{On=!1}var ui=null,xr=null,Ui=null;function Zo(){if(Ui)return Ui;var n,r=xr,a=r.length,l,f="value"in ui?ui.value:ui.textContent,m=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[m-l];l++);return Ui=f.slice(n,1<l?1-l:void 0)}function ci(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function hi(){return!0}function Jo(){return!1}function Mt(n){function r(a,l,f,m,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?hi:Jo,this.isPropagationStopped=Jo,this}return I(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),r}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Mt($e),Ms=I({},$e,{view:0,detail:0}),Gu=Mt(Ms),Ia,Na,fi,Vs=I({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==fi&&(fi&&n.type==="mousemove"?(Ia=n.screenX-fi.screenX,Na=n.screenY-fi.screenY):Na=Ia=0,fi=n),Ia)},movementY:function(n){return"movementY"in n?n.movementY:Na}}),Mn=Mt(Vs),Ku=I({},Vs,{dataTransfer:0}),Df=Mt(Ku),ks=I({},Ms,{relatedTarget:0}),Da=Mt(ks),el=I({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=Mt(el),$u=I({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Oa=Mt($u),xf=I({},$e,{data:0}),tl=Mt(xf),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Yu[n])?!!r[n]:!1}function Ps(){return nl}var Xu=I({},Ms,{key:function(n){if(n.key){var r=Ls[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ci(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Qu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(n){return n.type==="keypress"?ci(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ci(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ma=Mt(Xu),Wu=I({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Mt(Wu),ji=I({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),Zu=Mt(ji),Ju=I({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=Mt(Ju),tc=I({},Vs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Va=Mt(tc),an=I({},$e,{newState:0,oldState:0}),nc=Mt(an),ic=[9,13,27,32],di=vn&&"CompositionEvent"in window,c=null;vn&&"documentMode"in document&&(c=document.documentMode);var y=vn&&"TextEvent"in window&&!c,_=vn&&(!di||c&&8<c&&11>=c),A=" ",H=!1;function $(n,r){switch(n){case"keyup":return ic.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var je=!1;function bt(n,r){switch(n){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(H=!0,A);case"textInput":return n=r.data,n===A&&H?null:n;default:return null}}function ze(n,r){if(je)return n==="compositionend"||!di&&$(n,r)?(n=Zo(),Ui=xr=ui=null,je=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Vt[n.type]:r==="textarea"}function zi(n,r,a,l){ki?Li?Li.push(l):Li=[l]:ki=l,r=zc(r,"onChange"),0<r.length&&(a=new Ca("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var zt=null,mi=null;function rl(n){sv(n,0)}function rc(n){var r=br(n);if(Qo(r))return n}function Vg(n,r){if(n==="change")return r}var kg=!1;if(vn){var Of;if(vn){var Mf="oninput"in document;if(!Mf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Mf=typeof Lg.oninput=="function"}Of=Mf}else Of=!1;kg=Of&&(!document.documentMode||9<document.documentMode)}function Pg(){zt&&(zt.detachEvent("onpropertychange",Ug),mi=zt=null)}function Ug(n){if(n.propertyName==="value"&&rc(mi)){var r=[];zi(r,mi,n,Ra(n)),Fu(rl,r)}}function rA(n,r,a){n==="focusin"?(Pg(),zt=r,mi=a,zt.attachEvent("onpropertychange",Ug)):n==="focusout"&&Pg()}function sA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return rc(mi)}function aA(n,r){if(n==="click")return rc(r)}function oA(n,r){if(n==="input"||n==="change")return rc(r)}function lA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var En=typeof Object.is=="function"?Object.is:lA;function sl(n,r){if(En(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!_a.call(r,f)||!En(n[f],r[f]))return!1}return!0}function jg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zg(n,r){var a=jg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jg(a)}}function Bg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Bg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function qg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Aa(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Aa(n.document)}return r}function Vf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function uA(n,r){var a=qg(r);r=n.focusedElem;var l=n.selectionRange;if(a!==r&&r&&r.ownerDocument&&Bg(r.ownerDocument.documentElement,r)){if(l!==null&&Vf(r)){if(n=l.start,a=l.end,a===void 0&&(a=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(a,r.value.length);else if(a=(n=r.ownerDocument||document)&&n.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!a.extend&&m>l&&(f=l,l=m,m=f),f=zg(r,m);var E=zg(r,l);f&&E&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),a.removeAllRanges(),m>l?(a.addRange(n),a.extend(E.node,E.offset)):(n.setEnd(E.node,E.offset),a.addRange(n)))}}for(n=[],a=r;a=a.parentNode;)a.nodeType===1&&n.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<n.length;r++)a=n[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var cA=vn&&"documentMode"in document&&11>=document.documentMode,ka=null,kf=null,al=null,Lf=!1;function Hg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lf||ka==null||ka!==Aa(l)||(l=ka,"selectionStart"in l&&Vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=zc(kf,"onSelect"),0<l.length&&(r=new Ca("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=ka)))}function Us(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var La={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Pf={},Fg={};vn&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function js(n){if(Pf[n])return Pf[n];if(!La[n])return n;var r=La[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Fg)return Pf[n]=r[a];return n}var Gg=js("animationend"),Kg=js("animationiteration"),$g=js("animationstart"),hA=js("transitionrun"),fA=js("transitionstart"),dA=js("transitioncancel"),Qg=js("transitionend"),Yg=new Map,Xg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $n(n,r){Yg.set(n,r),_n(r,[n])}var Vn=[],Pa=0,Uf=0;function sc(){for(var n=Pa,r=Uf=Pa=0;r<n;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var f=Vn[r];Vn[r++]=null;var m=Vn[r];if(Vn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}m!==0&&Wg(a,f,m)}}function ac(n,r,a,l){Vn[Pa++]=n,Vn[Pa++]=r,Vn[Pa++]=a,Vn[Pa++]=l,Uf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function jf(n,r,a,l){return ac(n,r,a,l),oc(n)}function Or(n,r){return ac(n,null,null,r),oc(n)}function Wg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;f&&r!==null&&n.tag===3&&(m=n.stateNode,f=31-rn(a),m=m.hiddenUpdates,n=m[f],n===null?m[f]=[r]:n.push(r),r.lane=a|536870912)}function oc(n){if(50<xl)throw xl=0,Gd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ua={},Zg=new WeakMap;function kn(n,r){if(typeof n=="object"&&n!==null){var a=Zg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:me(r)},Zg.set(n,r),r)}return{value:n,source:r,stack:me(r)}}var ja=[],za=0,lc=null,uc=0,Ln=[],Pn=0,zs=null,Bi=1,qi="";function Bs(n,r){ja[za++]=uc,ja[za++]=lc,lc=n,uc=r}function Jg(n,r,a){Ln[Pn++]=Bi,Ln[Pn++]=qi,Ln[Pn++]=zs,zs=n;var l=Bi;n=qi;var f=32-rn(l)-1;l&=~(1<<f),a+=1;var m=32-rn(r)+f;if(30<m){var E=f-f%5;m=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Bi=1<<32-rn(r)+f|a<<f|l,qi=m+n}else Bi=1<<m|a<<f|l,qi=n}function zf(n){n.return!==null&&(Bs(n,1),Jg(n,1,0))}function Bf(n){for(;n===lc;)lc=ja[--za],ja[za]=null,uc=ja[--za],ja[za]=null;for(;n===zs;)zs=Ln[--Pn],Ln[Pn]=null,qi=Ln[--Pn],Ln[Pn]=null,Bi=Ln[--Pn],Ln[Pn]=null}var on=null,Bt=null,Ge=!1,Qn=null,pi=!1,qf=Error(s(519));function qs(n){var r=Error(s(418,""));throw ul(kn(r,n)),qf}function ey(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Ot]=n,r[At]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Pe(Ml[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),Ns(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Is(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Dr(r,l.value,l.defaultValue,l.children),Is(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||uv(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=Bc),r=!0):r=!1,r||qs(n)}function ty(n){for(on=n.return;on;)switch(on.tag){case 3:case 27:pi=!0;return;case 5:case 13:pi=!1;return;default:on=on.return}}function ol(n){if(n!==on)return!1;if(!Ge)return ty(n),Ge=!0,!1;var r=!1,a;if((a=n.tag!==3&&n.tag!==27)&&((a=n.tag===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||lm(n.type,n.memoizedProps)),a=!a),a&&(r=!0),r&&Bt&&qs(n),ty(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){Bt=Xn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}Bt=null}}else Bt=on?Xn(n.stateNode.nextSibling):null;return!0}function ll(){Bt=on=null,Ge=!1}function ul(n){Qn===null?Qn=[n]:Qn.push(n)}var cl=Error(s(460)),ny=Error(s(474)),Hf={then:function(){}};function iy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function cc(){}function ry(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(cc,cc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===cl?Error(s(483)):n;default:if(typeof r.status=="string")r.then(cc,cc);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,n===cl?Error(s(483)):n}throw hl=r,cl}}var hl=null;function sy(){if(hl===null)throw Error(s(459));var n=hl;return hl=null,n}var Ba=null,fl=0;function hc(n){var r=fl;return fl+=1,Ba===null&&(Ba=[]),ry(Ba,n,r)}function dl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function fc(n,r){throw r.$$typeof===u?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ay(n){var r=n._init;return r(n._payload)}function oy(n){function r(z,P){if(n){var F=z.deletions;F===null?(z.deletions=[P],z.flags|=16):F.push(P)}}function a(z,P){if(!n)return null;for(;P!==null;)r(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=Fr(z,P),z.index=0,z.sibling=null,z}function m(z,P,F){return z.index=F,n?(F=z.alternate,F!==null?(F=F.index,F<P?(z.flags|=33554434,P):F):(z.flags|=33554434,P)):(z.flags|=1048576,P)}function E(z){return n&&z.alternate===null&&(z.flags|=33554434),z}function w(z,P,F,J){return P===null||P.tag!==6?(P=Pd(F,z.mode,J),P.return=z,P):(P=f(P,F),P.return=z,P)}function N(z,P,F,J){var pe=F.type;return pe===p?W(z,P,F.props.children,J,F.key):P!==null&&(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Z&&ay(pe)===P.type)?(P=f(P,F.props),dl(P,F),P.return=z,P):(P=Dc(F.type,F.key,F.props,null,z.mode,J),dl(P,F),P.return=z,P)}function U(z,P,F,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=Ud(F,z.mode,J),P.return=z,P):(P=f(P,F.children||[]),P.return=z,P)}function W(z,P,F,J,pe){return P===null||P.tag!==7?(P=Zs(F,z.mode,J,pe),P.return=z,P):(P=f(P,F),P.return=z,P)}function ne(z,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Pd(""+P,z.mode,F),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case h:return F=Dc(P.type,P.key,P.props,null,z.mode,F),dl(F,P),F.return=z,F;case d:return P=Ud(P,z.mode,F),P.return=z,P;case Z:var J=P._init;return P=J(P._payload),ne(z,P,F)}if(le(P)||se(P))return P=Zs(P,z.mode,F,null),P.return=z,P;if(typeof P.then=="function")return ne(z,hc(P),F);if(P.$$typeof===x)return ne(z,Cc(z,P),F);fc(z,P)}return null}function G(z,P,F,J){var pe=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return pe!==null?null:w(z,P,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case h:return F.key===pe?N(z,P,F,J):null;case d:return F.key===pe?U(z,P,F,J):null;case Z:return pe=F._init,F=pe(F._payload),G(z,P,F,J)}if(le(F)||se(F))return pe!==null?null:W(z,P,F,J,null);if(typeof F.then=="function")return G(z,P,hc(F),J);if(F.$$typeof===x)return G(z,P,Cc(z,F),J);fc(z,F)}return null}function Y(z,P,F,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(F)||null,w(P,z,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case h:return z=z.get(J.key===null?F:J.key)||null,N(P,z,J,pe);case d:return z=z.get(J.key===null?F:J.key)||null,U(P,z,J,pe);case Z:var Oe=J._init;return J=Oe(J._payload),Y(z,P,F,J,pe)}if(le(J)||se(J))return z=z.get(F)||null,W(P,z,J,pe,null);if(typeof J.then=="function")return Y(z,P,F,hc(J),pe);if(J.$$typeof===x)return Y(z,P,F,Cc(P,J),pe);fc(P,J)}return null}function ye(z,P,F,J){for(var pe=null,Oe=null,_e=P,Ee=P=0,Pt=null;_e!==null&&Ee<F.length;Ee++){_e.index>Ee?(Pt=_e,_e=null):Pt=_e.sibling;var Ke=G(z,_e,F[Ee],J);if(Ke===null){_e===null&&(_e=Pt);break}n&&_e&&Ke.alternate===null&&r(z,_e),P=m(Ke,P,Ee),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke,_e=Pt}if(Ee===F.length)return a(z,_e),Ge&&Bs(z,Ee),pe;if(_e===null){for(;Ee<F.length;Ee++)_e=ne(z,F[Ee],J),_e!==null&&(P=m(_e,P,Ee),Oe===null?pe=_e:Oe.sibling=_e,Oe=_e);return Ge&&Bs(z,Ee),pe}for(_e=l(_e);Ee<F.length;Ee++)Pt=Y(_e,z,Ee,F[Ee],J),Pt!==null&&(n&&Pt.alternate!==null&&_e.delete(Pt.key===null?Ee:Pt.key),P=m(Pt,P,Ee),Oe===null?pe=Pt:Oe.sibling=Pt,Oe=Pt);return n&&_e.forEach(function(Wr){return r(z,Wr)}),Ge&&Bs(z,Ee),pe}function Ae(z,P,F,J){if(F==null)throw Error(s(151));for(var pe=null,Oe=null,_e=P,Ee=P=0,Pt=null,Ke=F.next();_e!==null&&!Ke.done;Ee++,Ke=F.next()){_e.index>Ee?(Pt=_e,_e=null):Pt=_e.sibling;var Wr=G(z,_e,Ke.value,J);if(Wr===null){_e===null&&(_e=Pt);break}n&&_e&&Wr.alternate===null&&r(z,_e),P=m(Wr,P,Ee),Oe===null?pe=Wr:Oe.sibling=Wr,Oe=Wr,_e=Pt}if(Ke.done)return a(z,_e),Ge&&Bs(z,Ee),pe;if(_e===null){for(;!Ke.done;Ee++,Ke=F.next())Ke=ne(z,Ke.value,J),Ke!==null&&(P=m(Ke,P,Ee),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke);return Ge&&Bs(z,Ee),pe}for(_e=l(_e);!Ke.done;Ee++,Ke=F.next())Ke=Y(_e,z,Ee,Ke.value,J),Ke!==null&&(n&&Ke.alternate!==null&&_e.delete(Ke.key===null?Ee:Ke.key),P=m(Ke,P,Ee),Oe===null?pe=Ke:Oe.sibling=Ke,Oe=Ke);return n&&_e.forEach(function(Cb){return r(z,Cb)}),Ge&&Bs(z,Ee),pe}function ft(z,P,F,J){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case h:e:{for(var pe=F.key;P!==null;){if(P.key===pe){if(pe=F.type,pe===p){if(P.tag===7){a(z,P.sibling),J=f(P,F.props.children),J.return=z,z=J;break e}}else if(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Z&&ay(pe)===P.type){a(z,P.sibling),J=f(P,F.props),dl(J,F),J.return=z,z=J;break e}a(z,P);break}else r(z,P);P=P.sibling}F.type===p?(J=Zs(F.props.children,z.mode,J,F.key),J.return=z,z=J):(J=Dc(F.type,F.key,F.props,null,z.mode,J),dl(J,F),J.return=z,z=J)}return E(z);case d:e:{for(pe=F.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){a(z,P.sibling),J=f(P,F.children||[]),J.return=z,z=J;break e}else{a(z,P);break}else r(z,P);P=P.sibling}J=Ud(F,z.mode,J),J.return=z,z=J}return E(z);case Z:return pe=F._init,F=pe(F._payload),ft(z,P,F,J)}if(le(F))return ye(z,P,F,J);if(se(F)){if(pe=se(F),typeof pe!="function")throw Error(s(150));return F=pe.call(F),Ae(z,P,F,J)}if(typeof F.then=="function")return ft(z,P,hc(F),J);if(F.$$typeof===x)return ft(z,P,Cc(z,F),J);fc(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(a(z,P.sibling),J=f(P,F),J.return=z,z=J):(a(z,P),J=Pd(F,z.mode,J),J.return=z,z=J),E(z)):a(z,P)}return function(z,P,F,J){try{fl=0;var pe=ft(z,P,F,J);return Ba=null,pe}catch(_e){if(_e===cl)throw _e;var Oe=Bn(29,_e,null,z.mode);return Oe.lanes=J,Oe.return=z,Oe}finally{}}}var Hs=oy(!0),ly=oy(!1),qa=He(null),dc=He(0);function uy(n,r){n=Ji,Ye(dc,n),Ye(qa,r),Ji=n|r.baseLanes}function Ff(){Ye(dc,Ji),Ye(qa,qa.current)}function Gf(){Ji=dc.current,lt(qa),lt(dc)}var Un=He(null),gi=null;function Mr(n){var r=n.alternate;Ye(Ct,Ct.current&1),Ye(Un,n),gi===null&&(r===null||qa.current!==null||r.memoizedState!==null)&&(gi=n)}function cy(n){if(n.tag===22){if(Ye(Ct,Ct.current),Ye(Un,n),gi===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(gi=n)}}else Vr()}function Vr(){Ye(Ct,Ct.current),Ye(Un,Un.current)}function Hi(n){lt(Un),gi===n&&(gi=null),lt(Ct)}var Ct=He(0);function mc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var mA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},pA=i.unstable_scheduleCallback,gA=i.unstable_NormalPriority,It={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new mA,data:new Map,refCount:0}}function ml(n){n.refCount--,n.refCount===0&&pA(gA,function(){n.controller.abort()})}var pl=null,$f=0,Ha=0,Fa=null;function yA(n,r){if(pl===null){var a=pl=[];$f=0,Ha=Jd(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $f++,r.then(hy,hy),r}function hy(){if(--$f===0&&pl!==null){Fa!==null&&(Fa.status="fulfilled");var n=pl;pl=null,Ha=0,Fa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function _A(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var fy=b.S;b.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&yA(n,r),fy!==null&&fy(n,r)};var Fs=He(null);function Qf(){var n=Fs.current;return n!==null?n:Je.pooledCache}function pc(n,r){r===null?Ye(Fs,Fs.current):Ye(Fs,r.pool)}function dy(){var n=Qf();return n===null?null:{parent:It._currentValue,pool:n}}var kr=0,xe=null,Xe=null,_t=null,gc=!1,Ga=!1,Gs=!1,yc=0,gl=0,Ka=null,vA=0;function mt(){throw Error(s(321))}function Yf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!En(n[a],r[a]))return!1;return!0}function Xf(n,r,a,l,f,m){return kr=m,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,b.H=n===null||n.memoizedState===null?Ks:Lr,Gs=!1,m=a(l,f),Gs=!1,Ga&&(m=py(r,a,l,f)),my(n),m}function my(n){b.H=yi;var r=Xe!==null&&Xe.next!==null;if(kr=0,_t=Xe=xe=null,gc=!1,gl=0,Ka=null,r)throw Error(s(300));n===null||kt||(n=n.dependencies,n!==null&&Rc(n)&&(kt=!0))}function py(n,r,a,l){xe=n;var f=0;do{if(Ga&&(Ka=null),gl=0,Ga=!1,25<=f)throw Error(s(301));if(f+=1,_t=Xe=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}b.H=$s,m=r(a,l)}while(Ga);return m}function EA(){var n=b.H,r=n.useState()[0];return r=typeof r.then=="function"?yl(r):r,n=n.useState()[0],(Xe!==null?Xe.memoizedState:null)!==n&&(xe.flags|=1024),r}function Wf(){var n=yc!==0;return yc=0,n}function Zf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Jf(n){if(gc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}gc=!1}kr=0,_t=Xe=xe=null,Ga=!1,gl=yc=0,Ka=null}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?xe.memoizedState=_t=n:_t=_t.next=n,_t}function vt(){if(Xe===null){var n=xe.alternate;n=n!==null?n.memoizedState:null}else n=Xe.next;var r=_t===null?xe.memoizedState:_t.next;if(r!==null)_t=r,Xe=n;else{if(n===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Xe=n,n={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?xe.memoizedState=_t=n:_t=_t.next=n}return _t}var _c;_c=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function yl(n){var r=gl;return gl+=1,Ka===null&&(Ka=[]),n=ry(Ka,n,r),r=xe,(_t===null?r.memoizedState:_t.next)===null&&(r=r.alternate,b.H=r===null||r.memoizedState===null?Ks:Lr),n}function vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return yl(n);if(n.$$typeof===x)return Yt(n)}throw Error(s(438,String(n)))}function ed(n){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=_c(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=de;return r.index++,a}function Fi(n,r){return typeof r=="function"?r(n):r}function Ec(n){var r=vt();return td(r,Xe,n)}function td(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,m=l.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}r.baseQueue=f=m,l.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var w=E=null,N=null,U=r,W=!1;do{var ne=U.lane&-536870913;if(ne!==U.lane?(Be&ne)===ne:(kr&ne)===ne){var G=U.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ne===Ha&&(W=!0);else if((kr&G)===G){U=U.next,G===Ha&&(W=!0);continue}else ne={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(w=N=ne,E=m):N=N.next=ne,xe.lanes|=G,Gr|=G;ne=U.action,Gs&&a(m,ne),m=U.hasEagerState?U.eagerState:a(m,ne)}else G={lane:ne,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(w=N=G,E=m):N=N.next=G,xe.lanes|=ne,Gr|=ne;U=U.next}while(U!==null&&U!==r);if(N===null?E=m:N.next=w,!En(m,n.memoizedState)&&(kt=!0,W&&(a=Fa,a!==null)))throw a;n.memoizedState=m,n.baseState=E,n.baseQueue=N,l.lastRenderedState=m}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function nd(n){var r=vt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);En(m,r.memoizedState)||(kt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function gy(n,r,a){var l=xe,f=vt(),m=Ge;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!En((Xe||f).memoizedState,a);if(E&&(f.memoizedState=a,kt=!0),f=f.queue,sd(vy.bind(null,l,f,n),[n]),f.getSnapshot!==r||E||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,$a(9,_y.bind(null,l,f,a,r),{destroy:void 0},null),Je===null)throw Error(s(349));m||(kr&60)!==0||yy(l,r,a)}return a}function yy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=_c(),xe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function _y(n,r,a,l){r.value=a,r.getSnapshot=l,Ey(r)&&Ty(n)}function vy(n,r,a){return a(function(){Ey(r)&&Ty(n)})}function Ey(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!En(n,a)}catch{return!0}}function Ty(n){var r=Or(n,2);r!==null&&ln(r,n,2)}function id(n){var r=fn();if(typeof n=="function"){var a=n;if(n=a(),Gs){ri(!0);try{a()}finally{ri(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:n},r}function wy(n,r,a,l){return n.baseState=a,td(n,Xe,typeof l=="function"?l:Fi)}function TA(n,r,a,l,f){if(Sc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};b.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Sy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Sy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var m=b.T,E={};b.T=E;try{var w=a(f,l),N=b.S;N!==null&&N(E,w),Ay(n,r,w)}catch(U){rd(n,r,U)}finally{b.T=m}}else try{m=a(f,l),Ay(n,r,m)}catch(U){rd(n,r,U)}}function Ay(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){by(n,r,l)},function(l){return rd(n,r,l)}):by(n,r,a)}function by(n,r,a){r.status="fulfilled",r.value=a,Ry(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Sy(n,a)))}function rd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ry(r),r=r.next;while(r!==l)}n.action=null}function Ry(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Cy(n,r){return r}function Iy(n,r){if(Ge){var a=Je.formState;if(a!==null){e:{var l=xe;if(Ge){if(Bt){t:{for(var f=Bt,m=pi;f.nodeType!==8;){if(!m){f=null;break t}if(f=Xn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Bt=Xn(f.nextSibling),l=f.data==="F!";break e}}qs(l)}l=!1}l&&(r=a[0])}}return a=fn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:r},a.queue=l,a=Ky.bind(null,xe,l),l.dispatch=a,l=id(!1),m=cd.bind(null,xe,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=TA.bind(null,xe,f,m,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Ny(n){var r=vt();return Dy(r,Xe,n)}function Dy(n,r,a){r=td(n,r,Cy)[0],n=Ec(Fi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?yl(r):r;var l=vt(),f=l.queue,m=f.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,$a(9,wA.bind(null,f,a),{destroy:void 0},null)),[r,m,n]}function wA(n,r){n.action=r}function xy(n){var r=vt(),a=Xe;if(a!==null)return Dy(r,a,n);vt(),r=r.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function $a(n,r,a,l){return n={tag:n,create:r,inst:a,deps:l,next:null},r=xe.updateQueue,r===null&&(r=_c(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Oy(){return vt().memoizedState}function Tc(n,r,a,l){var f=fn();xe.flags|=n,f.memoizedState=$a(1|r,a,{destroy:void 0},l===void 0?null:l)}function wc(n,r,a,l){var f=vt();l=l===void 0?null:l;var m=f.memoizedState.inst;Xe!==null&&l!==null&&Yf(l,Xe.memoizedState.deps)?f.memoizedState=$a(r,a,m,l):(xe.flags|=n,f.memoizedState=$a(1|r,a,m,l))}function My(n,r){Tc(8390656,8,n,r)}function sd(n,r){wc(2048,8,n,r)}function Vy(n,r){return wc(4,2,n,r)}function ky(n,r){return wc(4,4,n,r)}function Ly(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Py(n,r,a){a=a!=null?a.concat([n]):null,wc(4,4,Ly.bind(null,r,n),a)}function ad(){}function Uy(n,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Yf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function jy(n,r){var a=vt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Yf(r,l[1]))return l[0];if(l=n(),Gs){ri(!0);try{n()}finally{ri(!1)}}return a.memoizedState=[l,r],l}function od(n,r,a){return a===void 0||(kr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=B_(),xe.lanes|=n,Gr|=n,a)}function zy(n,r,a,l){return En(a,r)?a:qa.current!==null?(n=od(n,a,l),En(n,r)||(kt=!0),n):(kr&42)===0?(kt=!0,n.memoizedState=a):(n=B_(),xe.lanes|=n,Gr|=n,r)}function By(n,r,a,l,f){var m=ce.p;ce.p=m!==0&&8>m?m:8;var E=b.T,w={};b.T=w,cd(n,!1,r,a);try{var N=f(),U=b.S;if(U!==null&&U(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=_A(N,l);_l(n,r,W,An(n))}else _l(n,r,l,An(n))}catch(ne){_l(n,r,{then:function(){},status:"rejected",reason:ne},An())}finally{ce.p=m,b.T=E}}function SA(){}function ld(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=qy(n).queue;By(n,f,r,De,a===null?SA:function(){return Hy(n),a(l)})}function qy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:De,baseState:De,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:De},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Hy(n){var r=qy(n).next.queue;_l(n,r,{},An())}function ud(){return Yt(Ul)}function Fy(){return vt().memoizedState}function Gy(){return vt().memoizedState}function AA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();n=jr(a);var l=zr(r,n,a);l!==null&&(ln(l,r,a),Tl(l,r,a)),r={cache:Kf()},n.payload=r;return}r=r.return}}function bA(n,r,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(n)?$y(r,a):(a=jf(n,r,a,l),a!==null&&(ln(a,n,l),Qy(a,r,l)))}function Ky(n,r,a){var l=An();_l(n,r,a,l)}function _l(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sc(n))$y(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,w=m(E,a);if(f.hasEagerState=!0,f.eagerState=w,En(w,E))return ac(n,r,f,0),Je===null&&sc(),!1}catch{}finally{}if(a=jf(n,r,f,l),a!==null)return ln(a,n,l),Qy(a,r,l),!0}return!1}function cd(n,r,a,l){if(l={lane:2,revertLane:Jd(),action:l,hasEagerState:!1,eagerState:null,next:null},Sc(n)){if(r)throw Error(s(479))}else r=jf(n,a,l,2),r!==null&&ln(r,n,2)}function Sc(n){var r=n.alternate;return n===xe||r!==null&&r===xe}function $y(n,r){Ga=gc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Qy(n,r,a){if((a&4194176)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,wr(n,a)}}var yi={readContext:Yt,use:vc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};yi.useCacheRefresh=mt,yi.useMemoCache=mt,yi.useHostTransitionStatus=mt,yi.useFormState=mt,yi.useActionState=mt,yi.useOptimistic=mt;var Ks={readContext:Yt,use:vc,useCallback:function(n,r){return fn().memoizedState=[n,r===void 0?null:r],n},useContext:Yt,useEffect:My,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,Tc(4194308,4,Ly.bind(null,r,n),a)},useLayoutEffect:function(n,r){return Tc(4194308,4,n,r)},useInsertionEffect:function(n,r){Tc(4,2,n,r)},useMemo:function(n,r){var a=fn();r=r===void 0?null:r;var l=n();if(Gs){ri(!0);try{n()}finally{ri(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=fn();if(a!==void 0){var f=a(r);if(Gs){ri(!0);try{a(r)}finally{ri(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=bA.bind(null,xe,n),[l.memoizedState,n]},useRef:function(n){var r=fn();return n={current:n},r.memoizedState=n},useState:function(n){n=id(n);var r=n.queue,a=Ky.bind(null,xe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(n,r){var a=fn();return od(a,n,r)},useTransition:function(){var n=id(!1);return n=By.bind(null,xe,n.queue,!0,!1),fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=xe,f=fn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Be&60)!==0||yy(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,My(vy.bind(null,l,m,n),[n]),l.flags|=2048,$a(9,_y.bind(null,l,m,a,r),{destroy:void 0},null),a},useId:function(){var n=fn(),r=Je.identifierPrefix;if(Ge){var a=qi,l=Bi;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=yc++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=vA++,r=":"+r+"r"+a.toString(32)+":";return n.memoizedState=r},useCacheRefresh:function(){return fn().memoizedState=AA.bind(null,xe)}};Ks.useMemoCache=ed,Ks.useHostTransitionStatus=ud,Ks.useFormState=Iy,Ks.useActionState=Iy,Ks.useOptimistic=function(n){var r=fn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=cd.bind(null,xe,!0,a),a.dispatch=r,[n,r]};var Lr={readContext:Yt,use:vc,useCallback:Uy,useContext:Yt,useEffect:sd,useImperativeHandle:Py,useInsertionEffect:Vy,useLayoutEffect:ky,useMemo:jy,useReducer:Ec,useRef:Oy,useState:function(){return Ec(Fi)},useDebugValue:ad,useDeferredValue:function(n,r){var a=vt();return zy(a,Xe.memoizedState,n,r)},useTransition:function(){var n=Ec(Fi)[0],r=vt().memoizedState;return[typeof n=="boolean"?n:yl(n),r]},useSyncExternalStore:gy,useId:Fy};Lr.useCacheRefresh=Gy,Lr.useMemoCache=ed,Lr.useHostTransitionStatus=ud,Lr.useFormState=Ny,Lr.useActionState=Ny,Lr.useOptimistic=function(n,r){var a=vt();return wy(a,Xe,n,r)};var $s={readContext:Yt,use:vc,useCallback:Uy,useContext:Yt,useEffect:sd,useImperativeHandle:Py,useInsertionEffect:Vy,useLayoutEffect:ky,useMemo:jy,useReducer:nd,useRef:Oy,useState:function(){return nd(Fi)},useDebugValue:ad,useDeferredValue:function(n,r){var a=vt();return Xe===null?od(a,n,r):zy(a,Xe.memoizedState,n,r)},useTransition:function(){var n=nd(Fi)[0],r=vt().memoizedState;return[typeof n=="boolean"?n:yl(n),r]},useSyncExternalStore:gy,useId:Fy};$s.useCacheRefresh=Gy,$s.useMemoCache=ed,$s.useHostTransitionStatus=ud,$s.useFormState=xy,$s.useActionState=xy,$s.useOptimistic=function(n,r){var a=vt();return Xe!==null?wy(a,Xe,n,r):(a.baseState=n,[n,a.queue.dispatch])};function hd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:I({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var fd={isMounted:function(n){return(n=n._reactInternals)?ue(n)===n:!1},enqueueSetState:function(n,r,a){n=n._reactInternals;var l=An(),f=jr(l);f.payload=r,a!=null&&(f.callback=a),r=zr(n,f,l),r!==null&&(ln(r,n,l),Tl(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=An(),f=jr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=zr(n,f,l),r!==null&&(ln(r,n,l),Tl(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=An(),l=jr(a);l.tag=2,r!=null&&(l.callback=r),r=zr(n,l,a),r!==null&&(ln(r,n,a),Tl(r,n,a))}};function Yy(n,r,a,l,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,E):r.prototype&&r.prototype.isPureReactComponent?!sl(a,l)||!sl(f,m):!0}function Xy(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&fd.enqueueReplaceState(r,r.state,null)}function Qs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=I({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Ac=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Wy(n){Ac(n)}function Zy(n){console.error(n)}function Jy(n){Ac(n)}function bc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function e_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dd(n,r,a){return a=jr(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(n,r)},a}function t_(n){return n=jr(n),n.tag=3,n}function n_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;n.payload=function(){return f(m)},n.callback=function(){e_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){e_(r,a,l),typeof f!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function RA(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&El(r,a,f,!0),a=Un.current,a!==null){switch(a.tag){case 13:return gi===null?Qd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Hf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Xd(n,l,f)),!1;case 22:return a.flags|=65536,l===Hf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Xd(n,l,f)),!1}throw Error(s(435,a.tag))}return Xd(n,l,f),Qd(),!1}if(Ge)return r=Un.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==qf&&(n=Error(s(422),{cause:l}),ul(kn(n,a)))):(l!==qf&&(r=Error(s(423),{cause:l}),ul(kn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=kn(l,a),f=dd(n.stateNode,l,f),Id(n,f),ht!==4&&(ht=2)),!1;var m=Error(s(520),{cause:l});if(m=kn(m,a),Nl===null?Nl=[m]:Nl.push(m),ht!==4&&(ht=2),r===null)return!0;l=kn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=dd(a.stateNode,l,n),Id(a,n),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Kr===null||!Kr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=t_(f),n_(f,n,a,l),Id(a,f),!1}a=a.return}while(a!==null);return!1}var i_=Error(s(461)),kt=!1;function qt(n,r,a,l){r.child=n===null?ly(r,null,a,l):Hs(r,n.child,a,l)}function r_(n,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Xs(r),l=Xf(n,r,a,E,m,f),w=Wf(),n!==null&&!kt?(Zf(n,r,f),Gi(n,r,f)):(Ge&&w&&zf(r),r.flags|=1,qt(n,r,l,f),r.child)}function s_(n,r,a,l,f){if(n===null){var m=a.type;return typeof m=="function"&&!Ld(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,a_(n,r,m,l,f)):(n=Dc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!wd(n,f)){var E=m.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(E,l)&&n.ref===r.ref)return Gi(n,r,f)}return r.flags|=1,n=Fr(m,l),n.ref=r.ref,n.return=r,r.child=n}function a_(n,r,a,l,f){if(n!==null){var m=n.memoizedProps;if(sl(m,l)&&n.ref===r.ref)if(kt=!1,r.pendingProps=l=m,wd(n,f))(n.flags&131072)!==0&&(kt=!0);else return r.lanes=n.lanes,Gi(n,r,f)}return md(n,r,a,l,f)}function o_(n,r,a){var l=r.pendingProps,f=l.children,m=(r.stateNode._pendingVisibility&2)!==0,E=n!==null?n.memoizedState:null;if(vl(n,r),l.mode==="hidden"||m){if((r.flags&128)!==0){if(l=E!==null?E.baseLanes|a:a,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return l_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&pc(r,E!==null?E.cachePool:null),E!==null?uy(r,E):Ff(),cy(r);else return r.lanes=r.childLanes=536870912,l_(n,r,E!==null?E.baseLanes|a:a,a)}else E!==null?(pc(r,E.cachePool),uy(r,E),Vr(),r.memoizedState=null):(n!==null&&pc(r,null),Ff(),Vr());return qt(n,r,f,a),r.child}function l_(n,r,a,l){var f=Qf();return f=f===null?null:{parent:It._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&pc(r,null),Ff(),cy(r),n!==null&&El(n,r,l,!0),null}function vl(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=2097664)}}function md(n,r,a,l,f){return Xs(r),a=Xf(n,r,a,l,void 0,f),l=Wf(),n!==null&&!kt?(Zf(n,r,f),Gi(n,r,f)):(Ge&&l&&zf(r),r.flags|=1,qt(n,r,a,f),r.child)}function u_(n,r,a,l,f,m){return Xs(r),r.updateQueue=null,a=py(r,l,a,f),my(n),l=Wf(),n!==null&&!kt?(Zf(n,r,m),Gi(n,r,m)):(Ge&&l&&zf(r),r.flags|=1,qt(n,r,a,m),r.child)}function c_(n,r,a,l,f){if(Xs(r),r.stateNode===null){var m=Ua,E=a.contextType;typeof E=="object"&&E!==null&&(m=Yt(E)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=fd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},Rd(r),E=a.contextType,m.context=typeof E=="object"&&E!==null?Yt(E):Ua,m.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(hd(r,a,E,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&fd.enqueueReplaceState(m,m.state,null),Sl(r,l,m,f),wl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var w=r.memoizedProps,N=Qs(a,w);m.props=N;var U=m.context,W=a.contextType;E=Ua,typeof W=="object"&&W!==null&&(E=Yt(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||U!==E)&&Xy(r,m,l,E),Ur=!1;var G=r.memoizedState;m.state=G,Sl(r,l,m,f),wl(),U=r.memoizedState,w||G!==U||Ur?(typeof ne=="function"&&(hd(r,a,ne,l),U=r.memoizedState),(N=Ur||Yy(r,a,N,l,G,U,E))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),m.props=l,m.state=U,m.context=E,l=N):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Cd(n,r),E=r.memoizedProps,W=Qs(a,E),m.props=W,ne=r.pendingProps,G=m.context,U=a.contextType,N=Ua,typeof U=="object"&&U!==null&&(N=Yt(U)),w=a.getDerivedStateFromProps,(U=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ne||G!==N)&&Xy(r,m,l,N),Ur=!1,G=r.memoizedState,m.state=G,Sl(r,l,m,f),wl();var Y=r.memoizedState;E!==ne||G!==Y||Ur||n!==null&&n.dependencies!==null&&Rc(n.dependencies)?(typeof w=="function"&&(hd(r,a,w,l),Y=r.memoizedState),(W=Ur||Yy(r,a,W,l,G,Y,N)||n!==null&&n.dependencies!==null&&Rc(n.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Y,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Y,N)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),m.props=l,m.state=Y,m.context=N,l=W):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,vl(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=Hs(r,n.child,null,f),r.child=Hs(r,null,a,f)):qt(n,r,a,f),r.memoizedState=m.state,n=r.child):n=Gi(n,r,f),n}function h_(n,r,a,l){return ll(),r.flags|=256,qt(n,r,a,l),r.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function gd(n){return{baseLanes:n,cachePool:dy()}}function yd(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=qn),n}function f_(n,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(Ct.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ge){if(f?Mr(r):Vr(),Ge){var w=Bt,N;if(N=w){e:{for(N=w,w=pi;N.nodeType!==8;){if(!w){w=null;break e}if(N=Xn(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(r.memoizedState={dehydrated:w,treeContext:zs!==null?{id:Bi,overflow:qi}:null,retryLane:536870912},N=Bn(18,null,null,0),N.stateNode=w,N.return=r,r.child=N,on=r,Bt=null,N=!0):N=!1}N||qs(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?r.lanes=16:r.lanes=536870912,null;Hi(r)}return w=l.children,l=l.fallback,f?(Vr(),f=r.mode,w=vd({mode:"hidden",children:w},f),l=Zs(l,f,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,f=r.child,f.memoizedState=gd(a),f.childLanes=yd(n,E,a),r.memoizedState=pd,l):(Mr(r),_d(r,w))}if(N=n.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(m)r.flags&256?(Mr(r),r.flags&=-257,r=Ed(n,r,a)):r.memoizedState!==null?(Vr(),r.child=n.child,r.flags|=128,r=null):(Vr(),f=l.fallback,w=r.mode,l=vd({mode:"visible",children:l.children},w),f=Zs(f,w,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Hs(r,n.child,null,a),l=r.child,l.memoizedState=gd(a),l.childLanes=yd(n,E,a),r.memoizedState=pd,r=f);else if(Mr(r),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var U=E.dgst;E=U,l=Error(s(419)),l.stack="",l.digest=E,ul({value:l,source:null,stack:null}),r=Ed(n,r,a)}else if(kt||El(n,r,a,!1),E=(a&n.childLanes)!==0,kt||E){if(E=Je,E!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane)throw N.retryLane=l,Or(n,l),ln(E,n,l),i_}w.data==="$?"||Qd(),r=Ed(n,r,a)}else w.data==="$?"?(r.flags|=128,r.child=n.child,r=BA.bind(null,n),w._reactRetry=r,r=null):(n=N.treeContext,Bt=Xn(w.nextSibling),on=r,Ge=!0,Qn=null,pi=!1,n!==null&&(Ln[Pn++]=Bi,Ln[Pn++]=qi,Ln[Pn++]=zs,Bi=n.id,qi=n.overflow,zs=r),r=_d(r,l.children),r.flags|=4096);return r}return f?(Vr(),f=l.fallback,w=r.mode,N=n.child,U=N.sibling,l=Fr(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&31457280,U!==null?f=Fr(U,f):(f=Zs(f,w,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,w=n.child.memoizedState,w===null?w=gd(a):(N=w.cachePool,N!==null?(U=It._currentValue,N=N.parent!==U?{parent:U,pool:U}:N):N=dy(),w={baseLanes:w.baseLanes|a,cachePool:N}),f.memoizedState=w,f.childLanes=yd(n,E,a),r.memoizedState=pd,l):(Mr(r),a=n.child,n=a.sibling,a=Fr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function _d(n,r){return r=vd({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function vd(n,r){return U_(n,r,0,null)}function Ed(n,r,a){return Hs(r,n.child,null,a),n=_d(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function d_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Ad(n.return,r,a)}function Td(n,r,a,l,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function m_(n,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(qt(n,r,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&d_(n,a,r);else if(n.tag===19)d_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Ye(Ct,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&mc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Td(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&mc(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Td(r,!0,a,null,m);break;case"together":Td(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Gi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Gr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(El(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Fr(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Fr(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function wd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Rc(n)))}function CA(n,r,a){switch(r.tag){case 3:gr(r,r.stateNode.containerInfo),Pr(r,It,n.memoizedState.cache),ll();break;case 27:case 5:Uo(r);break;case 4:gr(r,r.stateNode.containerInfo);break;case 10:Pr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Mr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?f_(n,r,a):(Mr(r),n=Gi(n,r,a),n!==null?n.sibling:null);Mr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(El(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return m_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ye(Ct,Ct.current),l)break;return null;case 22:case 23:return r.lanes=0,o_(n,r,a);case 24:Pr(r,It,n.memoizedState.cache)}return Gi(n,r,a)}function p_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)kt=!0;else{if(!wd(n,a)&&(r.flags&128)===0)return kt=!1,CA(n,r,a);kt=(n.flags&131072)!==0}else kt=!1,Ge&&(r.flags&1048576)!==0&&Jg(r,uc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Ld(l)?(n=Qs(l,n),r.tag=1,r=c_(null,r,l,n,a)):(r.tag=0,r=md(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===D){r.tag=11,r=r_(null,r,l,n,a);break e}else if(f===K){r.tag=14,r=s_(null,r,l,n,a);break e}}throw r=C(l)||l,Error(s(306,r,""))}}return r;case 0:return md(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Qs(l,r.pendingProps),c_(n,r,l,f,a);case 3:e:{if(gr(r,r.stateNode.containerInfo),n===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,l=f.element,Cd(n,r),Sl(r,m,null,a);var E=r.memoizedState;if(m=E.cache,Pr(r,It,m),m!==f.cache&&bd(r,[It],a,!0),wl(),m=E.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=h_(n,r,m,a);break e}else if(m!==l){l=kn(Error(s(424)),r),ul(l),r=h_(n,r,m,a);break e}else for(Bt=Xn(r.stateNode.containerInfo.firstChild),on=r,Ge=!0,Qn=null,pi=!0,a=ly(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ll(),m===l){r=Gi(n,r,a);break e}qt(n,r,m,a)}r=r.child}return r;case 26:return vl(n,r),n===null?(a=_v(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,n=r.pendingProps,l=qc(Cn.current).createElement(a),l[Ot]=r,l[At]=n,Ht(l,a,n),rt(l),r.stateNode=l):r.memoizedState=_v(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Uo(r),n===null&&Ge&&(l=r.stateNode=pv(r.type,r.pendingProps,Cn.current),on=r,pi=!0,Bt=Xn(l.firstChild)),l=r.pendingProps.children,n!==null||Ge?qt(n,r,l,a):r.child=Hs(r,null,l,a),vl(n,r),r.child;case 5:return n===null&&Ge&&((f=l=Bt)&&(l=ib(l,r.type,r.pendingProps,pi),l!==null?(r.stateNode=l,on=r,Bt=Xn(l.firstChild),pi=!1,f=!0):f=!1),f||qs(r)),Uo(r),f=r.type,m=r.pendingProps,E=n!==null?n.memoizedProps:null,l=m.children,lm(f,m)?l=null:E!==null&&lm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Xf(n,r,EA,null,null,a),Ul._currentValue=f),vl(n,r),qt(n,r,l,a),r.child;case 6:return n===null&&Ge&&((n=a=Bt)&&(a=rb(a,r.pendingProps,pi),a!==null?(r.stateNode=a,on=r,Bt=null,n=!0):n=!1),n||qs(r)),null;case 13:return f_(n,r,a);case 4:return gr(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Hs(r,null,l,a):qt(n,r,l,a),r.child;case 11:return r_(n,r,r.type,r.pendingProps,a);case 7:return qt(n,r,r.pendingProps,a),r.child;case 8:return qt(n,r,r.pendingProps.children,a),r.child;case 12:return qt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Pr(r,r.type,l.value),qt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Xs(r),f=Yt(f),l=l(f),r.flags|=1,qt(n,r,l,a),r.child;case 14:return s_(n,r,r.type,r.pendingProps,a);case 15:return a_(n,r,r.type,r.pendingProps,a);case 19:return m_(n,r,a);case 22:return o_(n,r,a);case 24:return Xs(r),l=Yt(It),n===null?(f=Qf(),f===null&&(f=Je,m=Kf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},Rd(r),Pr(r,It,f)):((n.lanes&a)!==0&&(Cd(n,r),Sl(r,null,null,a),wl()),f=n.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Pr(r,It,l)):(l=m.cache,Pr(r,It,l),l!==f.cache&&bd(r,[It],a,!0))),qt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Sd=He(null),Ys=null,Ki=null;function Pr(n,r,a){Ye(Sd,r._currentValue),r._currentValue=a}function $i(n){n._currentValue=Sd.current,lt(Sd)}function Ad(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function bd(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var N=0;N<r.length;N++)if(w.context===r[N]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),Ad(m.return,a,n),l||(E=null);break e}m=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,m=E.alternate,m!==null&&(m.lanes|=a),Ad(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function El(n,r,a,l){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=f.type;En(f.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(f===pr.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ul):n=[Ul])}f=f.return}n!==null&&bd(r,n,a,l),r.flags|=262144}function Rc(n){for(n=n.firstContext;n!==null;){if(!En(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Xs(n){Ys=n,Ki=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return g_(Ys,n)}function Cc(n,r){return Ys===null&&Xs(n),g_(n,r)}function g_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ki===null){if(n===null)throw Error(s(308));Ki=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Ki=Ki.next=r;return a}var Ur=!1;function Rd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function jr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function zr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(at&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=oc(n),Wg(n,null,a),r}return ac(n,l,r,a),oc(n)}function Tl(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,wr(n,a)}}function Id(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Nd=!1;function wl(){if(Nd){var n=Fa;if(n!==null)throw n}}function Sl(n,r,a,l){Nd=!1;var f=n.updateQueue;Ur=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,U=N.next;N.next=null,E===null?m=U:E.next=U,E=N;var W=n.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==E&&(w===null?W.firstBaseUpdate=U:w.next=U,W.lastBaseUpdate=N))}if(m!==null){var ne=f.baseState;E=0,W=U=N=null,w=m;do{var G=w.lane&-536870913,Y=G!==w.lane;if(Y?(Be&G)===G:(l&G)===G){G!==0&&G===Ha&&(Nd=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ye=n,Ae=w;G=r;var ft=a;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){ne=ye.call(ft,ne,G);break e}ne=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,G=typeof ye=="function"?ye.call(ft,ne,G):ye,G==null)break e;ne=I({},ne,G);break e;case 2:Ur=!0}}G=w.callback,G!==null&&(n.flags|=64,Y&&(n.flags|=8192),Y=f.callbacks,Y===null?f.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(U=W=Y,N=ne):W=W.next=Y,E|=G;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,f.lastBaseUpdate=Y,f.shared.pending=null}}while(!0);W===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=U,f.lastBaseUpdate=W,m===null&&(f.shared.lanes=0),Gr|=E,n.lanes=E,n.memoizedState=ne}}function y_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function __(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)y_(a[n],r)}function Al(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var m=a.create,E=a.inst;l=m(),E.destroy=l}a=a.next}while(a!==f)}}catch(w){Ze(r,r.return,w)}}function Br(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&n)===n){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=r;var N=a;try{w()}catch(U){Ze(f,N,U)}}}l=l.next}while(l!==m)}}catch(U){Ze(r,r.return,U)}}function v_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{__(r,a)}catch(l){Ze(n,n.return,l)}}}function E_(n,r,a){a.props=Qs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(n,r,l)}}function Ws(n,r){try{var a=n.ref;if(a!==null){var l=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?n.refCleanup=a(f):a.current=f}}catch(m){Ze(n,r,m)}}function Tn(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Ze(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Ze(n,r,f)}else a.current=null}function T_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Ze(n,n.return,f)}}function w_(n,r,a){try{var l=n.stateNode;ZA(l,n.type,a,r),l[At]=r}catch(f){Ze(n,n.return,f)}}function S_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function Dd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||S_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(n,r):a.insertBefore(n,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(n,a)):(r=a,r.appendChild(n)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Bc));else if(l!==4&&l!==27&&(n=n.child,n!==null))for(xd(n,r,a),n=n.sibling;n!==null;)xd(n,r,a),n=n.sibling}function Ic(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&l!==27&&(n=n.child,n!==null))for(Ic(n,r,a),n=n.sibling;n!==null;)Ic(n,r,a),n=n.sibling}var Qi=!1,ct=!1,Od=!1,A_=typeof WeakSet=="function"?WeakSet:Set,Lt=null,b_=!1;function IA(n,r){if(n=n.containerInfo,am=Qc,n=qg(n),Vf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var E=0,w=-1,N=-1,U=0,W=0,ne=n,G=null;t:for(;;){for(var Y;ne!==a||f!==0&&ne.nodeType!==3||(w=E+f),ne!==m||l!==0&&ne.nodeType!==3||(N=E+l),ne.nodeType===3&&(E+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)G=ne,ne=Y;for(;;){if(ne===n)break t;if(G===a&&++U===f&&(w=E),G===m&&++W===l&&(N=E),(Y=ne.nextSibling)!==null)break;ne=G,G=ne.parentNode}ne=Y}a=w===-1||N===-1?null:{start:w,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:n,selectionRange:a},Qc=!1,Lt=r;Lt!==null;)if(r=Lt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Lt=n;else for(;Lt!==null;){switch(r=Lt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var ye=Qs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(ye,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){Ze(a,a.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)hm(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}return ye=b_,b_=!1,ye}function R_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(n,a),l&4&&Al(5,a);break;case 1:if(Xi(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(w){Ze(a,a.return,w)}else{var f=Qs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(w){Ze(a,a.return,w)}}l&64&&v_(a),l&512&&Ws(a,a.return);break;case 3:if(Xi(n,a),l&64&&(l=a.updateQueue,l!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{__(l,n)}catch(w){Ze(a,a.return,w)}}break;case 26:Xi(n,a),l&512&&Ws(a,a.return);break;case 27:case 5:Xi(n,a),r===null&&l&4&&T_(a),l&512&&Ws(a,a.return);break;case 12:Xi(n,a);break;case 13:Xi(n,a),l&4&&N_(n,a);break;case 22:if(f=a.memoizedState!==null||Qi,!f){r=r!==null&&r.memoizedState!==null||ct;var m=Qi,E=ct;Qi=f,(ct=r)&&!E?qr(n,a,(a.subtreeFlags&8772)!==0):Xi(n,a),Qi=m,ct=E}l&512&&(a.memoizedProps.mode==="manual"?Ws(a,a.return):Tn(a,a.return));break;default:Xi(n,a)}}function C_(n){var r=n.alternate;r!==null&&(n.alternate=null,C_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Cs(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Et=null,wn=!1;function Yi(n,r,a){for(a=a.child;a!==null;)I_(n,r,a),a=a.sibling}function I_(n,r,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(yr,a)}catch{}switch(a.tag){case 26:ct||Tn(a,r),Yi(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||Tn(a,r);var l=Et,f=wn;for(Et=a.stateNode,Yi(n,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);Cs(a),Et=l,wn=f;break;case 5:ct||Tn(a,r);case 6:f=Et;var m=wn;if(Et=null,Yi(n,r,a),Et=f,wn=m,Et!==null)if(wn)try{n=Et,l=a.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)}catch(E){Ze(a,r,E)}else try{Et.removeChild(a.stateNode)}catch(E){Ze(a,r,E)}break;case 18:Et!==null&&(wn?(r=Et,a=a.stateNode,r.nodeType===8?cm(r.parentNode,a):r.nodeType===1&&cm(r,a),ql(r)):cm(Et,a.stateNode));break;case 4:l=Et,f=wn,Et=a.stateNode.containerInfo,wn=!0,Yi(n,r,a),Et=l,wn=f;break;case 0:case 11:case 14:case 15:ct||Br(2,a,r),ct||Br(4,a,r),Yi(n,r,a);break;case 1:ct||(Tn(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&E_(a,r,l)),Yi(n,r,a);break;case 21:Yi(n,r,a);break;case 22:ct||Tn(a,r),ct=(l=ct)||a.memoizedState!==null,Yi(n,r,a),ct=l;break;default:Yi(n,r,a)}}function N_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ql(n)}catch(a){Ze(r,r.return,a)}}function NA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new A_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new A_),r;default:throw Error(s(435,n.tag))}}function Md(n,r){var a=NA(n);r.forEach(function(l){var f=qA.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function jn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=n,E=r,w=E;e:for(;w!==null;){switch(w.tag){case 27:case 5:Et=w.stateNode,wn=!1;break e;case 3:Et=w.stateNode.containerInfo,wn=!0;break e;case 4:Et=w.stateNode.containerInfo,wn=!0;break e}w=w.return}if(Et===null)throw Error(s(160));I_(m,E,f),Et=null,wn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)D_(r,n),r=r.sibling}var Yn=null;function D_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:jn(r,n),zn(n),l&4&&(Br(3,n,n.return),Al(3,n),Br(5,n,n.return));break;case 1:jn(r,n),zn(n),l&512&&(ct||a===null||Tn(a,a.return)),l&64&&Qi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Yn;if(jn(r,n),zn(n),l&512&&(ct||a===null||Tn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ar]||m[Ot]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),Ht(m,l,a),m[Ot]=n,rt(m),l=m;break e;case"link":var E=Tv("link","href",f).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}m=f.createElement(l),Ht(m,l,a),f.head.appendChild(m);break;case"meta":if(E=Tv("meta","content",f).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}m=f.createElement(l),Ht(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Ot]=n,rt(m),l=m}n.stateNode=l}else wv(f,n.type,n.stateNode);else n.stateNode=Ev(f,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?wv(f,n.type,n.stateNode):Ev(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&w_(n,n.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&n.alternate===null){f=n.stateNode,m=n.memoizedProps;try{for(var N=f.firstChild;N;){var U=N.nextSibling,W=N.nodeName;N[Ar]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=U}for(var ne=n.type,G=f.attributes;G.length;)f.removeAttributeNode(G[0]);Ht(f,ne,m),f[Ot]=n,f[At]=m}catch(ye){Ze(n,n.return,ye)}}case 5:if(jn(r,n),zn(n),l&512&&(ct||a===null||Tn(a,a.return)),n.flags&32){f=n.stateNode;try{Dn(f,"")}catch(ye){Ze(n,n.return,ye)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,w_(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Od=!0);break;case 6:if(jn(r,n),zn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(ye){Ze(n,n.return,ye)}}break;case 3:if(Gc=null,f=Yn,Yn=Hc(r.containerInfo),jn(r,n),Yn=f,zn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(r.containerInfo)}catch(ye){Ze(n,n.return,ye)}Od&&(Od=!1,x_(n));break;case 4:l=Yn,Yn=Hc(n.stateNode.containerInfo),jn(r,n),zn(n),Yn=l;break;case 12:jn(r,n),zn(n);break;case 13:jn(r,n),zn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qd=cn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Md(n,l)));break;case 22:if(l&512&&(ct||a===null||Tn(a,a.return)),N=n.memoizedState!==null,U=a!==null&&a.memoizedState!==null,W=Qi,ne=ct,Qi=W||N,ct=ne||U,jn(r,n),ct=ne,Qi=W,zn(n),r=n.stateNode,r._current=n,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=N?r._visibility&-2:r._visibility|1,N&&(r=Qi||ct,a===null||U||r||Qa(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(a=null,r=n;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){U=a=r;try{if(f=U.stateNode,N)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{E=U.stateNode,w=U.memoizedProps.style;var Y=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ye){Ze(U,U.return,ye)}}}else if(r.tag===6){if(a===null){U=r;try{U.stateNode.nodeValue=N?"":U.memoizedProps}catch(ye){Ze(U,U.return,ye)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Md(n,a))));break;case 19:jn(r,n),zn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Md(n,l)));break;case 21:break;default:jn(r,n),zn(n)}}function zn(n){var r=n.flags;if(r&2){try{if(n.tag!==27){e:{for(var a=n.return;a!==null;){if(S_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,m=Dd(n);Ic(n,m,f);break;case 5:var E=l.stateNode;l.flags&32&&(Dn(E,""),l.flags&=-33);var w=Dd(n);Ic(n,w,E);break;case 3:case 4:var N=l.stateNode.containerInfo,U=Dd(n);xd(n,U,N);break;default:throw Error(s(161))}}}catch(W){Ze(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function x_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;x_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Xi(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)R_(n,r.alternate,r),r=r.sibling}function Qa(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Br(4,r,r.return),Qa(r);break;case 1:Tn(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&E_(r,r.return,a),Qa(r);break;case 26:case 27:case 5:Tn(r,r.return),Qa(r);break;case 22:Tn(r,r.return),r.memoizedState===null&&Qa(r);break;default:Qa(r)}n=n.sibling}}function qr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:qr(f,m,a),Al(4,m);break;case 1:if(qr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(U){Ze(l,l.return,U)}if(l=m,f=l.updateQueue,f!==null){var w=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)y_(N[f],w)}catch(U){Ze(l,l.return,U)}}a&&E&64&&v_(m),Ws(m,m.return);break;case 26:case 27:case 5:qr(f,m,a),a&&l===null&&E&4&&T_(m),Ws(m,m.return);break;case 12:qr(f,m,a);break;case 13:qr(f,m,a),a&&E&4&&N_(f,m);break;case 22:m.memoizedState===null&&qr(f,m,a),Ws(m,m.return);break;default:qr(f,m,a)}r=r.sibling}}function Vd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ml(a))}function kd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ml(n))}function Hr(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)O_(n,r,a,l),r=r.sibling}function O_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Hr(n,r,a,l),f&2048&&Al(9,r);break;case 3:Hr(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&ml(n)));break;case 12:if(f&2048){Hr(n,r,a,l),n=r.stateNode;try{var m=r.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){Ze(r,r.return,N)}}else Hr(n,r,a,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?Hr(n,r,a,l):bl(n,r):m._visibility&4?Hr(n,r,a,l):(m._visibility|=4,Ya(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Vd(r.alternate,r);break;case 24:Hr(n,r,a,l),f&2048&&kd(r.alternate,r);break;default:Hr(n,r,a,l)}}function Ya(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,E=r,w=a,N=l,U=E.flags;switch(E.tag){case 0:case 11:case 15:Ya(m,E,w,N,f),Al(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&4?Ya(m,E,w,N,f):bl(m,E):(W._visibility|=4,Ya(m,E,w,N,f)),f&&U&2048&&Vd(E.alternate,E);break;case 24:Ya(m,E,w,N,f),f&&U&2048&&kd(E.alternate,E);break;default:Ya(m,E,w,N,f)}r=r.sibling}}function bl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:bl(a,l),f&2048&&Vd(l.alternate,l);break;case 24:bl(a,l),f&2048&&kd(l.alternate,l);break;default:bl(a,l)}r=r.sibling}}var Rl=8192;function Xa(n){if(n.subtreeFlags&Rl)for(n=n.child;n!==null;)M_(n),n=n.sibling}function M_(n){switch(n.tag){case 26:Xa(n),n.flags&Rl&&n.memoizedState!==null&&yb(Yn,n.memoizedState,n.memoizedProps);break;case 5:Xa(n);break;case 3:case 4:var r=Yn;Yn=Hc(n.stateNode.containerInfo),Xa(n),Yn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Rl,Rl=16777216,Xa(n),Rl=r):Xa(n));break;default:Xa(n)}}function V_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Cl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,L_(l,n)}V_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)k_(n),n=n.sibling}function k_(n){switch(n.tag){case 0:case 11:case 15:Cl(n),n.flags&2048&&Br(9,n,n.return);break;case 3:Cl(n);break;case 12:Cl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&4&&(n.return===null||n.return.tag!==13)?(r._visibility&=-5,Nc(n)):Cl(n);break;default:Cl(n)}}function Nc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,L_(l,n)}V_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Br(8,r,r.return),Nc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Nc(r));break;default:Nc(r)}n=n.sibling}}function L_(n,r){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Br(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=n;Lt!==null;){l=Lt;var f=l.sibling,m=l.return;if(C_(l),l===a){Lt=null;break e}if(f!==null){f.return=m,Lt=f;break e}Lt=m}}}function DA(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(n,r,a,l){return new DA(n,r,a,l)}function Ld(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fr(n,r){var a=n.alternate;return a===null?(a=Bn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&31457280,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function P_(n,r){n.flags&=31457282;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Dc(n,r,a,l,f,m){var E=0;if(l=n,typeof n=="function")Ld(n)&&(E=1);else if(typeof n=="string")E=pb(n,a,nn.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case p:return Zs(a.children,f,m,r);case g:E=8,f|=24;break;case v:return n=Bn(12,a,r,f|2),n.elementType=v,n.lanes=m,n;case q:return n=Bn(13,a,r,f),n.elementType=q,n.lanes=m,n;case k:return n=Bn(19,a,r,f),n.elementType=k,n.lanes=m,n;case X:return U_(a,f,m,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case x:E=10;break e;case R:E=9;break e;case D:E=11;break e;case K:E=14;break e;case Z:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Bn(E,a,r,f),r.elementType=n,r.type=l,r.lanes=m,r}function Zs(n,r,a,l){return n=Bn(7,n,l,r),n.lanes=a,n}function U_(n,r,a,l){n=Bn(22,n,l,r),n.elementType=X,n.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var E=Or(m,2);E!==null&&(f._pendingVisibility|=2,ln(E,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var E=Or(m,2);E!==null&&(f._pendingVisibility&=-3,ln(E,m,2))}}};return n.stateNode=f,n}function Pd(n,r,a){return n=Bn(6,n,null,r),n.lanes=a,n}function Ud(n,r,a){return r=Bn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Wi(n){n.flags|=4}function j_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Sv(r)){if(r=Un.current,r!==null&&((Be&4194176)===Be?gi!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==gi))throw hl=Hf,ny;n.flags|=8192}}function xc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Er():536870912,n.lanes|=r,Za|=r)}function Il(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function st(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function xA(n,r,a){var l=r.pendingProps;switch(Bf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return st(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),$i(It),Di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(ol(r)?Wi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Qn!==null&&(Kd(Qn),Qn=null))),st(r),null;case 26:return a=r.memoizedState,n===null?(Wi(r),a!==null?(st(r),j_(r,a)):(st(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Wi(r),st(r),j_(r,a)):(st(r),r.flags&=-16777217):(n.memoizedProps!==l&&Wi(r),st(r),r.flags&=-16777217),null;case 27:ya(r),a=Cn.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}n=nn.current,ol(r)?ey(r):(n=pv(f,l,a),r.stateNode=n,Wi(r))}return st(r),null;case 5:if(ya(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return st(r),null}if(n=nn.current,ol(r))ey(r);else{switch(f=qc(Cn.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Ot]=r,n[At]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Ht(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Wi(r)}}return st(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Wi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Cn.current,ol(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=on,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Ot]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||uv(n.nodeValue,a)),n||qs(r)}else n=qc(n).createTextNode(l),n[Ot]=r,r.stateNode=n}return st(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=ol(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ot]=r}else ll(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),f=!1}else Qn!==null&&(Kd(Qn),Qn=null),f=!0;if(!f)return r.flags&256?(Hi(r),r):(Hi(r),null)}if(Hi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),xc(r,r.updateQueue),st(r),null;case 4:return Di(),n===null&&im(r.stateNode.containerInfo),st(r),null;case 10:return $i(r.type),st(r),null;case 19:if(lt(Ct),f=r.memoizedState,f===null)return st(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Il(f,!1);else{if(ht!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=mc(n),m!==null){for(r.flags|=128,Il(f,!1),n=m.updateQueue,r.updateQueue=n,xc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)P_(a,n),a=a.sibling;return Ye(Ct,Ct.current&1|2),r.child}n=n.sibling}f.tail!==null&&cn()>Oc&&(r.flags|=128,l=!0,Il(f,!1),r.lanes=4194304)}else{if(!l)if(n=mc(m),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,xc(r,n),Il(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ge)return st(r),null}else 2*cn()-f.renderingStartTime>Oc&&a!==536870912&&(r.flags|=128,l=!0,Il(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=cn(),r.sibling=null,n=Ct.current,Ye(Ct,l?n&1|2:n&1),r):(st(r),null);case 22:case 23:return Hi(r),Gf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),a=r.updateQueue,a!==null&&xc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&lt(Fs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),$i(It),st(r),null;case 25:return null}throw Error(s(156,r.tag))}function OA(n,r){switch(Bf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return $i(It),Di(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ya(r),null;case 13:if(Hi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ll()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return lt(Ct),null;case 4:return Di(),null;case 10:return $i(r.type),null;case 22:case 23:return Hi(r),Gf(),n!==null&&lt(Fs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return $i(It),null;case 25:return null;default:return null}}function z_(n,r){switch(Bf(r),r.tag){case 3:$i(It),Di();break;case 26:case 27:case 5:ya(r);break;case 4:Di();break;case 13:Hi(r);break;case 19:lt(Ct);break;case 10:$i(r.type);break;case 22:case 23:Hi(r),Gf(),n!==null&&lt(Fs);break;case 24:$i(It)}}var MA={getCacheForType:function(n){var r=Yt(It),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},VA=typeof WeakMap=="function"?WeakMap:Map,at=0,Je=null,Ve=null,Be=0,et=0,Sn=null,Zi=!1,Wa=!1,jd=!1,Ji=0,ht=0,Gr=0,Js=0,zd=0,qn=0,Za=0,Nl=null,_i=null,Bd=!1,qd=0,Oc=1/0,Mc=null,Kr=null,Vc=!1,ea=null,Dl=0,Hd=0,Fd=null,xl=0,Gd=null;function An(){if((at&2)!==0&&Be!==0)return Be&-Be;if(b.T!==null){var n=Ha;return n!==0?n:Jd()}return zu()}function B_(){qn===0&&(qn=(Be&536870912)===0||Ge?Ho():536870912);var n=Un.current;return n!==null&&(n.flags|=32),qn}function ln(n,r,a){(n===Je&&et===2||n.cancelPendingCommit!==null)&&(Ja(n,0),er(n,Be,qn,!1)),dt(n,a),((at&2)===0||n!==Je)&&(n===Je&&((at&2)===0&&(Js|=a),ht===4&&er(n,Be,qn,!1)),vi(n))}function q_(n,r,a){if((at&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&n.expiredLanes)===0||vr(n,r),f=l?PA(n,r):Yd(n,r,!0),m=l;do{if(f===0){Wa&&!l&&er(n,r,0,!1);break}else if(f===6)er(n,r,0,!Zi);else{if(a=n.current.alternate,m&&!kA(a)){f=Yd(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var w=n;f=Nl;var N=w.current.memoizedState.isDehydrated;if(N&&(Ja(w,E).flags|=256),E=Yd(w,E,!1),E!==2){if(jd&&!N){w.errorRecoveryDisabledLanes|=m,Js|=m,f=4;break e}m=_i,_i=f,m!==null&&Kd(m)}f=E}if(m=!1,f!==2)continue}}if(f===1){Ja(n,0),er(n,r,0,!0);break}e:{switch(l=n,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){er(l,r,qn,!Zi);break e}break;case 2:_i=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(m=qd+300-cn(),10<m)){if(er(l,r,qn,!Zi),In(l,0)!==0)break e;l.timeoutHandle=fv(H_.bind(null,l,a,_i,Mc,Bd,r,qn,Js,Za,Zi,2,-0,0),m);break e}H_(l,a,_i,Mc,Bd,r,qn,Js,Za,Zi,0,-0,0)}}break}while(!0);vi(n)}function Kd(n){_i===null?_i=n:_i.push.apply(_i,n)}function H_(n,r,a,l,f,m,E,w,N,U,W,ne,G){var Y=r.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:gb},M_(r),r=_b(),r!==null)){n.cancelPendingCommit=r(X_.bind(null,n,a,l,f,E,w,N,1,ne,G)),er(n,m,E,!U);return}X_(n,a,l,f,E,w,N,W,ne,G)}function kA(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!En(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function er(n,r,a,l){r&=~zd,r&=~Js,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var m=31-rn(f),E=1<<m;l[m]=-1,f&=~E}a!==0&&Tr(n,a,r)}function kc(){return(at&6)===0?(Ol(0),!1):!0}function $d(){if(Ve!==null){if(et===0)var n=Ve.return;else n=Ve,Ki=Ys=null,Jf(n),Ba=null,fl=0,n=Ve;for(;n!==null;)z_(n.alternate,n),n=n.return;Ve=null}}function Ja(n,r){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,eb(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),$d(),Je=n,Ve=a=Fr(n.current,null),Be=r,et=0,Sn=null,Zi=!1,Wa=vr(n,r),jd=!1,Za=qn=zd=Js=Gr=ht=0,_i=Nl=null,Bd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-rn(l),m=1<<f;r|=n[f],l&=~m}return Ji=r,sc(),a}function F_(n,r){xe=null,b.H=yi,r===cl?(r=sy(),et=3):r===ny?(r=sy(),et=4):et=r===i_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Sn=r,Ve===null&&(ht=1,bc(n,kn(r,n.current)))}function G_(){var n=b.H;return b.H=yi,n===null?yi:n}function K_(){var n=b.A;return b.A=MA,n}function Qd(){ht=4,Zi||(Be&4194176)!==Be&&Un.current!==null||(Wa=!0),(Gr&134217727)===0&&(Js&134217727)===0||Je===null||er(Je,Be,qn,!1)}function Yd(n,r,a){var l=at;at|=2;var f=G_(),m=K_();(Je!==n||Be!==r)&&(Mc=null,Ja(n,r)),r=!1;var E=ht;e:do try{if(et!==0&&Ve!==null){var w=Ve,N=Sn;switch(et){case 8:$d(),E=6;break e;case 3:case 2:case 6:Un.current===null&&(r=!0);var U=et;if(et=0,Sn=null,eo(n,w,N,U),a&&Wa){E=0;break e}break;default:U=et,et=0,Sn=null,eo(n,w,N,U)}}LA(),E=ht;break}catch(W){F_(n,W)}while(!0);return r&&n.shellSuspendCounter++,Ki=Ys=null,at=l,b.H=f,b.A=m,Ve===null&&(Je=null,Be=0,sc()),E}function LA(){for(;Ve!==null;)$_(Ve)}function PA(n,r){var a=at;at|=2;var l=G_(),f=K_();Je!==n||Be!==r?(Mc=null,Oc=cn()+500,Ja(n,r)):Wa=vr(n,r);e:do try{if(et!==0&&Ve!==null){r=Ve;var m=Sn;t:switch(et){case 1:et=0,Sn=null,eo(n,r,m,1);break;case 2:if(iy(m)){et=0,Sn=null,Q_(r);break}r=function(){et===2&&Je===n&&(et=7),vi(n)},m.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:iy(m)?(et=0,Sn=null,Q_(r)):(et=0,Sn=null,eo(n,r,m,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var w=Ve;if(!E||Sv(E)){et=0,Sn=null;var N=w.sibling;if(N!==null)Ve=N;else{var U=w.return;U!==null?(Ve=U,Lc(U)):Ve=null}break t}}et=0,Sn=null,eo(n,r,m,5);break;case 6:et=0,Sn=null,eo(n,r,m,6);break;case 8:$d(),ht=6;break e;default:throw Error(s(462))}}UA();break}catch(W){F_(n,W)}while(!0);return Ki=Ys=null,b.H=l,b.A=f,at=a,Ve!==null?0:(Je=null,Be=0,sc(),ht)}function UA(){for(;Ve!==null&&!Sf();)$_(Ve)}function $_(n){var r=p_(n.alternate,n,Ji);n.memoizedProps=n.pendingProps,r===null?Lc(n):Ve=r}function Q_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=u_(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=u_(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:Jf(r);default:z_(a,r),r=Ve=P_(r,Ji),r=p_(a,r,Ji)}n.memoizedProps=n.pendingProps,r===null?Lc(n):Ve=r}function eo(n,r,a,l){Ki=Ys=null,Jf(r),Ba=null,fl=0;var f=r.return;try{if(RA(n,f,r,a,Be)){ht=1,bc(n,kn(a,n.current)),Ve=null;return}}catch(m){if(f!==null)throw Ve=f,m;ht=1,bc(n,kn(a,n.current)),Ve=null;return}r.flags&32768?(Ge||l===1?n=!0:Wa||(Be&536870912)!==0?n=!1:(Zi=n=!0,(l===2||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),Y_(r,n)):Lc(r)}function Lc(n){var r=n;do{if((r.flags&32768)!==0){Y_(r,Zi);return}n=r.return;var a=xA(r.alternate,r,Ji);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=n}while(r!==null);ht===0&&(ht=5)}function Y_(n,r){do{var a=OA(n.alternate,n);if(a!==null){a.flags&=32767,Ve=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=a}while(n!==null);ht=6,Ve=null}function X_(n,r,a,l,f,m,E,w,N,U){var W=b.T,ne=ce.p;try{ce.p=2,b.T=null,jA(n,r,a,l,ne,f,m,E,w,N,U)}finally{b.T=W,ce.p=ne}}function jA(n,r,a,l,f,m,E,w){do to();while(ea!==null);if((at&6)!==0)throw Error(s(327));var N=n.finishedWork;if(l=n.finishedLanes,N===null)return null;if(n.finishedWork=null,n.finishedLanes=0,N===n.current)throw Error(s(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var U=N.lanes|N.childLanes;if(U|=Uf,Uu(n,l,U,m,E,w),n===Je&&(Ve=Je=null,Be=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||Vc||(Vc=!0,Hd=U,Fd=a,HA(xi,function(){return to(),null})),a=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,m=ce.p,ce.p=2,E=at,at|=4,IA(n,N),D_(N,n),uA(om,n.containerInfo),Qc=!!am,om=am=null,n.current=N,R_(n,N.alternate,N),jo(),at=E,ce.p=m,b.T=a):n.current=N,Vc?(Vc=!1,ea=n,Dl=l):W_(n,U),U=n.pendingLanes,U===0&&(Kr=null),Bo(N.stateNode),vi(n),r!==null)for(f=n.onRecoverableError,N=0;N<r.length;N++)U=r[N],f(U.value,{componentStack:U.stack});return(Dl&3)!==0&&to(),U=n.pendingLanes,(l&4194218)!==0&&(U&42)!==0?n===Gd?xl++:(xl=0,Gd=n):xl=0,Ol(0),null}function W_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,ml(r)))}function to(){if(ea!==null){var n=ea,r=Hd;Hd=0;var a=ju(Dl),l=b.T,f=ce.p;try{if(ce.p=32>a?32:a,b.T=null,ea===null)var m=!1;else{a=Fd,Fd=null;var E=ea,w=Dl;if(ea=null,Dl=0,(at&6)!==0)throw Error(s(331));var N=at;if(at|=4,k_(E.current),O_(E,E.current,w,a),at=N,Ol(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(yr,E)}catch{}m=!0}return m}finally{ce.p=f,b.T=l,W_(n,r)}}return!1}function Z_(n,r,a){r=kn(a,r),r=dd(n.stateNode,r,2),n=zr(n,r,2),n!==null&&(dt(n,2),vi(n))}function Ze(n,r,a){if(n.tag===3)Z_(n,n,a);else for(;r!==null;){if(r.tag===3){Z_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){n=kn(a,n),a=t_(2),l=zr(r,a,2),l!==null&&(n_(a,l,r,n),dt(l,2),vi(l));break}}r=r.return}}function Xd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new VA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(jd=!0,f.add(a),n=zA.bind(null,n,r,a),r.then(n,n))}function zA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Je===n&&(Be&a)===a&&(ht===4||ht===3&&(Be&62914560)===Be&&300>cn()-qd?(at&2)===0&&Ja(n,0):zd|=a,Za===Be&&(Za=0)),vi(n)}function J_(n,r){r===0&&(r=Er()),n=Or(n,r),n!==null&&(dt(n,r),vi(n))}function BA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),J_(n,a)}function qA(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),J_(n,a)}function HA(n,r){return As(n,r)}var Pc=null,no=null,Wd=!1,Uc=!1,Zd=!1,ta=0;function vi(n){n!==no&&n.next===null&&(no===null?Pc=no=n:no=no.next=n),Uc=!0,Wd||(Wd=!0,GA(FA))}function Ol(n,r){if(!Zd&&Uc){Zd=!0;do for(var a=!1,l=Pc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var E=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-rn(42|n)+1)-1,m&=f&~(E&~w),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,nv(l,m))}else m=Be,m=In(l,l===Je?m:0),(m&3)===0||vr(l,m)||(a=!0,nv(l,m));l=l.next}while(a);Zd=!1}}function FA(){Uc=Wd=!1;var n=0;ta!==0&&(JA()&&(n=ta),ta=0);for(var r=cn(),a=null,l=Pc;l!==null;){var f=l.next,m=ev(l,r);m===0?(l.next=null,a===null?Pc=f:a.next=f,f===null&&(no=a)):(a=l,(n!==0||(m&3)!==0)&&(Uc=!0)),l=f}Ol(n)}function ev(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-rn(m),w=1<<E,N=f[E];N===-1?((w&a)===0||(w&l)!==0)&&(f[E]=Ea(w,r)):N<=r&&(n.expiredLanes|=w),m&=~w}if(r=Je,a=Be,a=In(n,n===r?a:0),l=n.callbackNode,a===0||n===r&&et===2||n.cancelPendingCommit!==null)return l!==null&&l!==null&&va(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||vr(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&va(l),ju(a)){case 2:case 8:a=xt;break;case 32:a=xi;break;case 268435456:a=zo;break;default:a=xi}return l=tv.bind(null,n),a=As(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&va(l),n.callbackPriority=2,n.callbackNode=null,2}function tv(n,r){var a=n.callbackNode;if(to()&&n.callbackNode!==a)return null;var l=Be;return l=In(n,n===Je?l:0),l===0?null:(q_(n,l,r),ev(n,cn()),n.callbackNode!=null&&n.callbackNode===a?tv.bind(null,n):null)}function nv(n,r){if(to())return null;q_(n,r,!0)}function GA(n){tb(function(){(at&6)!==0?As(St,n):n()})}function Jd(){return ta===0&&(ta=Ho()),ta}function iv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:li(""+n)}function rv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function KA(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=iv((f[At]||null).action),E=l.submitter;E&&(r=(r=E[At]||null)?iv(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var w=new Ca("action","action",null,l,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var N=E?rv(f,E):new FormData(f);ld(a,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(w.preventDefault(),N=E?rv(f,E):new FormData(f),ld(a,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var em=0;em<Xg.length;em++){var tm=Xg[em],$A=tm.toLowerCase(),QA=tm[0].toUpperCase()+tm.slice(1);$n($A,"on"+QA)}$n(Gg,"onAnimationEnd"),$n(Kg,"onAnimationIteration"),$n($g,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(hA,"onTransitionRun"),$n(fA,"onTransitionStart"),$n(dA,"onTransitionCancel"),$n(Qg,"onTransitionEnd"),hn("onMouseEnter",["mouseout","mouseover"]),hn("onMouseLeave",["mouseout","mouseover"]),hn("onPointerEnter",["pointerout","pointerover"]),hn("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function sv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var E=l.length-1;0<=E;E--){var w=l[E],N=w.instance,U=w.currentTarget;if(w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=U;try{m(f)}catch(W){Ac(W)}f.currentTarget=null,m=N}else for(E=0;E<l.length;E++){if(w=l[E],N=w.instance,U=w.currentTarget,w=w.listener,N!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=U;try{m(f)}catch(W){Ac(W)}f.currentTarget=null,m=N}}}}function Pe(n,r){var a=r[Rs];a===void 0&&(a=r[Rs]=new Set);var l=n+"__bubble";a.has(l)||(av(r,n,2,!1),a.add(l))}function nm(n,r,a){var l=0;r&&(l|=4),av(a,n,l,r)}var jc="_reactListening"+Math.random().toString(36).slice(2);function im(n){if(!n[jc]){n[jc]=!0,Go.forEach(function(a){a!=="selectionchange"&&(YA.has(a)||nm(a,!1,n),nm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[jc]||(r[jc]=!0,nm("selectionchange",!1,r))}}function av(n,r,a,l){switch(Nv(r)){case 2:var f=Tb;break;case 8:f=wb;break;default:f=gm}a=f.bind(null,r,a,n),f=void 0,!On||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function rm(n,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&(N=E.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;E=E.return}for(;w!==null;){if(E=Kn(w),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=m=E;continue e}w=w.parentNode}}l=l.return}Fu(function(){var U=m,W=Ra(a),ne=[];e:{var G=Yg.get(n);if(G!==void 0){var Y=Ca,ye=n;switch(n){case"keypress":if(ci(a)===0)break e;case"keydown":case"keyup":Y=Ma;break;case"focusin":ye="focus",Y=Da;break;case"focusout":ye="blur",Y=Da;break;case"beforeblur":case"afterblur":Y=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Zu;break;case Gg:case Kg:case $g:Y=xa;break;case Qg:Y=ec;break;case"scroll":case"scrollend":Y=Gu;break;case"wheel":Y=Va;break;case"copy":case"cut":case"paste":Y=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=il;break;case"toggle":case"beforetoggle":Y=nc}var Ae=(r&4)!==0,ft=!Ae&&(n==="scroll"||n==="scrollend"),z=Ae?G!==null?G+"Capture":null:G;Ae=[];for(var P=U,F;P!==null;){var J=P;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||z===null||(J=xs(P,z),J!=null&&Ae.push(Vl(P,J,F))),ft)break;P=P.return}0<Ae.length&&(G=new Y(G,ye,null,a,W),ne.push({event:G,listeners:Ae}))}}if((r&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",Y=n==="mouseout"||n==="pointerout",G&&a!==xn&&(ye=a.relatedTarget||a.fromElement)&&(Kn(ye)||ye[Oi]))break e;if((Y||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(ye=a.relatedTarget||a.toElement,Y=U,ye=ye?Kn(ye):null,ye!==null&&(ft=ue(ye),Ae=ye.tag,ye!==ft||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(Y=null,ye=U),Y!==ye)){if(Ae=Mn,J="onMouseLeave",z="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=il,J="onPointerLeave",z="onPointerEnter",P="pointer"),ft=Y==null?G:br(Y),F=ye==null?G:br(ye),G=new Ae(J,P+"leave",Y,a,W),G.target=ft,G.relatedTarget=F,J=null,Kn(W)===U&&(Ae=new Ae(z,P+"enter",ye,a,W),Ae.target=F,Ae.relatedTarget=ft,J=Ae),ft=J,Y&&ye)t:{for(Ae=Y,z=ye,P=0,F=Ae;F;F=io(F))P++;for(F=0,J=z;J;J=io(J))F++;for(;0<P-F;)Ae=io(Ae),P--;for(;0<F-P;)z=io(z),F--;for(;P--;){if(Ae===z||z!==null&&Ae===z.alternate)break t;Ae=io(Ae),z=io(z)}Ae=null}else Ae=null;Y!==null&&ov(ne,G,Y,Ae,!1),ye!==null&&ft!==null&&ov(ne,ft,ye,Ae,!0)}}e:{if(G=U?br(U):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var pe=Vg;else if(Rt(G))if(kg)pe=oA;else{pe=sA;var Oe=rA}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&Xo(U.elementType)&&(pe=Vg):pe=aA;if(pe&&(pe=pe(n,U))){zi(ne,pe,a,W);break e}Oe&&Oe(n,G,U),n==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&ba(G,"number",G.value)}switch(Oe=U?br(U):window,n){case"focusin":(Rt(Oe)||Oe.contentEditable==="true")&&(ka=Oe,kf=U,al=null);break;case"focusout":al=kf=ka=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Hg(ne,a,W);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":Hg(ne,a,W)}var _e;if(di)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else je?$(n,a)&&(Ee="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&a.locale!=="ko"&&(je||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&je&&(_e=Zo()):(ui=W,xr="value"in ui?ui.value:ui.textContent,je=!0)),Oe=zc(U,Ee),0<Oe.length&&(Ee=new tl(Ee,n,null,a,W),ne.push({event:Ee,listeners:Oe}),_e?Ee.data=_e:(_e=ae(a),_e!==null&&(Ee.data=_e)))),(_e=y?bt(n,a):ze(n,a))&&(Ee=zc(U,"onBeforeInput"),0<Ee.length&&(Oe=new tl("onBeforeInput","beforeinput",null,a,W),ne.push({event:Oe,listeners:Ee}),Oe.data=_e)),KA(ne,n,U,a,W)}sv(ne,r)})}function Vl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function zc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=xs(n,a),f!=null&&l.unshift(Vl(n,f,m)),f=xs(n,r),f!=null&&l.push(Vl(n,f,m))),n=n.return}return l}function io(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function ov(n,r,a,l,f){for(var m=r._reactName,E=[];a!==null&&a!==l;){var w=a,N=w.alternate,U=w.stateNode;if(w=w.tag,N!==null&&N===l)break;w!==5&&w!==26&&w!==27||U===null||(N=U,f?(U=xs(a,m),U!=null&&E.unshift(Vl(a,U,N))):f||(U=xs(a,m),U!=null&&E.push(Vl(a,U,N)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var XA=/\r\n?/g,WA=/\u0000|\uFFFD/g;function lv(n){return(typeof n=="string"?n:""+n).replace(XA,`
`).replace(WA,"")}function uv(n,r){return r=lv(r),lv(n)===r}function Bc(){}function We(n,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Dn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Dn(n,""+l);break;case"className":Ir(n,"class",l);break;case"tabIndex":Ir(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(n,a,l);break;case"style":Hu(n,l,m);break;case"data":if(r!=="object"){Ir(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=li(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&We(n,r,"name",f.name,f,null),We(n,r,"formEncType",f.formEncType,f,null),We(n,r,"formMethod",f.formMethod,f,null),We(n,r,"formTarget",f.formTarget,f,null)):(We(n,r,"encType",f.encType,f,null),We(n,r,"method",f.method,f,null),We(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=li(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=li(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Cr(n,"popover",l);break;case"xlinkActuate":Nn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Cr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=If.get(a)||a,Cr(n,a,l))}}function sm(n,r,a,l,f,m){switch(a){case"style":Hu(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Dn(n,l):(typeof l=="number"||typeof l=="bigint")&&Dn(n,""+l);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=n[At]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Cr(n,a,l)}}}function Ht(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var E=a[m];if(E!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,m,E,a,null)}}f&&We(n,r,"srcSet",a.srcSet,a,null),l&&We(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var w=m=E=f=null,N=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":E=W;break;case"checked":N=W;break;case"defaultChecked":U=W;break;case"value":m=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:We(n,r,l,W,a,null)}}Ns(n,m,w,N,U,E,f,!1),Is(n);return;case"select":Pe("invalid",n),l=E=m=null;for(f in a)if(a.hasOwnProperty(f)&&(w=a[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:We(n,r,f,w,a,null)}r=m,a=E,n.multiple=!!l,r!=null?Fe(n,!!l,r,!1):a!=null&&Fe(n,!!l,a,!0);return;case"textarea":Pe("invalid",n),m=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(n,r,E,w,a,null)}Dr(n,l,f,m),Is(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(n,r,N,l,a,null)}return;case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Pe(Ml[l],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(n,r,U,l,a,null)}return;default:if(Xo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&sm(n,r,W,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&We(n,r,w,l,a,null))}function ZA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,w=null,N=null,U=null,W=null;for(Y in a){var ne=a[Y];if(a.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=ne;default:l.hasOwnProperty(Y)||We(n,r,Y,null,l,ne)}}for(var G in l){var Y=l[G];if(ne=a[G],l.hasOwnProperty(G)&&(Y!=null||ne!=null))switch(G){case"type":m=Y;break;case"name":f=Y;break;case"checked":U=Y;break;case"defaultChecked":W=Y;break;case"value":E=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ne&&We(n,r,G,Y,l,ne)}}Nr(n,E,w,N,U,W,m,f);return;case"select":Y=E=w=G=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(m)||We(n,r,m,null,l,N)}for(f in l)if(m=l[f],N=a[f],l.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":G=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==N&&We(n,r,f,m,l,N)}r=w,a=E,l=Y,G!=null?Fe(n,!!a,G,!1):!!l!=!!a&&(r!=null?Fe(n,!!a,r,!0):Fe(n,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(w in a)if(f=a[w],a.hasOwnProperty(w)&&f!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(n,r,w,null,l,f)}for(E in l)if(f=l[E],m=a[E],l.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":G=f;break;case"defaultValue":Y=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&We(n,r,E,f,l,m)}Ds(n,G,Y);return;case"option":for(var ye in a)if(G=a[ye],a.hasOwnProperty(ye)&&G!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":n.selected=!1;break;default:We(n,r,ye,null,l,G)}for(N in l)if(G=l[N],Y=a[N],l.hasOwnProperty(N)&&G!==Y&&(G!=null||Y!=null))switch(N){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:We(n,r,N,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)G=a[Ae],a.hasOwnProperty(Ae)&&G!=null&&!l.hasOwnProperty(Ae)&&We(n,r,Ae,null,l,G);for(U in l)if(G=l[U],Y=a[U],l.hasOwnProperty(U)&&G!==Y&&(G!=null||Y!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:We(n,r,U,G,l,Y)}return;default:if(Xo(r)){for(var ft in a)G=a[ft],a.hasOwnProperty(ft)&&G!==void 0&&!l.hasOwnProperty(ft)&&sm(n,r,ft,void 0,l,G);for(W in l)G=l[W],Y=a[W],!l.hasOwnProperty(W)||G===Y||G===void 0&&Y===void 0||sm(n,r,W,G,l,Y);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&We(n,r,z,null,l,G);for(ne in l)G=l[ne],Y=a[ne],!l.hasOwnProperty(ne)||G===Y||G==null&&Y==null||We(n,r,ne,G,l,Y)}var am=null,om=null;function qc(n){return n.nodeType===9?n:n.ownerDocument}function cv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function lm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var um=null;function JA(){var n=window.event;return n&&n.type==="popstate"?n===um?!1:(um=n,!0):(um=null,!1)}var fv=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,dv=typeof Promise=="function"?Promise:void 0,tb=typeof queueMicrotask=="function"?queueMicrotask:typeof dv<"u"?function(n){return dv.resolve(null).then(n).catch(nb)}:fv;function nb(n){setTimeout(function(){throw n})}function cm(n,r){var a=r,l=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){n.removeChild(f),ql(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);ql(r)}function hm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),Cs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function ib(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ar])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Xn(n.nextSibling),n===null)break}return null}function rb(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Xn(n.nextSibling),n===null))return null;return n}function Xn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}function mv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function pv(n,r,a){switch(r=qc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}var Hn=new Map,gv=new Set;function Hc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var tr=ce.d;ce.d={f:sb,r:ab,D:ob,C:lb,L:ub,m:cb,X:fb,S:hb,M:db};function sb(){var n=tr.f(),r=kc();return n||r}function ab(n){var r=Mi(n);r!==null&&r.tag===5&&r.type==="form"?Hy(r):tr.r(n)}var ro=typeof document>"u"?null:document;function yv(n,r,a){var l=ro;if(l&&typeof r=="string"&&r){var f=ut(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),gv.has(f)||(gv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ht(r,"link",n),rt(r),l.head.appendChild(r)))}}function ob(n){tr.D(n),yv("dns-prefetch",n,null)}function lb(n,r){tr.C(n,r),yv("preconnect",n,r)}function ub(n,r,a){tr.L(n,r,a);var l=ro;if(l&&n&&r){var f='link[rel="preload"][as="'+ut(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ut(a.imageSizes)+'"]')):f+='[href="'+ut(n)+'"]';var m=f;switch(r){case"style":m=so(n);break;case"script":m=ao(n)}Hn.has(m)||(n=I({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Hn.set(m,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(kl(m))||r==="script"&&l.querySelector(Ll(m))||(r=l.createElement("link"),Ht(r,"link",n),rt(r),l.head.appendChild(r)))}}function cb(n,r){tr.m(n,r);var a=ro;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ut(l)+'"][href="'+ut(n)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ao(n)}if(!Hn.has(m)&&(n=I({rel:"modulepreload",href:n},r),Hn.set(m,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(m)))return}l=a.createElement("link"),Ht(l,"link",n),rt(l),a.head.appendChild(l)}}}function hb(n,r,a){tr.S(n,r,a);var l=ro;if(l&&n){var f=Rr(l).hoistableStyles,m=so(n);r=r||"default";var E=f.get(m);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(kl(m)))w.loading=5;else{n=I({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Hn.get(m))&&fm(n,a);var N=E=l.createElement("link");rt(N),Ht(N,"link",n),N._p=new Promise(function(U,W){N.onload=U,N.onerror=W}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(m,E)}}}function fb(n,r){tr.X(n,r);var a=ro;if(a&&n){var l=Rr(a).hoistableScripts,f=ao(n),m=l.get(f);m||(m=a.querySelector(Ll(f)),m||(n=I({src:n,async:!0},r),(r=Hn.get(f))&&dm(n,r),m=a.createElement("script"),rt(m),Ht(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function db(n,r){tr.M(n,r);var a=ro;if(a&&n){var l=Rr(a).hoistableScripts,f=ao(n),m=l.get(f);m||(m=a.querySelector(Ll(f)),m||(n=I({src:n,async:!0,type:"module"},r),(r=Hn.get(f))&&dm(n,r),m=a.createElement("script"),rt(m),Ht(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function _v(n,r,a,l){var f=(f=Cn.current)?Hc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=so(a.href),a=Rr(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=so(a.href);var m=Rr(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(kl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),Hn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(n,a),m||mb(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ao(a),a=Rr(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function so(n){return'href="'+ut(n)+'"'}function kl(n){return'link[rel="stylesheet"]['+n+"]"}function vv(n){return I({},n,{"data-precedence":n.precedence,precedence:null})}function mb(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ht(r,"link",a),rt(r),n.head.appendChild(r))}function ao(n){return'[src="'+ut(n)+'"]'}function Ll(n){return"script[async]"+n}function Ev(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+ut(a.href)+'"]');if(l)return r.instance=l,rt(l),l;var f=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),rt(l),Ht(l,"style",f),Fc(l,a.precedence,n),r.instance=l;case"stylesheet":f=so(a.href);var m=n.querySelector(kl(f));if(m)return r.state.loading|=4,r.instance=m,rt(m),m;l=vv(a),(f=Hn.get(f))&&fm(l,f),m=(n.ownerDocument||n).createElement("link"),rt(m);var E=m;return E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),Ht(m,"link",l),r.state.loading|=4,Fc(m,a.precedence,n),r.instance=m;case"script":return m=ao(a.src),(f=n.querySelector(Ll(m)))?(r.instance=f,rt(f),f):(l=a,(f=Hn.get(m))&&(l=I({},a),dm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),rt(f),Ht(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Fc(l,a.precedence,n));return r.instance}function Fc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===r)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function fm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function dm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Gc=null;function Tv(n,r,a){if(Gc===null){var l=new Map,f=Gc=new Map;f.set(a,l)}else f=Gc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var m=a[f];if(!(m[Ar]||m[Ot]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=n+E;var w=l.get(E);w?w.push(m):l.set(E,[m])}}return l}function wv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function pb(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Sv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Pl=null;function gb(){}function yb(n,r,a){if(Pl===null)throw Error(s(475));var l=Pl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=so(a.href),m=n.querySelector(kl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Kc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=m,rt(m);return}m=n.ownerDocument||n,a=vv(a),(f=Hn.get(f))&&fm(a,f),m=m.createElement("link"),rt(m);var E=m;E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),Ht(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Kc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function _b(){if(Pl===null)throw Error(s(475));var n=Pl;return n.stylesheets&&n.count===0&&mm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&mm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)mm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var $c=null;function mm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,$c=new Map,r.forEach(vb,n),$c=null,Kc.call(n))}function vb(n,r){if(!(r.state.loading&4)){var a=$c.get(n);if(a)var l=a.get(null);else{a=new Map,$c.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),m=a.get(E)||l,m===l&&a.set(null,f),a.set(E,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Ul={$$typeof:x,Provider:null,Consumer:null,_currentValue:De,_currentValue2:De,_threadCount:0};function Eb(n,r,a,l,f,m,E,w){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Av(n,r,a,l,f,m,E,w,N,U,W,ne){return n=new Eb(n,r,a,E,w,N,U,ne),r=1,m===!0&&(r|=24),m=Bn(3,null,null,r),n.current=m,m.stateNode=n,r=Kf(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},Rd(m),n}function bv(n){return n?(n=Ua,n):Ua}function Rv(n,r,a,l,f,m){f=bv(f),l.context===null?l.context=f:l.pendingContext=f,l=jr(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=zr(n,l,r),a!==null&&(ln(a,n,r),Tl(a,n,r))}function Cv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function pm(n,r){Cv(n,r),(n=n.alternate)&&Cv(n,r)}function Iv(n){if(n.tag===13){var r=Or(n,67108864);r!==null&&ln(r,n,67108864),pm(n,67108864)}}var Qc=!0;function Tb(n,r,a,l){var f=b.T;b.T=null;var m=ce.p;try{ce.p=2,gm(n,r,a,l)}finally{ce.p=m,b.T=f}}function wb(n,r,a,l){var f=b.T;b.T=null;var m=ce.p;try{ce.p=8,gm(n,r,a,l)}finally{ce.p=m,b.T=f}}function gm(n,r,a,l){if(Qc){var f=ym(l);if(f===null)rm(n,r,l,Yc,a),Dv(n,l);else if(Ab(f,n,r,a,l))l.stopPropagation();else if(Dv(n,l),r&4&&-1<Sb.indexOf(n)){for(;f!==null;){var m=Mi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Gn(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var N=1<<31-rn(E);w.entanglements[1]|=N,E&=~N}vi(m),(at&6)===0&&(Oc=cn()+500,Ol(0))}}break;case 13:w=Or(m,2),w!==null&&ln(w,m,2),kc(),pm(m,2)}if(m=ym(l),m===null&&rm(n,r,l,Yc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else rm(n,r,l,null,a)}}function ym(n){return n=Ra(n),_m(n)}var Yc=null;function _m(n){if(Yc=null,n=Kn(n),n!==null){var r=ue(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=Re(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Yc=n,null}function Nv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vu()){case St:return 2;case xt:return 8;case xi:case ku:return 32;case zo:return 268435456;default:return 32}default:return 32}}var vm=!1,$r=null,Qr=null,Yr=null,jl=new Map,zl=new Map,Xr=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(n,r){switch(n){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":jl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(r.pointerId)}}function Bl(n,r,a,l,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Mi(r),r!==null&&Iv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function Ab(n,r,a,l,f){switch(r){case"focusin":return $r=Bl($r,n,r,a,l,f),!0;case"dragenter":return Qr=Bl(Qr,n,r,a,l,f),!0;case"mouseover":return Yr=Bl(Yr,n,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return jl.set(m,Bl(jl.get(m)||null,n,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,zl.set(m,Bl(zl.get(m)||null,n,r,a,l,f)),!0}return!1}function xv(n){var r=Kn(n.target);if(r!==null){var a=ue(r);if(a!==null){if(r=a.tag,r===13){if(r=Re(a),r!==null){n.blockedOn=r,Sr(n.priority,function(){if(a.tag===13){var l=An(),f=Or(a,l);f!==null&&ln(f,a,l),pm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=ym(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);xn=l,a.target.dispatchEvent(l),xn=null}else return r=Mi(a),r!==null&&Iv(r),n.blockedOn=a,!1;r.shift()}return!0}function Ov(n,r,a){Xc(n)&&a.delete(r)}function bb(){vm=!1,$r!==null&&Xc($r)&&($r=null),Qr!==null&&Xc(Qr)&&(Qr=null),Yr!==null&&Xc(Yr)&&(Yr=null),jl.forEach(Ov),zl.forEach(Ov)}function Wc(n,r){n.blockedOn===r&&(n.blockedOn=null,vm||(vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bb)))}var Zc=null;function Mv(n){Zc!==n&&(Zc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Zc===n&&(Zc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(_m(l||a)===null)continue;break}var m=Mi(a);m!==null&&(n.splice(r,3),r-=3,ld(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ql(n){function r(N){return Wc(N,n)}$r!==null&&Wc($r,n),Qr!==null&&Wc(Qr,n),Yr!==null&&Wc(Yr,n),jl.forEach(r),zl.forEach(r);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)xv(a),a.blockedOn===null&&Xr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],E=f[At]||null;if(typeof m=="function")E||Mv(a);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[At]||null)w=E.formAction;else if(_m(f)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Mv(a)}}}function Em(n){this._internalRoot=n}Jc.prototype.render=Em.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=An();Rv(a,l,n,r,null,null)},Jc.prototype.unmount=Em.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;n.tag===0&&to(),Rv(n.current,2,null,n,null,null),kc(),r[Oi]=null}};function Jc(n){this._internalRoot=n}Jc.prototype.unstable_scheduleHydration=function(n){if(n){var r=zu();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Xr.length&&r!==0&&r<Xr[a].priority;a++);Xr.splice(a,0,n),a===0&&xv(n)}};var Vv=e.version;if(Vv!=="19.0.0")throw Error(s(527,Vv,"19.0.0"));ce.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=re(r),n=n!==null?ge(n):null,n=n===null?null:n.stateNode,n};var Rb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{yr=eh.inject(Rb),Qt=eh}catch{}}return Fl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Wy,m=Zy,E=Jy,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=Av(n,1,!1,null,null,a,l,f,m,E,w,null),n[Oi]=r.current,im(n.nodeType===8?n.parentNode:n),new Em(r)},Fl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",m=Wy,E=Zy,w=Jy,N=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),r=Av(n,1,!0,r,a??null,l,f,m,E,w,N,U),r.context=bv(null),a=r.current,l=An(),f=jr(l),f.callback=null,zr(a,f,l),r.current.lanes=l,dt(r,l),vi(r),n[Oi]=r.current,im(n),new Jc(r)},Fl.version="19.0.0",Fl}var Fv;function Ub(){if(Fv)return Sm.exports;Fv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Sm.exports=Pb(),Sm.exports}var jb=Ub(),Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},zb=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],d=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},F0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|d>>4;let R=(d&15)<<2|g>>6,x=g&63;p||(x=64,h||(R=64)),s.push(t[v],t[T],t[R],t[x])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(H0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):zb(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],d=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const T=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new Bb;const R=u<<2|d>>4;if(s.push(R),g!==64){const x=d<<4&240|g>>2;if(s.push(x),T!==64){const D=g<<6&192|T;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Bb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qb=function(i){const e=H0(i);return F0.encodeByteArray(e,!0)},Ah=function(i){return qb(i).replace(/\./g,"")},G0=function(i){try{return F0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=()=>Hb().__FIREBASE_DEFAULTS__,Gb=()=>{if(typeof process>"u"||typeof Gv>"u")return;const i=Gv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Kb=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&G0(i[1]);return e&&JSON.parse(e)},Kh=()=>{try{return Fb()||Gb()||Kb()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},K0=i=>{var e,t;return(t=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},$b=i=>{const e=K0(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},$0=()=>{var i;return(i=Kh())===null||i===void 0?void 0:i.config},Q0=i=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ah(JSON.stringify(t)),Ah(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Wb(){var i;const e=(i=Kh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jb(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function eR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tR(){const i=tn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function nR(){return!Wb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iR(){try{return typeof indexedDB=="object"}catch{return!1}}function rR(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="FirebaseError";class dr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=sR,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?aR(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new dr(o,d,s)}}function aR(i,e){return i.replace(oR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const oR=/\{\$([^}]+)}/g;function lR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function bh(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(Kv(u)&&Kv(h)){if(!bh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function Kv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ql(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yl(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function uR(i,e){const t=new cR(i,e);return t.subscribe.bind(t)}class cR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");hR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Cm),o.error===void 0&&(o.error=Cm),o.complete===void 0&&(o.complete=Cm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(i){return i&&i._delegate?i._delegate:i}class aa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new Qb;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mR(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dR(i){return i===na?void 0:i}function mR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const gR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},yR=ke.INFO,_R={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},vR=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=_R[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cp{constructor(e){this.name=e,this._logLevel=yR,this._logHandler=vR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const ER=(i,e)=>e.some(t=>i instanceof t);let $v,Qv;function TR(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wR(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y0=new WeakMap,Gm=new WeakMap,X0=new WeakMap,Im=new WeakMap,Ip=new WeakMap;function SR(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ss(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&Y0.set(t,i)}).catch(()=>{}),Ip.set(e,i),e}function AR(i){if(Gm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Gm.set(i,e)}let Km={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Gm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||X0.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ss(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function bR(i){Km=i(Km)}function RR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Nm(this),e,...t);return X0.set(s,e.sort?e.sort():[e]),ss(s)}:wR().includes(i)?function(...e){return i.apply(Nm(this),e),ss(Y0.get(this))}:function(...e){return ss(i.apply(Nm(this),e))}}function CR(i){return typeof i=="function"?RR(i):(i instanceof IDBTransaction&&AR(i),ER(i,TR())?new Proxy(i,Km):i)}function ss(i){if(i instanceof IDBRequest)return SR(i);if(Im.has(i))return Im.get(i);const e=CR(i);return e!==i&&(Im.set(i,e),Ip.set(e,i)),e}const Nm=i=>Ip.get(i);function IR(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=ss(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ss(h.result),p.oldVersion,p.newVersion,ss(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const NR=["get","getKey","getAll","getAllKeys","count"],DR=["put","add","delete","clear"],Dm=new Map;function Yv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=DR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NR.includes(t)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&p.done]))[0]};return Dm.set(e,u),u}bR(i=>({...i,get:(e,t,s)=>Yv(e,t)||i.get(e,t,s),has:(e,t)=>!!Yv(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(OR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function OR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",Xv="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Cp("@firebase/app"),MR="@firebase/app-compat",VR="@firebase/analytics-compat",kR="@firebase/analytics",LR="@firebase/app-check-compat",PR="@firebase/app-check",UR="@firebase/auth",jR="@firebase/auth-compat",zR="@firebase/database",BR="@firebase/data-connect",qR="@firebase/database-compat",HR="@firebase/functions",FR="@firebase/functions-compat",GR="@firebase/installations",KR="@firebase/installations-compat",$R="@firebase/messaging",QR="@firebase/messaging-compat",YR="@firebase/performance",XR="@firebase/performance-compat",WR="@firebase/remote-config",ZR="@firebase/remote-config-compat",JR="@firebase/storage",e1="@firebase/storage-compat",t1="@firebase/firestore",n1="@firebase/vertexai",i1="@firebase/firestore-compat",r1="firebase",s1="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="[DEFAULT]",a1={[$m]:"fire-core",[MR]:"fire-core-compat",[kR]:"fire-analytics",[VR]:"fire-analytics-compat",[PR]:"fire-app-check",[LR]:"fire-app-check-compat",[UR]:"fire-auth",[jR]:"fire-auth-compat",[zR]:"fire-rtdb",[BR]:"fire-data-connect",[qR]:"fire-rtdb-compat",[HR]:"fire-fn",[FR]:"fire-fn-compat",[GR]:"fire-iid",[KR]:"fire-iid-compat",[$R]:"fire-fcm",[QR]:"fire-fcm-compat",[YR]:"fire-perf",[XR]:"fire-perf-compat",[WR]:"fire-rc",[ZR]:"fire-rc-compat",[JR]:"fire-gcs",[e1]:"fire-gcs-compat",[t1]:"fire-fst",[i1]:"fire-fst-compat",[n1]:"fire-vertex","fire-js":"fire-js",[r1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Map,o1=new Map,Ym=new Map;function Wv(i,e){try{i.container.addComponent(e)}catch(t){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function yo(i){const e=i.name;if(Ym.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,i);for(const t of su.values())Wv(t,i);for(const t of o1.values())Wv(t,i);return!0}function Np(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Fn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new vu("app","Firebase",l1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=s1;function W0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Qm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(t||(t=$0()),!t)throw as.create("no-options");const u=su.get(o);if(u){if(bh(t,u.options)&&bh(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const h=new pR(o);for(const p of Ym.values())h.addComponent(p);const d=new u1(t,s,h);return su.set(o,d),d}function Dp(i=Qm){const e=su.get(i);if(!e&&i===Qm&&$0())return W0();if(!e)throw as.create("no-app",{appName:i});return e}function c1(){return Array.from(su.values())}function os(i,e,t){var s;let o=(s=a1[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(d.join(" "));return}yo(new aa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebase-heartbeat-database",f1=1,au="firebase-heartbeat-store";let xm=null;function Z0(){return xm||(xm=IR(h1,f1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(au)}catch(t){console.warn(t)}}}}).catch(i=>{throw as.create("idb-open",{originalErrorMessage:i.message})})),xm}async function d1(i){try{const t=(await Z0()).transaction(au),s=await t.objectStore(au).get(J0(i));return await t.done,s}catch(e){if(e instanceof dr)lr.warn(e.message);else{const t=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(t.message)}}}async function Zv(i,e){try{const s=(await Z0()).transaction(au,"readwrite");await s.objectStore(au).put(e,J0(i)),await s.done}catch(t){if(t instanceof dr)lr.warn(t.message);else{const s=as.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});lr.warn(s.message)}}}function J0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=1024,p1=30;class g1{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _1(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Jv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>p1){const h=v1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){lr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Jv(),{heartbeatsToSend:s,unsentEntries:o}=y1(this._heartbeatsCache.heartbeats),u=Ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return lr.warn(t),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function y1(i,e=m1){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),eE(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),eE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class _1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iR()?rR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await d1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function eE(i){return Ah(JSON.stringify({version:2,heartbeats:i})).length}function v1(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(i){yo(new aa("platform-logger",e=>new xR(e),"PRIVATE")),yo(new aa("heartbeat",e=>new g1(e),"PRIVATE")),os($m,Xv,i),os($m,Xv,"esm2017"),os("fire-js","")}E1("");function xp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const T1=eT,tT=new vu("auth","Firebase",eT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Cp("@firebase/auth");function w1(i,...e){Rh.logLevel<=ke.WARN&&Rh.warn(`Auth (${bo}): ${i}`,...e)}function uh(i,...e){Rh.logLevel<=ke.ERROR&&Rh.error(`Auth (${bo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(i,...e){throw Op(i,...e)}function wi(i,...e){return Op(i,...e)}function nT(i,e,t){const s=Object.assign(Object.assign({},T1()),{[e]:t});return new vu("auth","Firebase",s).create(e,{appName:i.name})}function sr(i){return nT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Op(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return tT.create(i,...e)}function Te(i,e,...t){if(!i)throw Op(e,...t)}function nr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw uh(e),new Error(e)}function ur(i,e){i||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function S1(){return tE()==="http:"||tE()==="https:"}function tE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S1()||Jb()||"connection"in navigator)?navigator.onLine:!0}function b1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ur(t>e,"Short delay should be less than long delay!"),this.isMobile=Xb()||eR()}get(){return A1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i,e){ur(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new Tu(3e4,6e4);function _s(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function vs(i,e,t,s,o={}){return rT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Eu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return Zb()||(g.referrerPolicy="no-referrer"),iT.fetch()(sT(i,i.config.apiHost,t,d),g)})}async function rT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},R1),e);try{const o=new N1(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw th(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw th(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw th(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw nT(i,v,g);Jn(i,v)}}catch(o){if(o instanceof dr)throw o;Jn(i,"network-request-failed",{message:String(o)})}}async function wu(i,e,t,s,o={}){const u=await vs(i,e,t,s,o);return"mfaPendingCredential"in u&&Jn(i,"multi-factor-auth-required",{_serverResponse:u}),u}function sT(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Mp(i.config,o):`${i.config.apiScheme}://${o}`}function I1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(wi(this.auth,"network-request-failed")),C1.get())})}}function th(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=wi(i,e,s);return o.customData._tokenResponse=t,o}function nE(i){return i!==void 0&&i.enterprise!==void 0}class D1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return I1(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function x1(i,e){return vs(i,"GET","/v2/recaptchaConfig",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(i,e){return vs(i,"POST","/v1/accounts:delete",e)}async function aT(i,e){return vs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M1(i,e=!1){const t=jt(i),s=await t.getIdToken(e),o=Vp(s);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:eu(Om(o.auth_time)),issuedAtTime:eu(Om(o.iat)),expirationTime:eu(Om(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Om(i){return Number(i)*1e3}function Vp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const o=G0(t);return o?JSON.parse(o):(uh("Failed to decode base64 JWT payload"),null)}catch(o){return uh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function iE(i){const e=Vp(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof dr&&V1(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function V1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(i){var e;const t=i.auth,s=await i.getIdToken(),o=await ou(i,aT(t,{idToken:s}));Te(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?oT(u.providerUserInfo):[],d=P1(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function L1(i){const e=jt(i);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function P1(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function oT(i){return i.map(e=>{var{providerId:t}=e,s=xp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(i,e){const t=await rT(i,{},async()=>{const s=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=sT(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",iT.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function j1(i,e){return vs(i,"POST","/v2/accounts:revokeToken",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=iE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await U1(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new fo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new k1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return M1(this,e)}reload(){return L1(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await ou(this,O1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,d,p,g,v;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,R=(o=t.email)!==null&&o!==void 0?o:void 0,x=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,D=(h=t.photoURL)!==null&&h!==void 0?h:void 0,q=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,K=(g=t.createdAt)!==null&&g!==void 0?g:void 0,Z=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:X,emailVerified:de,isAnonymous:oe,providerData:se,stsTokenManager:M}=t;Te(X&&M,e,"internal-error");const C=fo.fromJSON(this.name,M);Te(typeof X=="string",e,"internal-error"),Zr(T,e.name),Zr(R,e.name),Te(typeof de=="boolean",e,"internal-error"),Te(typeof oe=="boolean",e,"internal-error"),Zr(x,e.name),Zr(D,e.name),Zr(q,e.name),Zr(k,e.name),Zr(K,e.name),Zr(Z,e.name);const b=new ir({uid:X,auth:e,email:R,emailVerified:de,displayName:T,isAnonymous:oe,photoURL:D,phoneNumber:x,tenantId:q,stsTokenManager:C,createdAt:K,lastLoginAt:Z});return se&&Array.isArray(se)&&(b.providerData=se.map(I=>Object.assign({},I))),k&&(b._redirectEventId=k),b}static async _fromIdTokenResponse(e,t,s=!1){const o=new fo;o.updateFromServerResponse(t);const u=new ir({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?oT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new fo;d.updateFromIdToken(s);const p=new ir({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;function rr(i){ur(i instanceof Function,"Expected a class definition");let e=rE.get(i);return e?(ur(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,rE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lT.type="NONE";const sE=lT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(i,e,t){return`firebase:${i}:${e}:${t}`}class mo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,u),this.fullPersistenceKey=ch("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new mo(rr(sE),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||rr(sE);const h=ch(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(h);if(v){const T=ir._fromJSON(e,v);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new mo(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mT(e))return"Blackberry";if(pT(e))return"Webos";if(cT(e))return"Safari";if((e.includes("chrome/")||hT(e))&&!e.includes("edge/"))return"Chrome";if(dT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function uT(i=tn()){return/firefox\//i.test(i)}function cT(i=tn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hT(i=tn()){return/crios\//i.test(i)}function fT(i=tn()){return/iemobile/i.test(i)}function dT(i=tn()){return/android/i.test(i)}function mT(i=tn()){return/blackberry/i.test(i)}function pT(i=tn()){return/webos/i.test(i)}function kp(i=tn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function z1(i=tn()){var e;return kp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function B1(){return tR()&&document.documentMode===10}function gT(i=tn()){return kp(i)||dT(i)||pT(i)||mT(i)||/windows phone/i.test(i)||fT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(i,e=[]){let t;switch(i){case"Browser":t=aE(tn());break;case"Worker":t=`${aE(tn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(i,e={}){return vs(i,"GET","/v2/passwordPolicy",_s(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=6;class G1{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:F1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new q1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await aT(this,{idToken:e}),s=await ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=b1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(sr(this));const t=e?jt(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H1(this),t=new G1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await j1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rr(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&w1(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function da(i){return jt(i)}class oE{constructor(e){this.auth=e,this.observer=null,this.addObserver=uR(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $1(i){$h=i}function _T(i){return $h.loadJS(i)}function Q1(){return $h.recaptchaEnterpriseScript}function Y1(){return $h.gapiScript}function X1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class W1{constructor(){this.enterprise=new Z1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Z1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const J1="recaptcha-enterprise",vT="NO_RECAPTCHA";class eC{constructor(e){this.type=J1,this.auth=da(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{x1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new D1(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;nE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(vT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new W1().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!t&&nE(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Q1();p.length!==0&&(p+=d),_T(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function lE(i,e,t,s=!1,o=!1){const u=new eC(i);let h;if(o)h=vT;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Zm(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await lE(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await lE(i,e,t,t==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(i,e){const t=Np(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(bh(u,e??{}))return o;Jn(o,"already-initialized")}return t.initialize({options:e})}function nC(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(rr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function iC(i,e,t){const s=da(i);Te(s._canInitEmulator,s,"emulator-config-failed"),Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ET(e),{host:h,port:d}=rC(e),p=d===null?"":`:${d}`;s.config.emulator={url:`${u}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),sC()}function ET(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function rC(i){const e=ET(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:uE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:uE(h)}}}function uE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function sC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,t){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function aC(i,e){return vs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(i,e){return wu(i,"POST","/v1/accounts:signInWithPassword",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(i,e){return wu(i,"POST","/v1/accounts:signInWithEmailLink",_s(i,e))}async function uC(i,e){return wu(i,"POST","/v1/accounts:signInWithEmailLink",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Lp{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new lu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new lu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,t,"signInWithPassword",oC);case"emailLink":return lC(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zm(e,s,"signUpPassword",aC);case"emailLink":return uC(e,{idToken:t,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(i,e){return wu(i,"POST","/v1/accounts:signInWithIdp",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="http://localhost";class oa extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=xp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new oa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return po(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,po(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,po(e,t)}buildRequest(){const e={requestUri:cC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Eu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fC(i){const e=Ql(Yl(i)).link,t=e?Ql(Yl(e)).deep_link_id:null,s=Ql(Yl(i)).deep_link_id;return(s?Ql(Yl(s)).link:null)||s||t||e||i}class Pp{constructor(e){var t,s,o,u,h,d;const p=Ql(Yl(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,T=hC((o=p.mode)!==null&&o!==void 0?o:null);Te(g&&v&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=fC(e);try{return new Pp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,t){return lu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Pp.parseLink(t);return Te(s,"argument-error"),lu._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends TT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Su{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return es.credential(t,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Su{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Su{constructor(){super("twitter.com")}static credential(e,t){return oa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ns.credential(t,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(i,e){return wu(i,"POST","/v1/accounts:signUp",_s(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ir._fromIdTokenResponse(e,s,o),h=cE(s);return new la({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=cE(s);return new la({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function cE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends dr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ih(e,t,s,o)}}function wT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(i,u,e,s):u})}async function mC(i,e,t=!1){const s=await ou(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return la._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(i,e,t=!1){const{auth:s}=i;if(Fn(s.app))return Promise.reject(sr(s));const o="reauthenticate";try{const u=await ou(i,wT(s,o,e,i),t);Te(u.idToken,s,"internal-error");const h=Vp(u.idToken);Te(h,s,"internal-error");const{sub:d}=h;return Te(i.uid===d,s,"user-mismatch"),la._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ST(i,e,t=!1){if(Fn(i.app))return Promise.reject(sr(i));const s="signIn",o=await wT(i,s,e),u=await la._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function gC(i,e){return ST(da(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AT(i){const e=da(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bT(i,e,t){if(Fn(i.app))return Promise.reject(sr(i));const s=da(i),h=await Zm(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&AT(i),p}),d=await la._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function RT(i,e,t){return Fn(i.app)?Promise.reject(sr(i)):gC(jt(i),Ro.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&AT(i),s})}function yC(i,e,t,s){return jt(i).onIdTokenChanged(e,t,s)}function _C(i,e,t){return jt(i).beforeAuthStateChanged(e,t)}function Up(i,e,t,s){return jt(i).onAuthStateChanged(e,t,s)}function vC(i){return jt(i).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=1e3,TC=10;class IT extends CT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);B1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,TC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},EC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}IT.type="LOCAL";const wC=IT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT extends CT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}NT.type="SESSION";const DT=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,u)),p=await SC(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=jp("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const R=T;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(R.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function bC(i){Si().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function RC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function IC(){return xT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebaseLocalStorageDb",NC=1,Dh="firebaseLocalStorage",MT="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(i,e){return i.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function DC(){const i=indexedDB.deleteDatabase(OT);return new Au(i).toPromise()}function Jm(){const i=indexedDB.open(OT,NC);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Dh,{keyPath:MT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Dh)?e(s):(s.close(),await DC(),e(await Jm()))})})}async function hE(i,e,t){const s=Yh(i,!0).put({[MT]:e,value:t});return new Au(s).toPromise()}async function xC(i,e){const t=Yh(i,!1).get(e),s=await new Au(t).toPromise();return s===void 0?null:s.value}function fE(i,e){const t=Yh(i,!0).delete(e);return new Au(t).toPromise()}const OC=800,MC=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>MC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(IC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await RC(),!this.activeServiceWorker)return;this.sender=new AC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await hE(e,Nh,"1"),await fE(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>hE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>xC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>fE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const VC=VT;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(i,e){return e?rr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LC(i){return ST(i.auth,new zp(i),i.bypassAuthState)}function PC(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),pC(t,new zp(i),i.bypassAuthState)}async function UC(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),mC(t,new zp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LC;case"linkViaPopup":case"linkViaRedirect":return UC;case"reauthViaPopup":case"reauthViaRedirect":return PC;default:Jn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new Tu(2e3,1e4);class ho extends kT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jC.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="pendingRedirect",hh=new Map;class BC extends kT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const s=await qC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qC(i,e){const t=GC(e),s=FC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function HC(i,e){hh.set(i._key(),e)}function FC(i){return rr(i._redirectPersistence)}function GC(i){return ch(zC,i.config.apiKey,i.name)}async function KC(i,e,t=!1){if(Fn(i.app))return Promise.reject(sr(i));const s=da(i),o=kC(s,e),h=await new BC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=10*60*1e3;class QC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!LT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(wi(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$C&&this.cachedEventUids.clear(),this.cachedEventUids.has(dE(e))}saveEventToCache(e){this.cachedEventUids.add(dE(e)),this.lastProcessedEventTime=Date.now()}}function dE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function LT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(i,e={}){return vs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZC=/^https?/;async function JC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await XC(i);for(const t of e)try{if(eI(t))return}catch{}Jn(i,"unauthorized-domain")}function eI(i){const e=Xm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!ZC.test(t))return!1;if(WC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new Tu(3e4,6e4);function mE(){const i=Si().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function nI(i){return new Promise((e,t)=>{var s,o,u;function h(){mE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mE(),t(wi(i,"network-request-failed"))},timeout:tI.get()})}if(!((o=(s=Si().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Si().gapi)===null||u===void 0)&&u.load)h();else{const d=X1("iframefcb");return Si()[d]=()=>{gapi.load?h():t(wi(i,"network-request-failed"))},_T(`${Y1()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw fh=null,e})}let fh=null;function iI(i){return fh=fh||nI(i),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Tu(5e3,15e3),sI="__/auth/iframe",aI="emulator/auth/iframe",oI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uI(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Mp(e,aI):`https://${i.config.authDomain}/${sI}`,s={apiKey:e.apiKey,appName:i.name,v:bo},o=lI.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Eu(s).slice(1)}`}async function cI(i){const e=await iI(i),t=Si().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:uI(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=wi(i,"network-request-failed"),d=Si().setTimeout(()=>{u(h)},rI.get());function p(){Si().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fI=500,dI=600,mI="_blank",pI="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gI(i,e,t,s=fI,o=dI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},hI),{width:s.toString(),height:o.toString(),top:u,left:h}),g=tn().toLowerCase();t&&(d=hT(g)?mI:t),uT(g)&&(e=e||pI,p.scrollbars="yes");const v=Object.entries(p).reduce((R,[x,D])=>`${R}${x}=${D},`,"");if(z1(g)&&d!=="_self")return yI(e||"",d),new pE(null);const T=window.open(e||"",d,v);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new pE(T)}function yI(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="__/auth/handler",vI="emulator/auth/handler",EI=encodeURIComponent("fac");async function gE(i,e,t,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:bo,eventId:o};if(e instanceof TT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",lR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(e instanceof Su){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await i._getAppCheckToken(),g=p?`#${EI}=${encodeURIComponent(p)}`:"";return`${TI(i)}?${Eu(d).slice(1)}${g}`}function TI({config:i}){return i.emulator?Mp(i,vI):`https://${i.authDomain}/${_I}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="webStorageSupport";class wI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DT,this._completeRedirectFn=KC,this._overrideRedirectResult=HC}async _openPopup(e,t,s,o){var u;ur((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await gE(e,t,s,Xm(),o);return gI(e,h,jp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await gE(e,t,s,Xm(),o);return bC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await cI(e),s=new QC(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Mm,{type:Mm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Mm];h!==void 0&&t(!!h),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=JC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return gT()||cT()||kp()}}const SI=wI;var yE="@firebase/auth",_E="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RI(i){yo(new aa("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yT(i)},g=new K1(s,o,u,p);return nC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),yo(new aa("auth-internal",e=>{const t=da(e.getProvider("auth").getImmediate());return(s=>new AI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(yE,_E,bI(i)),os(yE,_E,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=5*60,II=Q0("authIdTokenMaxAge")||CI;let vE=null;const NI=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>II)return;const o=t==null?void 0:t.token;vE!==o&&(vE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DI(i=Dp()){const e=Np(i,"auth");if(e.isInitialized())return e.getImmediate();const t=tC(i,{popupRedirectResolver:SI,persistence:[VC,wC,DT]}),s=Q0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=NI(u.toString());_C(t,h,()=>h(t.currentUser)),yC(t,d=>h(d))}}const o=K0("auth");return o&&iC(t,`http://${o}`),t}function xI(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}$1({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=wi("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",xI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RI("Browser");var OI="firebase",MI="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(OI,MI,"app");var EE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,PT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function b(){}b.prototype=C.prototype,M.D=C.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(I,L,j){for(var O=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)O[nt-2]=arguments[nt];return C.prototype[L].apply(I,O)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,C,b){b||(b=0);var I=Array(16);if(typeof C=="string")for(var L=0;16>L;++L)I[L]=C.charCodeAt(b++)|C.charCodeAt(b++)<<8|C.charCodeAt(b++)<<16|C.charCodeAt(b++)<<24;else for(L=0;16>L;++L)I[L]=C[b++]|C[b++]<<8|C[b++]<<16|C[b++]<<24;C=M.g[0],b=M.g[1],L=M.g[2];var j=M.g[3],O=C+(j^b&(L^j))+I[0]+3614090360&4294967295;C=b+(O<<7&4294967295|O>>>25),O=j+(L^C&(b^L))+I[1]+3905402710&4294967295,j=C+(O<<12&4294967295|O>>>20),O=L+(b^j&(C^b))+I[2]+606105819&4294967295,L=j+(O<<17&4294967295|O>>>15),O=b+(C^L&(j^C))+I[3]+3250441966&4294967295,b=L+(O<<22&4294967295|O>>>10),O=C+(j^b&(L^j))+I[4]+4118548399&4294967295,C=b+(O<<7&4294967295|O>>>25),O=j+(L^C&(b^L))+I[5]+1200080426&4294967295,j=C+(O<<12&4294967295|O>>>20),O=L+(b^j&(C^b))+I[6]+2821735955&4294967295,L=j+(O<<17&4294967295|O>>>15),O=b+(C^L&(j^C))+I[7]+4249261313&4294967295,b=L+(O<<22&4294967295|O>>>10),O=C+(j^b&(L^j))+I[8]+1770035416&4294967295,C=b+(O<<7&4294967295|O>>>25),O=j+(L^C&(b^L))+I[9]+2336552879&4294967295,j=C+(O<<12&4294967295|O>>>20),O=L+(b^j&(C^b))+I[10]+4294925233&4294967295,L=j+(O<<17&4294967295|O>>>15),O=b+(C^L&(j^C))+I[11]+2304563134&4294967295,b=L+(O<<22&4294967295|O>>>10),O=C+(j^b&(L^j))+I[12]+1804603682&4294967295,C=b+(O<<7&4294967295|O>>>25),O=j+(L^C&(b^L))+I[13]+4254626195&4294967295,j=C+(O<<12&4294967295|O>>>20),O=L+(b^j&(C^b))+I[14]+2792965006&4294967295,L=j+(O<<17&4294967295|O>>>15),O=b+(C^L&(j^C))+I[15]+1236535329&4294967295,b=L+(O<<22&4294967295|O>>>10),O=C+(L^j&(b^L))+I[1]+4129170786&4294967295,C=b+(O<<5&4294967295|O>>>27),O=j+(b^L&(C^b))+I[6]+3225465664&4294967295,j=C+(O<<9&4294967295|O>>>23),O=L+(C^b&(j^C))+I[11]+643717713&4294967295,L=j+(O<<14&4294967295|O>>>18),O=b+(j^C&(L^j))+I[0]+3921069994&4294967295,b=L+(O<<20&4294967295|O>>>12),O=C+(L^j&(b^L))+I[5]+3593408605&4294967295,C=b+(O<<5&4294967295|O>>>27),O=j+(b^L&(C^b))+I[10]+38016083&4294967295,j=C+(O<<9&4294967295|O>>>23),O=L+(C^b&(j^C))+I[15]+3634488961&4294967295,L=j+(O<<14&4294967295|O>>>18),O=b+(j^C&(L^j))+I[4]+3889429448&4294967295,b=L+(O<<20&4294967295|O>>>12),O=C+(L^j&(b^L))+I[9]+568446438&4294967295,C=b+(O<<5&4294967295|O>>>27),O=j+(b^L&(C^b))+I[14]+3275163606&4294967295,j=C+(O<<9&4294967295|O>>>23),O=L+(C^b&(j^C))+I[3]+4107603335&4294967295,L=j+(O<<14&4294967295|O>>>18),O=b+(j^C&(L^j))+I[8]+1163531501&4294967295,b=L+(O<<20&4294967295|O>>>12),O=C+(L^j&(b^L))+I[13]+2850285829&4294967295,C=b+(O<<5&4294967295|O>>>27),O=j+(b^L&(C^b))+I[2]+4243563512&4294967295,j=C+(O<<9&4294967295|O>>>23),O=L+(C^b&(j^C))+I[7]+1735328473&4294967295,L=j+(O<<14&4294967295|O>>>18),O=b+(j^C&(L^j))+I[12]+2368359562&4294967295,b=L+(O<<20&4294967295|O>>>12),O=C+(b^L^j)+I[5]+4294588738&4294967295,C=b+(O<<4&4294967295|O>>>28),O=j+(C^b^L)+I[8]+2272392833&4294967295,j=C+(O<<11&4294967295|O>>>21),O=L+(j^C^b)+I[11]+1839030562&4294967295,L=j+(O<<16&4294967295|O>>>16),O=b+(L^j^C)+I[14]+4259657740&4294967295,b=L+(O<<23&4294967295|O>>>9),O=C+(b^L^j)+I[1]+2763975236&4294967295,C=b+(O<<4&4294967295|O>>>28),O=j+(C^b^L)+I[4]+1272893353&4294967295,j=C+(O<<11&4294967295|O>>>21),O=L+(j^C^b)+I[7]+4139469664&4294967295,L=j+(O<<16&4294967295|O>>>16),O=b+(L^j^C)+I[10]+3200236656&4294967295,b=L+(O<<23&4294967295|O>>>9),O=C+(b^L^j)+I[13]+681279174&4294967295,C=b+(O<<4&4294967295|O>>>28),O=j+(C^b^L)+I[0]+3936430074&4294967295,j=C+(O<<11&4294967295|O>>>21),O=L+(j^C^b)+I[3]+3572445317&4294967295,L=j+(O<<16&4294967295|O>>>16),O=b+(L^j^C)+I[6]+76029189&4294967295,b=L+(O<<23&4294967295|O>>>9),O=C+(b^L^j)+I[9]+3654602809&4294967295,C=b+(O<<4&4294967295|O>>>28),O=j+(C^b^L)+I[12]+3873151461&4294967295,j=C+(O<<11&4294967295|O>>>21),O=L+(j^C^b)+I[15]+530742520&4294967295,L=j+(O<<16&4294967295|O>>>16),O=b+(L^j^C)+I[2]+3299628645&4294967295,b=L+(O<<23&4294967295|O>>>9),O=C+(L^(b|~j))+I[0]+4096336452&4294967295,C=b+(O<<6&4294967295|O>>>26),O=j+(b^(C|~L))+I[7]+1126891415&4294967295,j=C+(O<<10&4294967295|O>>>22),O=L+(C^(j|~b))+I[14]+2878612391&4294967295,L=j+(O<<15&4294967295|O>>>17),O=b+(j^(L|~C))+I[5]+4237533241&4294967295,b=L+(O<<21&4294967295|O>>>11),O=C+(L^(b|~j))+I[12]+1700485571&4294967295,C=b+(O<<6&4294967295|O>>>26),O=j+(b^(C|~L))+I[3]+2399980690&4294967295,j=C+(O<<10&4294967295|O>>>22),O=L+(C^(j|~b))+I[10]+4293915773&4294967295,L=j+(O<<15&4294967295|O>>>17),O=b+(j^(L|~C))+I[1]+2240044497&4294967295,b=L+(O<<21&4294967295|O>>>11),O=C+(L^(b|~j))+I[8]+1873313359&4294967295,C=b+(O<<6&4294967295|O>>>26),O=j+(b^(C|~L))+I[15]+4264355552&4294967295,j=C+(O<<10&4294967295|O>>>22),O=L+(C^(j|~b))+I[6]+2734768916&4294967295,L=j+(O<<15&4294967295|O>>>17),O=b+(j^(L|~C))+I[13]+1309151649&4294967295,b=L+(O<<21&4294967295|O>>>11),O=C+(L^(b|~j))+I[4]+4149444226&4294967295,C=b+(O<<6&4294967295|O>>>26),O=j+(b^(C|~L))+I[11]+3174756917&4294967295,j=C+(O<<10&4294967295|O>>>22),O=L+(C^(j|~b))+I[2]+718787259&4294967295,L=j+(O<<15&4294967295|O>>>17),O=b+(j^(L|~C))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+L&4294967295,M.g[3]=M.g[3]+j&4294967295}s.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var b=C-this.blockSize,I=this.B,L=this.h,j=0;j<C;){if(L==0)for(;j<=b;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<C;)if(I[L++]=M.charCodeAt(j++),L==this.blockSize){o(this,I),L=0;break}}else for(;j<C;)if(I[L++]=M[j++],L==this.blockSize){o(this,I),L=0;break}}this.h=L,this.o+=C},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var b=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=b&255,b/=256;for(this.u(M),M=Array(16),C=b=0;4>C;++C)for(var I=0;32>I;I+=8)M[b++]=this.g[C]>>>I&255;return M};function u(M,C){var b=d;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=C(M)}function h(M,C){this.h=C;for(var b=[],I=!0,L=M.length-1;0<=L;L--){var j=M[L]|0;I&&j==C||(b[L]=j,I=!1)}this.g=b}var d={};function p(M){return-128<=M&&128>M?u(M,function(C){return new h([C|0],0>C?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return k(g(-M));for(var C=[],b=1,I=0;M>=b;I++)C[I]=M/b|0,b*=4294967296;return new h(C,0)}function v(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return k(v(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=g(Math.pow(C,8)),I=T,L=0;L<M.length;L+=8){var j=Math.min(8,M.length-L),O=parseInt(M.substring(L,L+j),C);8>j?(j=g(Math.pow(C,j)),I=I.j(j).add(g(O))):(I=I.j(b),I=I.add(g(O)))}return I}var T=p(0),R=p(1),x=p(16777216);i=h.prototype,i.m=function(){if(q(this))return-k(this).m();for(var M=0,C=1,b=0;b<this.g.length;b++){var I=this.i(b);M+=(0<=I?I:4294967296+I)*C,C*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(q(this))return"-"+k(this).toString(M);for(var C=g(Math.pow(M,6)),b=this,I="";;){var L=de(b,C).g;b=K(b,L.j(C));var j=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=L,D(b))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function q(M){return M.h==-1}i.l=function(M){return M=K(this,M),q(M)?-1:D(M)?0:1};function k(M){for(var C=M.g.length,b=[],I=0;I<C;I++)b[I]=~M.g[I];return new h(b,~M.h).add(R)}i.abs=function(){return q(this)?k(this):this},i.add=function(M){for(var C=Math.max(this.g.length,M.g.length),b=[],I=0,L=0;L<=C;L++){var j=I+(this.i(L)&65535)+(M.i(L)&65535),O=(j>>>16)+(this.i(L)>>>16)+(M.i(L)>>>16);I=O>>>16,j&=65535,O&=65535,b[L]=O<<16|j}return new h(b,b[b.length-1]&-2147483648?-1:0)};function K(M,C){return M.add(k(C))}i.j=function(M){if(D(this)||D(M))return T;if(q(this))return q(M)?k(this).j(k(M)):k(k(this).j(M));if(q(M))return k(this.j(k(M)));if(0>this.l(x)&&0>M.l(x))return g(this.m()*M.m());for(var C=this.g.length+M.g.length,b=[],I=0;I<2*C;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var L=0;L<M.g.length;L++){var j=this.i(I)>>>16,O=this.i(I)&65535,nt=M.i(L)>>>16,Me=M.i(L)&65535;b[2*I+2*L]+=O*Me,Z(b,2*I+2*L),b[2*I+2*L+1]+=j*Me,Z(b,2*I+2*L+1),b[2*I+2*L+1]+=O*nt,Z(b,2*I+2*L+1),b[2*I+2*L+2]+=j*nt,Z(b,2*I+2*L+2)}for(I=0;I<C;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=C;I<2*C;I++)b[I]=0;return new h(b,0)};function Z(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function X(M,C){this.g=M,this.h=C}function de(M,C){if(D(C))throw Error("division by zero");if(D(M))return new X(T,T);if(q(M))return C=de(k(M),C),new X(k(C.g),k(C.h));if(q(C))return C=de(M,k(C)),new X(k(C.g),C.h);if(30<M.g.length){if(q(M)||q(C))throw Error("slowDivide_ only works with positive integers.");for(var b=R,I=C;0>=I.l(M);)b=oe(b),I=oe(I);var L=se(b,1),j=se(I,1);for(I=se(I,2),b=se(b,2);!D(I);){var O=j.add(I);0>=O.l(M)&&(L=L.add(b),j=O),I=se(I,1),b=se(b,1)}return C=K(M,L.j(C)),new X(L,C)}for(L=T;0<=M.l(C);){for(b=Math.max(1,Math.floor(M.m()/C.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=g(b),O=j.j(C);q(O)||0<O.l(M);)b-=I,j=g(b),O=j.j(C);D(j)&&(j=R),L=L.add(j),M=K(M,O)}return new X(L,M)}i.A=function(M){return de(this,M).h},i.and=function(M){for(var C=Math.max(this.g.length,M.g.length),b=[],I=0;I<C;I++)b[I]=this.i(I)&M.i(I);return new h(b,this.h&M.h)},i.or=function(M){for(var C=Math.max(this.g.length,M.g.length),b=[],I=0;I<C;I++)b[I]=this.i(I)|M.i(I);return new h(b,this.h|M.h)},i.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),b=[],I=0;I<C;I++)b[I]=this.i(I)^M.i(I);return new h(b,this.h^M.h)};function oe(M){for(var C=M.g.length+1,b=[],I=0;I<C;I++)b[I]=M.i(I)<<1|M.i(I-1)>>>31;return new h(b,M.h)}function se(M,C){var b=C>>5;C%=32;for(var I=M.g.length-b,L=[],j=0;j<I;j++)L[j]=0<C?M.i(j+b)>>>C|M.i(j+b+1)<<32-C:M.i(j+b);return new h(L,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,PT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,ls=h}).apply(typeof EE<"u"?EE:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UT,Xl,jT,dh,ep,zT,BT,qT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in _))break e;_=_[H]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,H={next:function(){if(!A&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,R.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,H,$){for(var ae=Array(arguments.length-2),je=2;je<arguments.length;je++)ae[je-2]=arguments[je];return y.prototype[H].apply(A,ae)}}function q(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const H=c.length||0,$=A.length||0;c.length=H+$;for(let ae=0;ae<$;ae++)c[H+ae]=A[ae]}else c.push(A)}}class K{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var oe=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function se(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function C(c){const y={};for(const _ in c)y[_]=c[_];return y}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let _,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(_ in A)c[_]=A[_];for(let $=0;$<b.length;$++)_=b[$],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function L(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function O(){var c=Re;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class nt{constructor(){this.h=this.g=null}add(y,_){const A=Me.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Me=new K(()=>new ie,c=>c.reset());class ie{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let me,ue=!1,Re=new nt,V=()=>{const c=d.Promise.resolve(void 0);me=()=>{c.then(re)}};var re=()=>{for(var c;c=O();){try{c.h.call(c.g)}catch(_){j(_)}var y=Me;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ue=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return c}();function De(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(oe){e:{try{de(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}D(De,le);var Ie={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),He=0;function lt(c,y,_,A,H){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=H,this.key=++He,this.da=this.fa=!1}function Ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nn(c){this.src=c,this.g={},this.h=0}nn.prototype.add=function(c,y,_,A,H){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=Cn(c,y,A,H);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new lt(y,this.src,$,!!A,H),y.fa=_,c.push(y)),y};function Ni(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],H=Array.prototype.indexOf.call(A,y,void 0),$;($=0<=H)&&Array.prototype.splice.call(A,H,1),$&&(Ye(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Cn(c,y,_,A){for(var H=0;H<c.length;++H){var $=c[H];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==A)return H}return-1}var pr="closure_lm_"+(1e6*Math.random()|0),gr={};function Di(c,y,_,A,H){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Di(c,y[$],_,A,H);return null}return _=Vu(_),c&&c[yt]?c.K(y,_,g(A)?!!A.capture:!1,H):Uo(c,y,_,!1,A,H)}function Uo(c,y,_,A,H,$){if(!y)throw Error("Invalid event type");var ae=g(H)?!!H.capture:!!H,je=jo(c);if(je||(c[pr]=je=new nn(c)),_=je.add(y,_,A,ae,$),_.proxy)return _;if(A=ya(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ce||(H=ae),H===void 0&&(H=!1),c.addEventListener(y.toString(),A,H);else if(c.attachEvent)c.attachEvent(va(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ya(){function c(_){return y.call(c.src,c.listener,_)}const y=Sf;return c}function _a(c,y,_,A,H){if(Array.isArray(y))for(var $=0;$<y.length;$++)_a(c,y[$],_,A,H);else A=g(A)?!!A.capture:!!A,_=Vu(_),c&&c[yt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=Cn($,_,A,H),-1<_&&(Ye($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=jo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Cn(y,_,A,H)),(_=-1<c?y[c]:null)&&As(_))}function As(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[yt])Ni(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(va(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=jo(y))?(Ni(_,c),_.h==0&&(_.src=null,y[pr]=null)):Ye(c)}}}function va(c){return c in gr?gr[c]:gr[c]="on"+c}function Sf(c,y){if(c.da)c=!0;else{y=new De(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&As(c),c=_.call(A,y)}return c}function jo(c){return c=c[pr],c instanceof nn?c:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vu(c){return typeof c=="function"?c:(c[cn]||(c[cn]=function(y){return c.handleEvent(y)}),c[cn])}function St(){ge.call(this),this.i=new nn(this),this.M=this,this.F=null}D(St,ge),St.prototype[yt]=!0,St.prototype.removeEventListener=function(c,y,_,A){_a(this,c,y,_,A)};function xt(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var H=y;y=new le(A,c),I(y,H)}if(H=!0,_)for(var $=_.length-1;0<=$;$--){var ae=y.g=_[$];H=xi(ae,A,!0,y)&&H}if(ae=y.g=c,H=xi(ae,A,!0,y)&&H,H=xi(ae,A,!1,y)&&H,_)for($=0;$<_.length;$++)ae=y.g=_[$],H=xi(ae,A,!1,y)&&H}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Ye(_[A]);delete c.g[y],c.h--}}this.F=null},St.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},St.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function xi(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,$=0;$<y.length;++$){var ae=y[$];if(ae&&!ae.da&&ae.capture==_){var je=ae.listener,bt=ae.ha||ae.src;ae.fa&&Ni(c.i,ae),H=je.call(bt,A)!==!1&&H}}return H&&!A.defaultPrevented}function ku(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function zo(c){c.g=ku(()=>{c.g=null,c.i&&(c.i=!1,zo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Af extends ge{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:zo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){ge.call(this),this.h=c,this.g={}}D(bs,ge);var yr=[];function Qt(c){se(c.g,function(y,_){this.g.hasOwnProperty(_)&&As(y)},c),c.g={}}bs.prototype.N=function(){bs.aa.N.call(this),Qt(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bo=d.JSON.stringify,ri=d.JSON.parse,rn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function qo(){}qo.prototype.h=null;function Lu(c){return c.h||(c.h=c.i())}function Pu(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){le.call(this,"d")}D(_r,le);function Gn(){le.call(this,"c")}D(Gn,le);var In={},vr=null;function Ea(){return vr=vr||new St}In.La="serverreachability";function Ho(c){le.call(this,In.La,c)}D(Ho,le);function Er(c){const y=Ea();xt(y,new Ho(y))}In.STAT_EVENT="statevent";function Ta(c,y){le.call(this,In.STAT_EVENT,c),this.stat=y}D(Ta,le);function dt(c){const y=Ea();xt(y,new Ta(y,c))}In.Ma="timingevent";function Uu(c,y){le.call(this,In.Ma,c),this.size=y}D(Uu,le);function Tr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function wr(){this.g=!0}wr.prototype.xa=function(){this.g=!1};function ju(c,y,_,A,H,$){c.info(function(){if(c.g)if($)for(var ae="",je=$.split("&"),bt=0;bt<je.length;bt++){var ze=je[bt].split("=");if(1<ze.length){var Vt=ze[0];ze=ze[1];var Rt=Vt.split("_");ae=2<=Rt.length&&Rt[1]=="type"?ae+(Vt+"="+ze+"&"):ae+(Vt+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+_+`
`+ae})}function zu(c,y,_,A,H,$,ae){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+_+`
`+$+" "+ae})}function Sr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ot(c,_)+(A?" "+A:"")})}function ai(c,y){c.info(function(){return"TIMEOUT: "+y})}wr.prototype.info=function(){};function Ot(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var $=H[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<H.length;ae++)H[ae]=""}}}}return Bo(_)}catch{return y}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rs;function wa(){}D(wa,qo),wa.prototype.g=function(){return new XMLHttpRequest},wa.prototype.i=function(){return{}},Rs=new wa;function oi(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fo}function Fo(){this.i=null,this.g="",this.h=!1}var Ar={},Cs={};function Kn(c,y,_){c.L=1,c.v=Ds(ut(y)),c.m=_,c.P=!0,Mi(c,null)}function Mi(c,y){c.F=Date.now(),rt(c),c.A=ut(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Li(_.i,"t",A),c.C=0,_=c.j.J,c.h=new Fo,c.g=ec(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Af(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(yr[0]=H.toString()),H=yr);for(var $=0;$<H.length;$++){var ae=Di(_,H[$],A||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Er(),ju(c.i,c.u,c.A,c.l,c.R,c.m)}oi.prototype.ca=function(c){c=c.target;const y=this.M;y&&Mn(c)==3?y.j():this.Y(c)},oi.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Mn(this.g);var y=this.g.Ba();const zi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Ku(this.g)))){this.J||Rt!=4||y==7||(y==8||0>=zi?Er(3):Er(2)),Sa(this);var _=this.g.Z();this.X=_;t:if(br(this)){var A=Ku(this.g);c="";var H=A.length,$=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),_n(this);var ae="";break t}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!($&&y==H-1)});A.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,zu(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,bt=this.g;if((je=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(je)){var ze=je;break t}}ze=null}if(_=ze)Sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,_);else{this.o=!1,this.s=3,dt(12),hn(this),_n(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ae.length;)if(zt=Rr(this,ae),zt==Cs){Rt==4&&(this.s=4,dt(14),_=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ar){this.s=4,dt(15),Sr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else Sr(this.i,this.l,zt,null),vn(this,zt);if(br(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)Sr(this.i,this.l,ae,"[Invalid Chunked Response]"),hn(this),_n(this);else if(0<ae.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ps(Vt),Vt.M=!0,dt(11))}}else Sr(this.i,this.l,ae,null),vn(this,ae);Rt==4&&hn(this),this.o&&!this.J&&(Rt==4?Wu(this.j,this):(this.o=!1,rt(this)))}else Df(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),hn(this),_n(this)}}}catch{}finally{}};function br(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Rr(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?Cs:(_=Number(y.substring(_,A)),isNaN(_)?Ar:(A+=1,A+_>y.length?Cs:(y=y.slice(A,A+_),c.C=A+_,y)))}oi.prototype.cancel=function(){this.J=!0,hn(this)};function rt(c){c.S=Date.now()+c.I,Go(c,c.I)}function Go(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tr(R(c.ba,c),y)}function Sa(c){c.B&&(d.clearTimeout(c.B),c.B=null)}oi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ai(this.i,this.A),this.L!=2&&(Er(),dt(17)),hn(this),this.s=2,_n(this)):Go(this,this.S-c)};function _n(c){c.j.G==0||c.J||Wu(c.j,c)}function hn(c){Sa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Qt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function vn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Cr(_.h,c))){if(!c.K&&Cr(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ma(_),xa(_);else break e;nl(_),dt(18)}}else _.za=H[1],0<_.za-_.T&&37500>H[2]&&_.F&&_.v==0&&!_.C&&(_.C=Tr(R(_.Za,_),6e3));if(1>=Bu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ji(_,11)}else if((c.K||_.g==c)&&Ma(_),!Z(y))for(H=_.Da.g.parse(y),y=0;y<H.length;y++){let ze=H[y];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const Vt=ze[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const Rt=ze[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const zi=ze[5];zi!=null&&typeof zi=="number"&&0<zi&&(A=1.5*zi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const zt=c.g;if(zt){const mi=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var $=A.h;$.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ir($,$.h),$.h=null))}if(A.D){const rl=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(A.ya=rl,Fe(A.I,A.D,rl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ae=c;if(A.qa=Ju(A,A.J?A.ia:null,A.W),ae.K){Nn(A.h,ae);var je=ae,bt=A.L;bt&&(je.I=bt),je.B&&(Sa(je),rt(je)),A.g=ae}else Yu(A);0<_.i.length&&Oa(_)}else ze[0]!="stop"&&ze[0]!="close"||ji(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?ji(_,7):el(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}Er(4)}catch{}}var bf=class{constructor(c,y){this.g=c,this.map=y}};function Ko(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $o(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bu(c){return c.h?1:c.g?c.g.size:0}function Cr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ir(c,y){c.g?c.g.add(y):c.h=y}function Nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ko.prototype.cancel=function(){if(this.i=sn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return q(c.i)}function qu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function Rf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Is(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Rf(c),A=qu(c),H=A.length,$=0;$<H;$++)y.call(void 0,A[$],_&&_[$],c)}var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),H=null;if(0<=A){var $=c[_].substring(0,A);H=c[_].substring(A+1)}else $=c[_];y($,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vi){this.h=c.h,Nr(this,c.j),this.o=c.o,this.g=c.g,Ns(this,c.s),this.l=c.l;var y=c.i,_=new li;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ba(this,_),this.m=c.m}else c&&(y=String(c).match(Qo))?(this.h=!1,Nr(this,y[1]||"",!0),this.o=Dr(y[2]||""),this.g=Dr(y[3]||"",!0),Ns(this,y[4]),this.l=Dr(y[5]||"",!0),ba(this,y[6]||"",!0),this.m=Dr(y[7]||"")):(this.h=!1,this.i=new li(null,this.h))}Vi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Dn(y,Yo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Dn(y,Yo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Dn(_,_.charAt(0)=="/"?Xo:Hu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Dn(_,Nf)),c.join("")};function ut(c){return new Vi(c)}function Nr(c,y,_){c.j=_?Dr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ns(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ba(c,y,_){y instanceof li?(c.i=y,Wo(c.i,c.h)):(_||(y=Dn(y,If)),c.i=new li(y,c.h))}function Fe(c,y,_){c.i.set(y,_)}function Ds(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dn(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Cf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Cf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Yo=/[#\/\?@]/g,Hu=/[#\?:]/g,Xo=/[#\?]/g,If=/[#\?@]/g,Nf=/#/g;function li(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&Aa(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=li.prototype,i.add=function(c,y){xn(this),this.i=null,c=Pi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ra(c,y){xn(c),y=Pi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function ki(c,y){return xn(c),y=Pi(c,y),c.g.has(y)}i.forEach=function(c,y){xn(this),this.g.forEach(function(_,A){_.forEach(function(H){c.call(y,H,A,this)},this)},this)},i.na=function(){xn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const H=c[A];for(let $=0;$<H.length;$++)_.push(y[A])}return _},i.V=function(c){xn(this);let y=[];if(typeof c=="string")ki(this,c)&&(y=y.concat(this.g.get(Pi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return xn(this),this.i=null,c=Pi(this,c),ki(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Li(c,y,_){Ra(c,y),0<_.length&&(c.i=null,c.g.set(Pi(c,y),q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const $=encodeURIComponent(String(A)),ae=this.V(A);for(A=0;A<ae.length;A++){var H=$;ae[A]!==""&&(H+="="+encodeURIComponent(String(ae[A]))),c.push(H)}}return this.i=c.join("&")};function Pi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Wo(c,y){y&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(_,A){var H=A.toLowerCase();A!=H&&(Ra(this,A),Li(this,H,_))},c)),c.j=y}function Fu(c,y){const _=new wr;if(d.Image){const A=new Image;A.onload=x(On,_,"TestLoadImage: loaded",!0,y,A),A.onerror=x(On,_,"TestLoadImage: error",!1,y,A),A.onabort=x(On,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(On,_,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function xs(c,y){const _=new wr,A=new AbortController,H=setTimeout(()=>{A.abort(),On(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(H),$.ok?On(_,"TestPingServer: ok",!0,y):On(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),On(_,"TestPingServer: error",!1,y)})}function On(c,y,_,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(_)}catch{}}function Os(){this.g=new rn}function ui(c,y,_){const A=_||"";try{Is(c,function(H,$){let ae=H;g(H)&&(ae=Bo(H)),y.push(A+$+"="+encodeURIComponent(ae))})}catch(H){throw y.push(A+"type="+encodeURIComponent("_badmap")),H}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}D(xr,qo),xr.prototype.g=function(){return new Ui(this.l,this.j)},xr.prototype.i=function(c){return function(){return c}}({});function Ui(c,y){St.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Ui,St),i=Ui.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,hi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ci(this):hi(this),this.readyState==3&&Zo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ci(this))},i.Qa=function(c){this.g&&(this.response=c,ci(this))},i.ga=function(){this.g&&ci(this)};function ci(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function hi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Jo(c){let y="";return se(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Mt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Fe(c,y,_))}function $e(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D($e,St);var Ca=/^https?$/i,Ms=["POST","PUT"];i=$e.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rs.g(),this.v=this.o?Lu(this.o):Lu(Rs),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Gu(this,$);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)_.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())_.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ms,y,void 0))||A||H||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of _)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Gu(this,$)}};function Gu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ia(c),fi(c)}function Ia(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),fi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),$e.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},i.bb=function(){Na(this)};function Na(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)ku(c.Ea,0,c);else if(xt(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=ae===0){var H=String(c.D).match(Qo)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),A=!Ca.test(H?H.toLowerCase():"")}_=A}if(_)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var $=2<Mn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Ia(c)}}finally{fi(c)}}}}function fi(c,y){if(c.g){Vs(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||xt(c,"ready");try{_.onreadystatechange=A}catch{}}}function Vs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ri(y)}};function Ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Df(c){const y={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Z(c[A]))continue;var _=L(c[A]);const H=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[H]||[];y[H]=$,$.push(_)}M(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Da(c){this.Aa=0,this.i=[],this.j=new wr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ks("baseRetryDelayMs",5e3,c),this.cb=ks("retryDelaySeedMs",1e4,c),this.Wa=ks("forwardChannelMaxRetries",2,c),this.wa=ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ko(c&&c.concurrentRequestLimit),this.Da=new Os,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Da.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,A){dt(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Ju(this,null,this.W),Oa(this)};function el(c){if($u(c),c.G==3){var y=c.U++,_=ut(c.I);if(Fe(_,"SID",c.K),Fe(_,"RID",y),Fe(_,"TYPE","terminate"),Ls(c,_),y=new oi(c,c.j,y),y.L=2,y.v=Ds(ut(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=ec(y.j,null),y.g.ea(y.v)),y.F=Date.now(),rt(y)}Zu(c)}function xa(c){c.g&&(Ps(c),c.g.cancel(),c.g=null)}function $u(c){xa(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ma(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Oa(c){if(!$o(c.h)&&!c.s){c.s=!0;var y=c.Ga;me||V(),ue||(me(),ue=!0),Re.add(y,c),c.B=0}}function xf(c,y){return Bu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tr(R(c.Ga,c,y),il(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new oi(this,this.j,c);let $=this.o;if(this.S&&($?($=C($),I($,this.S)):$=this.S),this.m!==null||this.O||(H.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Qu(this,H,y),_=ut(this.I),Fe(_,"RID",c),Fe(_,"CVER",22),this.D&&Fe(_,"X-HTTP-Session-Id",this.D),Ls(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Jo($)))+"&"+y:this.m&&Mt(_,this.m,$)),Ir(this.h,H),this.Ua&&Fe(_,"TYPE","init"),this.P?(Fe(_,"$req",y),Fe(_,"SID","null"),H.T=!0,Kn(H,_,null)):Kn(H,_,y),this.G=2}}else this.G==3&&(c?tl(this,c):this.i.length==0||$o(this.h)||tl(this))};function tl(c,y){var _;y?_=y.l:_=c.U++;const A=ut(c.I);Fe(A,"SID",c.K),Fe(A,"RID",_),Fe(A,"AID",c.T),Ls(c,A),c.m&&c.o&&Mt(A,c.m,c.o),_=new oi(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Qu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ir(c.h,_),Kn(_,A,y)}function Ls(c,y){c.H&&se(c.H,function(_,A){Fe(y,A,_)}),c.l&&Is({},function(_,A){Fe(y,A,_)})}function Qu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?R(c.l.Na,c.l,c):null;e:{var H=c.i;let $=-1;for(;;){const ae=["count="+_];$==-1?0<_?($=H[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let je=!0;for(let bt=0;bt<_;bt++){let ze=H[bt].g;const Vt=H[bt].map;if(ze-=$,0>ze)$=Math.max(0,H[bt].g-100),je=!1;else try{ui(Vt,ae,"req"+ze+"_")}catch{A&&A(Vt)}}if(je){A=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function Yu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;me||V(),ue||(me(),ue=!0),Re.add(y,c),c.v=0}}function nl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tr(R(c.Fa,c),il(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tr(R(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),xa(this),Xu(this))};function Ps(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new oi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=ut(c.qa);Fe(y,"RID","rpc"),Fe(y,"SID",c.K),Fe(y,"AID",c.T),Fe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(y,"TO",c.ja),Fe(y,"TYPE","xmlhttp"),Ls(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ds(ut(y)),_.m=null,_.P=!0,Mi(_,c)}i.Za=function(){this.C!=null&&(this.C=null,xa(this),nl(this),dt(19))};function Ma(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Wu(c,y){var _=null;if(c.g==y){Ma(c),Ps(c),c.g=null;var A=2}else if(Cr(c.h,y))_=y.D,Nn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;A=Ea(),xt(A,new Uu(A,_)),Oa(c)}else Yu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(A==1&&xf(c,y)||A==2&&nl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),H){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function il(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function ji(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),A=c.Xa;const H=!A;A=new Vi(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Nr(A,"https"),Ds(A),H?Fu(A.toString(),_):xs(A.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(y),Zu(c),$u(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const y=sn(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Ju(c,y,_){var A=_ instanceof Vi?ut(_):new Vi(_);if(A.g!="")y&&(A.g=y+"."+A.g),Ns(A,A.s);else{var H=d.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var $=new Vi(null);A&&Nr($,A),y&&($.g=y),H&&Ns($,H),_&&($.l=_),A=$}return _=c.D,y=c.ya,_&&y&&Fe(A,_,y),Fe(A,"VER",c.la),Ls(c,A),A}function ec(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new xr({eb:_})):new $e(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}i=tc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Va(){}Va.prototype.g=function(c,y){return new an(c,y)};function an(c,y){St.call(this),this.g=new Da(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new di(this)}D(an,St),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){el(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Bo(c),c=_);y.i.push(new bf(y.Ya++,c)),y.G==3&&Oa(y)},an.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,an.aa.N.call(this)};function nc(c){_r.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(nc,_r);function ic(){Gn.call(this),this.status=1}D(ic,Gn);function di(c){this.g=c}D(di,tc),di.prototype.ua=function(){xt(this.g,"a")},di.prototype.ta=function(c){xt(this.g,new nc(c))},di.prototype.sa=function(c){xt(this.g,new ic)},di.prototype.ra=function(){xt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,qT=function(){return new Va},BT=function(){return Ea()},zT=In,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,dh=At,Oi.COMPLETE="complete",jT=Oi,Pu.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",St.prototype.listen=St.prototype.K,Xl=Pu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,UT=$e}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const TE="@firebase/firestore",wE="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Cp("@firebase/firestore");function oo(){return ua.logLevel}function he(i,...e){if(ua.logLevel<=ke.DEBUG){const t=e.map(Bp);ua.debug(`Firestore (${Co}): ${i}`,...t)}}function cr(i,...e){if(ua.logLevel<=ke.ERROR){const t=e.map(Bp);ua.error(`Firestore (${Co}): ${i}`,...t)}}function _o(i,...e){if(ua.logLevel<=ke.WARN){const t=e.map(Bp);ua.warn(`Firestore (${Co}): ${i}`,...t)}}function Bp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i="Unexpected state"){const e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+i;throw cr(e),new Error(e)}function Qe(i,e){i||we()}function be(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class kI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LI{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Qe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string"),new HT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Zt(e)}}class PI{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class UI{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new PI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jI{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Fn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Qe(this.o===void 0);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new SE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Qe(typeof t.token=="string"),this.R=t.token,new SE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=zI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ue(i,e){return i<e?-1:i>e?1:0}function vo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=-62135596800,bE=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*bE);return new Nt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<AE)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-AE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Nt(0,0))}static max(){return new Se(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="__name__";class Ti{constructor(e,t,s){t===void 0?t=0:t>e.length&&we(),s===void 0?s=e.length-t:s>e.length-t&&we(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ti.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ti?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Ti.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=Ti.isNumericId(e),o=Ti.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Ti.extractNumericId(e).compare(Ti.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class tt extends Ti{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const BI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ti{construct(e,t,s){return new Kt(e,t,s)}static isValidIdentifier(e){return BI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RE}static keyField(){return new Kt([RE])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(tt.fromString(e))}static fromName(e){return new ve(tt.fromString(e).popFirst(5))}static empty(){return new ve(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=-1;function qI(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Nt(t+1,0):new Nt(t,s));return new hs(o,ve.empty(),e)}function HI(i){return new hs(i.readTime,i.key,uu)}class hs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new hs(Se.min(),ve.empty(),uu)}static max(){return new hs(Se.max(),ve.empty(),uu)}}function FI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:Ue(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==GI)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof te?t:te.resolve(t)}catch(t){return te.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):te.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):te.reject(t)}static resolve(e){return new te((t,s)=>{t(e)})}static reject(e){return new te((t,s)=>{s(e)})}static waitFor(e){return new te((t,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=te.resolve(!1);for(const s of e)t=t.next(o=>o?te.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new te((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(v=>{h[g]=v,++d,d===u&&s(h)},v=>o(v))}})}static doWhile(e,t){return new te((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function $I(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function No(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=-1;function Wh(i){return i==null}function xh(i){return i===0&&1/i==-1/0}function QI(i){return typeof i=="number"&&Number.isInteger(i)&&!xh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="";function YI(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=CE(e)),e=XI(i.get(t),e);return CE(e)}function XI(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case GT:t+="";break;default:t+=u}}return t}function CE(i){return i+GT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Es(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function KT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ih(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ih(this.root,e,this.comparator,!1)}getReverseIterator(){return new ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ih(this.root,e,this.comparator,!0)}}class ih{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Gt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new NE(this.data.getIterator())}getIteratorFrom(e){return new NE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class NE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new bn([])}unionWith(e){let t=new Dt(Kt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $T("Invalid base64 string: "+u):u}}(e);return new $t(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(i){if(Qe(!!i),typeof i=="string"){let e=0;const t=WI.exec(i);if(Qe(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(i.seconds),nanos:pt(i.nanos)}}function pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ds(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="server_timestamp",YT="__type__",XT="__previous_value__",WT="__local_write_time__";function Hp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[YT])===null||t===void 0?void 0:t.stringValue)===QT}function Zh(i){const e=i.mapValue.fields[XT];return Hp(e)?Zh(e):e}function cu(i){const e=fs(i.mapValue.fields[WT].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t,s,o,u,h,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Oh="(default)";class hu{constructor(e,t){this.projectId=e,this.database=t||Oh}static empty(){return new hu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="__type__",JI="__max__",rh={mapValue:{}},JT="__vector__",Mh="value";function ms(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hp(i)?4:tN(i)?9007199254740991:eN(i)?10:11:we()}function Ri(i,e){if(i===e)return!0;const t=ms(i);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return cu(i).isEqual(cu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=fs(o.timestampValue),d=fs(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=pt(o.doubleValue),d=pt(u.doubleValue);return h===d?xh(h)===xh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return vo(i.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(IE(h)!==IE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Ri(h[p],d[p])))return!1;return!0}(i,e);default:return we()}}function fu(i,e){return(i.values||[]).find(t=>Ri(t,e))!==void 0}function Eo(i,e){if(i===e)return 0;const t=ms(i),s=ms(e);if(t!==s)return Ue(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ue(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=pt(u.integerValue||u.doubleValue),p=pt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return DE(i.timestampValue,e.timestampValue);case 4:return DE(cu(i),cu(e));case 5:return Ue(i.stringValue,e.stringValue);case 6:return function(u,h){const d=ds(u),p=ds(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=Ue(d[g],p[g]);if(v!==0)return v}return Ue(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Ue(pt(u.latitude),pt(h.latitude));return d!==0?d:Ue(pt(u.longitude),pt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return xE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,v;const T=u.fields||{},R=h.fields||{},x=(d=T[Mh])===null||d===void 0?void 0:d.arrayValue,D=(p=R[Mh])===null||p===void 0?void 0:p.arrayValue,q=Ue(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0);return q!==0?q:xE(x,D)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===rh.mapValue&&h===rh.mapValue)return 0;if(u===rh.mapValue)return 1;if(h===rh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const R=Ue(p[T],v[T]);if(R!==0)return R;const x=Eo(d[p[T]],g[v[T]]);if(x!==0)return x}return Ue(p.length,v.length)}(i.mapValue,e.mapValue);default:throw we()}}function DE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ue(i,e);const t=fs(i),s=fs(e),o=Ue(t.seconds,s.seconds);return o!==0?o:Ue(t.nanos,s.nanos)}function xE(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Eo(t[o],s[o]);if(u)return u}return Ue(t.length,s.length)}function To(i){return tp(i)}function tp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=fs(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ds(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ve.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=tp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${tp(t.fields[h])}`;return o+"}"}(i.mapValue):we()}function mh(i){switch(ms(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(i);return e?16+mh(e):16;case 5:return 2*i.stringValue.length;case 6:return ds(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+mh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Es(s.fields,(u,h)=>{o+=u.length+mh(h)}),o}(i.mapValue);default:throw we()}}function OE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function np(i){return!!i&&"integerValue"in i}function Fp(i){return!!i&&"arrayValue"in i}function ME(i){return!!i&&"nullValue"in i}function VE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ph(i){return!!i&&"mapValue"in i}function eN(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZT])===null||t===void 0?void 0:t.stringValue)===JT}function tu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Es(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=tu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function tN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===JI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ph(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(t)}setAll(e){let t=Kt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=d.popLast()}h?s[d.lastSegment()]=tu(h):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());ph(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Es(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new pn(tu(this.value))}}function ew(i){const e=[];return Es(i.fields,(t,s)=>{const o=new Kt([t]);if(ph(s)){const u=ew(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,t,s,o,u,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Jt(e,0,Se.min(),Se.min(),Se.min(),pn.empty(),0)}static newFoundDocument(e,t,s,o){return new Jt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Jt(e,2,t,Se.min(),Se.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new Jt(e,3,t,Se.min(),Se.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t){this.position=e,this.inclusive=t}}function kE(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=Eo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function LE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ri(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,t="asc"){this.field=e,this.dir=t}}function nN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{}class wt extends tw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new rN(e,t,s):t==="array-contains"?new oN(e,s):t==="in"?new lN(e,s):t==="not-in"?new uN(e,s):t==="array-contains-any"?new cN(e,s):new wt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new sN(e,s):new aN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Eo(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(Eo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends tw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ei(e,t)}matches(e){return nw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nw(i){return i.op==="and"}function iw(i){return iN(i)&&nw(i)}function iN(i){for(const e of i.filters)if(e instanceof ei)return!1;return!0}function ip(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+To(i.value);if(iw(i))return i.filters.map(e=>ip(e)).join(",");{const e=i.filters.map(t=>ip(t)).join(",");return`${i.op}(${e})`}}function rw(i,e){return i instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&Ri(s.value,o.value)}(i,e):i instanceof ei?function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&rw(h,o.filters[d]),!0):!1}(i,e):void we()}function sw(i){return i instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${To(t.value)}`}(i):i instanceof ei?function(t){return t.op.toString()+" {"+t.getFilters().map(sw).join(" ,")+"}"}(i):"Filter"}class rN extends wt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class sN extends wt{constructor(e,t){super(e,"in",t),this.keys=aw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aN extends wt{constructor(e,t){super(e,"not-in",t),this.keys=aw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function aw(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class oN extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fp(t)&&fu(t.arrayValue,this.value)}}class lN extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&fu(this.value.arrayValue,t)}}class uN extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!fu(this.value.arrayValue,t)}}class cN extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>fu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,t=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function PE(i,e=null,t=[],s=[],o=null,u=null,h=null){return new hN(i,e,t,s,o,u,h)}function Gp(i){const e=be(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ip(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Wh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>To(s)).join(",")),e.le=t}return e.le}function Kp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!nN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!rw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!LE(i.startAt,e.startAt)&&LE(i.endAt,e.endAt)}function rp(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,t=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function fN(i,e,t,s,o,u,h,d){return new Do(i,e,t,s,o,u,h,d)}function $p(i){return new Do(i)}function UE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ow(i){return i.collectionGroup!==null}function nu(i){const e=be(i);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Dt(Kt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new du(u,s))}),t.has(Kt.keyField().canonicalString())||e.he.push(new du(Kt.keyField(),s))}return e.he}function Ai(i){const e=be(i);return e.Pe||(e.Pe=dN(e,nu(i))),e.Pe}function dN(i,e){if(i.limitType==="F")return PE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new du(o.field,u)});const t=i.endAt?new Vh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Vh(i.startAt.position,i.startAt.inclusive):null;return PE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function sp(i,e){const t=i.filters.concat([e]);return new Do(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function ap(i,e,t){return new Do(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Jh(i,e){return Kp(Ai(i),Ai(e))&&i.limitType===e.limitType}function lw(i){return`${Gp(Ai(i))}|lt:${i.limitType}`}function lo(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>sw(o)).join(", ")}]`),Wh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>To(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>To(o)).join(",")),`Target(${s})`}(Ai(i))}; limitType=${i.limitType})`}function ef(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of nu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=kE(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,nu(s),o)||s.endAt&&!function(h,d,p){const g=kE(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,nu(s),o))}(i,e)}function mN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function uw(i){return(e,t)=>{let s=!1;for(const o of nu(i)){const u=pN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function pN(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Eo(p,g):we()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return KT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN=new ot(ve.comparator);function hr(){return gN}const cw=new ot(ve.comparator);function Wl(...i){let e=cw;for(const t of i)e=e.insert(t.key,t);return e}function hw(i){let e=cw;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ia(){return iu()}function fw(){return iu()}function iu(){return new ma(i=>i.toString(),(i,e)=>i.isEqual(e))}const yN=new ot(ve.comparator),_N=new Dt(ve.comparator);function Le(...i){let e=_N;for(const t of i)e=e.add(t);return e}const vN=new Dt(Ue);function EN(){return vN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xh(e)?"-0":e}}function dw(i){return{integerValue:""+i}}function TN(i,e){return QI(e)?dw(e):Qp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function wN(i,e,t){return i instanceof kh?function(o,u){const h={fields:{[YT]:{stringValue:QT},[WT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hp(u)&&(u=Zh(u)),u&&(h.fields[XT]=u),{mapValue:h}}(t,e):i instanceof mu?pw(i,e):i instanceof pu?gw(i,e):function(o,u){const h=mw(o,u),d=jE(h)+jE(o.Ie);return np(h)&&np(o.Ie)?dw(d):Qp(o.serializer,d)}(i,e)}function SN(i,e,t){return i instanceof mu?pw(i,e):i instanceof pu?gw(i,e):t}function mw(i,e){return i instanceof Lh?function(s){return np(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class kh extends tf{}class mu extends tf{constructor(e){super(),this.elements=e}}function pw(i,e){const t=yw(e);for(const s of i.elements)t.some(o=>Ri(o,s))||t.push(s);return{arrayValue:{values:t}}}class pu extends tf{constructor(e){super(),this.elements=e}}function gw(i,e){let t=yw(e);for(const s of i.elements)t=t.filter(o=>!Ri(o,s));return{arrayValue:{values:t}}}class Lh extends tf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function jE(i){return pt(i.integerValue||i.doubleValue)}function yw(i){return Fp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function AN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?vo(s.elements,o.elements,Ri):s instanceof Lh&&o instanceof Lh?Ri(s.Ie,o.Ie):s instanceof kh&&o instanceof kh}(i.transform,e.transform)}class bN{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class nf{}function _w(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ew(i.key,Zn.none()):new bu(i.key,i.data,Zn.none());{const t=i.data,s=pn.empty();let o=new Dt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Ts(i.key,s,new bn(o.toArray()),Zn.none())}}function RN(i,e,t){i instanceof bu?function(o,u,h){const d=o.value.clone(),p=BE(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof Ts?function(o,u,h){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=BE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(vw(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function ru(i,e,t,s){return i instanceof bu?function(u,h,d,p){if(!gh(u.precondition,h))return d;const g=u.value.clone(),v=qE(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ts?function(u,h,d,p){if(!gh(u.precondition,h))return d;const g=qE(u.fieldTransforms,p,h),v=h.data;return v.setAll(vw(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(u,h,d){return gh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function CN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=mw(s.transform,o||null);u!=null&&(t===null&&(t=pn.empty()),t.set(s.field,u))}return t||null}function zE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,(u,h)=>AN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class bu extends nf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends nf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function BE(i,e,t){const s=new Map;Qe(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,SN(h,d,t[o]))}return s}function qE(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,wN(u,h,e))}return s}class Ew extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IN extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&RN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=ru(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=ru(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=fw();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=t.has(o.key)?null:d;const p=_w(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(t,s)=>zE(t,s))&&vo(this.baseMutations,e.baseMutations,(t,s)=>zE(t,s))}}class Yp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Qe(e.mutations.length===s.length);let o=function(){return yN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Yp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,qe;function ON(i){switch(i){case ee.OK:return we();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we()}}function Tw(i){if(i===void 0)return cr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Tt.OK:return ee.OK;case Tt.CANCELLED:return ee.CANCELLED;case Tt.UNKNOWN:return ee.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return ee.INTERNAL;case Tt.UNAVAILABLE:return ee.UNAVAILABLE;case Tt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Tt.NOT_FOUND:return ee.NOT_FOUND;case Tt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Tt.ABORTED:return ee.ABORTED;case Tt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Tt.DATA_LOSS:return ee.DATA_LOSS;default:return we()}}(qe=Tt||(Tt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new ls([4294967295,4294967295],0);function HE(i){const e=MN().encode(i),t=new PT;return t.update(e),new Uint8Array(t.digest())}function FE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([t,s],0),new ls([o,u],0)]}class Xp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Zl(`Invalid padding: ${t}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ls.fromNumber(this.Ee)}Ae(e,t,s){let o=e.add(t.multiply(ls.fromNumber(s)));return o.compare(VN)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=HE(e),[s,o]=FE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Xp(u,o,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=HE(e),[s,o]=FE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new rf(Se.min(),o,new ot(Ue),hr(),Le())}}class Ru{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Ru(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t,s,o){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=o}}class ww{constructor(e,t){this.targetId=e,this.ge=t}}class Sw{constructor(e,t,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class GE{constructor(){this.pe=0,this.ye=KE(),this.we=$t.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Le(),t=Le(),s=Le();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:we()}}),new Ru(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=KE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class kN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=hr(),this.$e=sh(),this.Ke=sh(),this.Ue=new ot(Ue)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,s=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(rp(u))if(s===0){const h=new ve(u.path);this.ze(t,h,Jt.newNoDocument(h,Se.min()))}else Qe(s===1);else{const h=this.et(t);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,d;try{h=ds(s).toUint8Array()}catch(p){if(p instanceof $T)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Xp(h,o,u)}catch(p){return _o(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&rp(d.target)){const p=new ve(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,Jt.newNoDocument(p,e))}u.ve&&(t.set(h,u.Fe()),u.Me())}});let s=Le();this.Ke.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new rf(e,t,this.Ue,this.Qe,s);return this.Qe=hr(),this.$e=sh(),this.Ke=sh(),this.Ue=new ot(Ue),o}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new GE,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Dt(Ue),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dt(Ue),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new GE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function sh(){return new ot(ve.comparator)}function KE(){return new ot(ve.comparator)}const LN={asc:"ASCENDING",desc:"DESCENDING"},PN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UN={and:"AND",or:"OR"};class jN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function op(i,e){return i.useProto3Json||Wh(e)?e:{value:e}}function Ph(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Aw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function zN(i,e){return Ph(i,e.toTimestamp())}function bi(i){return Qe(!!i),Se.fromTimestamp(function(t){const s=fs(t);return new Nt(s.seconds,s.nanos)}(i))}function Wp(i,e){return lp(i,e).canonicalString()}function lp(i,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function bw(i){const e=tt.fromString(i);return Qe(Dw(e)),e}function up(i,e){return Wp(i.databaseId,e.path)}function Vm(i,e){const t=bw(e);if(t.get(1)!==i.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(Cw(t))}function Rw(i,e){return Wp(i.databaseId,e)}function BN(i){const e=bw(i);return e.length===4?tt.emptyPath():Cw(e)}function cp(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Cw(i){return Qe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function $E(i,e,t){return{name:up(i,e),fields:t.value.mapValue.fields}}function qN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Qe(v===void 0||typeof v=="string"),$t.fromBase64String(v||"")):(Qe(v===void 0||v instanceof Buffer||v instanceof Uint8Array),$t.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const v=g.code===void 0?ee.UNKNOWN:Tw(g.code);return new fe(v,g.message||"")}(h);t=new Sw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vm(i,s.document.name),u=bi(s.document.updateTime),h=s.document.createTime?bi(s.document.createTime):Se.min(),d=new pn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,h,d),g=s.targetIds||[],v=s.removedTargetIds||[];t=new yh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Vm(i,s.document),u=s.readTime?bi(s.readTime):Se.min(),h=Jt.newNoDocument(o,u),d=s.removedTargetIds||[];t=new yh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Vm(i,s.document),u=s.removedTargetIds||[];t=new yh([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new xN(o,u),d=s.targetId;t=new ww(d,h)}}return t}function HN(i,e){let t;if(e instanceof bu)t={update:$E(i,e.key,e.value)};else if(e instanceof Ew)t={delete:up(i,e.key)};else if(e instanceof Ts)t={update:$E(i,e.key,e.data),updateMask:ZN(e.fieldMask)};else{if(!(e instanceof IN))return we();t={verify:up(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof mu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Lh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw we()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:zN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(i,e.precondition)),t}function FN(i,e){return i&&i.length>0?(Qe(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?bi(o.updateTime):bi(u);return h.isEqual(Se.min())&&(h=bi(u)),new bN(h,o.transformResults||[])}(t,e))):[]}function GN(i,e){return{documents:[Rw(i,e.path)]}}function KN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Rw(i,o);const u=function(g){if(g.length!==0)return Nw(ei.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(R){return{field:uo(R.field),direction:YN(R.dir)}}(v))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=op(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function $N(i){let e=BN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Qe(s===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];t.where&&(u=function(T){const R=Iw(T);return R instanceof ei&&iw(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(R=>function(D){return new du(co(D.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(R))}(t.orderBy));let d=null;t.limit&&(d=function(T){let R;return R=typeof T=="object"?T.value:T,Wh(R)?null:R}(t.limit));let p=null;t.startAt&&(p=function(T){const R=!!T.before,x=T.values||[];return new Vh(x,R)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const R=!T.before,x=T.values||[];return new Vh(x,R)}(t.endAt)),fN(e,o,h,u,d,"F",p,g)}function QN(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Iw(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=co(t.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(t.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(t.unaryFilter.field);return wt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(i):i.fieldFilter!==void 0?function(t){return wt.create(co(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ei.create(t.compositeFilter.filters.map(s=>Iw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(i):we()}function YN(i){return LN[i]}function XN(i){return PN[i]}function WN(i){return UN[i]}function uo(i){return{fieldPath:i.canonicalString()}}function co(i){return Kt.fromServerFormat(i.fieldPath)}function Nw(i){return i instanceof wt?function(t){if(t.op==="=="){if(VE(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NAN"}};if(ME(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(VE(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NAN"}};if(ME(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(t.field),op:XN(t.op),value:t.value}}}(i):i instanceof ei?function(t){const s=t.getFilters().map(o=>Nw(o));return s.length===1?s[0]:{compositeFilter:{op:WN(t.op),filters:s}}}(i):we()}function ZN(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Dw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,t,s,o,u=Se.min(),h=Se.min(),d=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.Tt=e}}function eD(i){const e=$N({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.Tn=new nD}addToCollectionParentIndex(e,t){return this.Tn.add(t),te.resolve()}getCollectionParents(e,t){return te.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return te.resolve()}deleteFieldIndex(e,t){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,t){return te.resolve()}getDocumentsMatchingTarget(e,t){return te.resolve(null)}getIndexType(e,t){return te.resolve(0)}getFieldIndexes(e,t){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,t){return te.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return te.resolve(hs.min())}updateCollectionGroup(e,t,s){return te.resolve()}updateIndexEntries(e,t){return te.resolve()}}class nD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Dt(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xw=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(xw,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new wo(0)}static Un(){return new wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="LruGarbageCollector",iD=1048576;function XE([i,e],[t,s]){const o=Ue(i,t);return o===0?Ue(e,s):o}class rD{constructor(e){this.Hn=e,this.buffer=new Dt(XE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();XE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(YE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){No(t)?he(YE,"Ignoring IndexedDB error during garbage collection: ",t):await Io(t)}await this.er(3e5)})}}class aD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return te.resolve(Xh.ae);const s=new rD(t);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(QE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,o,u,h,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),oo()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function oD(i,e){return new aD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.changes=new ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?te.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&ru(s.mutation,o,bn.empty(),Nt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=ia();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Wl();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ia();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,o){let u=hr();const h=iu(),d=function(){return iu()}();return t.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Ts)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),ru(v.mutation,g,v.mutation.getFieldMask(),Nt.now())):h.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),t.forEach((g,v)=>{var T;return d.set(g,new uD(v,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=iu();let o=new ot((h,d)=>h-d),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||bn.empty();v=d.applyToLocalView(g,v),s.set(p,v);const T=(o.get(d.batchId)||Le()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,T=fw();v.forEach(R=>{if(!u.has(R)){const x=_w(t.get(R),s.get(R));x!==null&&T.set(R,x),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ow(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):te.resolve(ia());let d=uu,p=u;return h.next(g=>te.forEach(g,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(v)?te.resolve():this.remoteDocumentCache.getEntry(e,v).next(R=>{p=p.insert(v,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(v=>({batchId:d,changes:hw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Wl();return this.indexManager.getCollectionParents(e,u).next(d=>te.forEach(d,p=>{const g=function(T,R){return new Do(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((T,R)=>{h=h.insert(T,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,Jt.newInvalidDocument(v)))});let d=Wl();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&ru(v.mutation,g,bn.empty(),Nt.now()),ef(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return te.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:bi(o.createTime)}}(t)),te.resolve()}getNamedQuery(e,t){return te.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:eD(o.bundledQuery),readTime:bi(o.readTime)}}(t)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.overlays=new ot(ve.comparator),this.Rr=new Map}getOverlay(e,t){return te.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ia();return te.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.Et(e,t,u)}),te.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,t,s){const o=ia(),u=t.length+1,h=new ve(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ot((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ia(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ia(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=o)););return te.resolve(d)}Et(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new DN(t,s));let u=this.Rr.get(t);u===void 0&&(u=Le(),this.Rr.set(t,u)),this.Rr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.Vr=new Dt(Ut.mr),this.gr=new Dt(Ut.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Ut(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Ut(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new ve(new tt([])),s=new Ut(t,e),o=new Ut(t,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new tt([])),s=new Ut(t,e),o=new Ut(t,e+1);let u=Le();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Ut(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||Ue(e.Cr,t.Cr)}static pr(e,t){return Ue(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Ut.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new NN(u,t,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new Ut(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,t){return te.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Nr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?qp:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ut(t,0),o=new Ut(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Dt(Ue);return t.forEach(o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new ve(u),0);let d=new Dt(Ue);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),te.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Qe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(t.mutations,o=>{const u=new Ut(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Ut(t,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.kr=e,this.docs=function(){return new ot(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return te.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(t))}getEntries(e,t){let s=hr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=hr();const h=t.path,d=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||FI(HI(v),s)<=0||(o.has(v.key)||ef(t,v))&&(u=u.insert(v.key,v.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,t,s,o){we()}qr(e,t){return te.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new gD(this)}getSize(e){return te.resolve(this.size)}}class gD extends lD{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.persistence=e,this.Qr=new ma(t=>Gp(t),Kp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Zp,this.targetCount=0,this.Ur=wo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,o)=>t(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),te.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new wo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,te.resolve()}updateTargetData(e,t){return this.zn(t),te.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return te.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),te.resolve()}removeMatchingKeys(e,t,s){this.Kr.Sr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),te.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return te.resolve(s)}containsKey(e,t){return te.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Xh(0),this.zr=!1,this.zr=!0,this.jr=new dD,this.referenceDelegate=e(this),this.Hr=new yD(this),this.indexManager=new tD,this.remoteDocumentCache=function(o){return new pD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new JN(t),this.Yr=new hD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new mD(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){he("MemoryPersistence","Starting transaction:",e);const o=new _D(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class _D extends KI{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.ti=new Zp,this.ni=null}static ri(e){return new Jp(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),te.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),te.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=ve.fromPath(s);return this.si(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return te.or([()=>te.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Uh{constructor(e,t){this.persistence=e,this.oi=new ma(s=>YI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=oD(this,t)}static ri(e,t){return new Uh(e,t)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?te.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(s++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),te.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mh(e.data.value)),t}ar(e,t,s){return te.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=o}static Yi(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return nR()?8:$I(tn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.rs(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new vD;return this._s(e,t,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>u.result)}us(e,t,s,o){return s.documentReadCount<this.es?(oo()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(oo()<=ke.DEBUG&&he("QueryEngine","Query:",lo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(oo()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(t))):te.resolve())}rs(e,t){if(UE(t))return te.resolve(null);let s=Ai(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=ap(t,null,"F"),s=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,h,p.readTime)?this.rs(e,ap(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,o){return UE(t)||o.isEqual(Se.min())?te.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(t,u);return this.ls(t,h,s,o)?te.resolve(null):(oo()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(t)),this.hs(e,h,t,qI(o,uu)).next(d=>d))})}cs(e,t){let s=new Dt(uw(e));return t.forEach((o,u)=>{ef(e,u)&&(s=s.add(u))}),s}ls(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,s){return oo()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",lo(t)),this.ns.getDocumentsMatchingQuery(e,t,hs.min(),s)}hs(e,t,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",TD=3e8;class wD{constructor(e,t,s,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new ot(Ue),this.Is=new ma(u=>Gp(u),Kp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function SD(i,e,t,s){return new wD(i,e,t,s)}async function Mw(i,e){const t=be(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=Le();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function AD(i,e){const t=be(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const T=g.batch,R=T.keys();let x=te.resolve();return R.forEach(D=>{x=x.next(()=>v.getEntry(p,D)).next(q=>{const k=g.docVersions.get(D);Qe(k!==null),q.version.compareTo(k)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Le();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Vw(i){const e=be(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function bD(i,e){const t=be(i),s=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((v,T)=>{const R=o.get(T);if(!R)return;d.push(t.Hr.removeMatchingKeys(u,v.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(u,v.addedDocuments,T)));let x=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken($t.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(v.resumeToken,s)),o=o.insert(T,x),function(q,k,K){return q.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=TD?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(R,x,v)&&d.push(t.Hr.updateTargetData(u,x))});let p=hr(),g=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,v))}),d.push(RD(u,h,e.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!s.isEqual(Se.min())){const v=t.Hr.getLastRemoteSnapshotVersion(u).next(T=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(v)}return te.waitFor(d).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ts=o,u))}function RD(i,e,t){let s=Le(),o=Le();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=hr();return t.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):he(tg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function CD(i,e){const t=be(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=qp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ID(i,e){const t=be(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Hr.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):t.Hr.allocateTargetId(s).next(h=>(o=new is(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function hp(i,e,t){const s=be(i),o=s.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!No(h))throw h;he(tg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function WE(i,e,t){const s=be(i);let o=Se.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const T=be(p),R=T.Is.get(v);return R!==void 0?te.resolve(T.Ts.get(R)):T.Hr.getTargetData(g,v)}(s,h,Ai(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?u:Le())).next(d=>(ND(s,mN(e),d),{documents:d,gs:u})))}function ND(i,e,t){let s=i.Es.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class ZE{constructor(){this.activeTargetIds=EN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DD{constructor(){this.ho=new ZE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new ZE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="ConnectivityMonitor";class e0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(JE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(JE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=null;function fp(){return ah===null?ah=function(){return 268435456+Math.round(2147483648*Math.random())}():ah++,"0x"+ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="RestConnection",OD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,t,s,o,u){const h=fp(),d=this.bo(e,t.toUriEncodedString());he(km,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,s).then(g=>(he(km,`Received RPC '${e}' ${h}: `,g),g),g=>{throw _o(km,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,o,u,h){return this.So(e,t,s,o,u)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const s=OD[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class kD extends MD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,o){const u=fp();return new Promise((h,d)=>{const p=new UT;p.setWithCredentials(!0),p.listenOnce(jT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dh.NO_ERROR:const v=p.getResponseJson();he(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case dh.TIMEOUT:he(Wt,`RPC '${e}' ${u} timed out`),d(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const T=p.getStatus();if(he(Wt,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const x=R==null?void 0:R.error;if(x&&x.status&&x.message){const D=function(k){const K=k.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(K)>=0?K:ee.UNKNOWN}(x.status);d(new fe(D,x.message))}else d(new fe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{he(Wt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);he(Wt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const o=fp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=qT(),d=BT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=u.join("");he(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);let R=!1,x=!1;const D=new VD({Fo:k=>{x?he(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(R||(he(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),R=!0),he(Wt,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},Mo:()=>T.close()}),q=(k,K,Z)=>{k.listen(K,X=>{try{Z(X)}catch(de){setTimeout(()=>{throw de},0)}})};return q(T,Xl.EventType.OPEN,()=>{x||(he(Wt,`RPC '${e}' stream ${o} transport opened.`),D.Qo())}),q(T,Xl.EventType.CLOSE,()=>{x||(x=!0,he(Wt,`RPC '${e}' stream ${o} transport closed`),D.Ko())}),q(T,Xl.EventType.ERROR,k=>{x||(x=!0,_o(Wt,`RPC '${e}' stream ${o} transport errored:`,k),D.Ko(new fe(ee.UNAVAILABLE,"The operation could not be completed")))}),q(T,Xl.EventType.MESSAGE,k=>{var K;if(!x){const Z=k.data[0];Qe(!!Z);const X=Z,de=(X==null?void 0:X.error)||((K=X[0])===null||K===void 0?void 0:K.error);if(de){he(Wt,`RPC '${e}' stream ${o} received error:`,de);const oe=de.status;let se=function(b){const I=Tt[b];if(I!==void 0)return Tw(I)}(oe),M=de.message;se===void 0&&(se=ee.INTERNAL,M="Unknown error status: "+oe+" with message "+de.message),x=!0,D.Ko(new fe(se,M)),T.close()}else he(Wt,`RPC '${e}' stream ${o} received:`,Z),D.Uo(Z)}}),q(d,zT.STAT_EVENT,k=>{k.stat===ep.PROXY?he(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===ep.NOPROXY&&he(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function Lm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(i){return new jN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="PersistentStream";class Lw{constructor(e,t,s,o,u,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new kw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===t&&this.V_(s,o)},s=>{e(()=>{const o=new fe(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(t0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(t0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LD extends Lw{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=qN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?bi(h.readTime):Se.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=cp(this.serializer),t.addTarget=function(u,h){let d;const p=h.target;if(d=rp(p)?{documents:GN(u,p)}:{query:KN(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Aw(u,h.resumeToken);const g=op(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){d.readTime=Ph(u,h.snapshotVersion.toTimestamp());const g=op(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=QN(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=cp(this.serializer),t.removeTarget=e,this.I_(t)}}class PD extends Lw{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=FN(e.writeResults,e.commitTime),s=bi(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=cp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>HN(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{}class jD extends UD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,lp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ee.UNKNOWN,u.toString())})}Co(e,t,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,lp(t,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new fe(ee.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class zD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(cr(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class BD{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{pa(this)&&(he(ca,"Restarting streams for network reachability change."),await async function(p){const g=be(p);g.W_.add(4),await Cu(g),g.j_.set("Unknown"),g.W_.delete(4),await af(g)}(this))})}),this.j_=new zD(s,o)}}async function af(i){if(pa(i))for(const e of i.G_)await e(!0)}async function Cu(i){for(const e of i.G_)await e(!1)}function Pw(i,e){const t=be(i);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),sg(t)?rg(t):xo(t).c_()&&ig(t,e))}function ng(i,e){const t=be(i),s=xo(t);t.U_.delete(e),s.c_()&&Uw(t,e),t.U_.size===0&&(s.c_()?s.P_():pa(t)&&t.j_.set("Unknown"))}function ig(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xo(i).y_(e)}function Uw(i,e){i.H_.Ne(e),xo(i).w_(e)}function rg(i){i.H_=new kN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.U_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),xo(i).start(),i.j_.B_()}function sg(i){return pa(i)&&!xo(i).u_()&&i.U_.size>0}function pa(i){return be(i).W_.size===0}function jw(i){i.H_=void 0}async function qD(i){i.j_.set("Online")}async function HD(i){i.U_.forEach((e,t)=>{ig(i,e)})}async function FD(i,e){jw(i),sg(i)?(i.j_.q_(e),rg(i)):i.j_.set("Unknown")}async function GD(i,e,t){if(i.j_.set("Online"),e instanceof Sw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.U_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){he(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(i,s)}else if(e instanceof yh?i.H_.We(e):e instanceof ww?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Se.min()))try{const s=await Vw(i.localStore);t.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.U_.get(g);v&&u.U_.set(g,v.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const v=u.U_.get(p);if(!v)return;u.U_.set(p,v.withResumeToken($t.EMPTY_BYTE_STRING,v.snapshotVersion)),Uw(u,p);const T=new is(v.target,p,g,v.sequenceNumber);ig(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){he(ca,"Failed to raise snapshot:",s),await jh(i,s)}}async function jh(i,e,t){if(!No(e))throw e;i.W_.add(1),await Cu(i),i.j_.set("Offline"),t||(t=()=>Vw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(ca,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await af(i)})}function zw(i,e){return e().catch(t=>jh(i,t,e))}async function of(i){const e=be(i),t=ps(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:qp;for(;KD(e);)try{const o=await CD(e.localStore,s);if(o===null){e.K_.length===0&&t.P_();break}s=o.batchId,$D(e,o)}catch(o){await jh(e,o)}Bw(e)&&qw(e)}function KD(i){return pa(i)&&i.K_.length<10}function $D(i,e){i.K_.push(e);const t=ps(i);t.c_()&&t.S_&&t.b_(e.mutations)}function Bw(i){return pa(i)&&!ps(i).u_()&&i.K_.length>0}function qw(i){ps(i).start()}async function QD(i){ps(i).C_()}async function YD(i){const e=ps(i);for(const t of i.K_)e.b_(t.mutations)}async function XD(i,e,t){const s=i.K_.shift(),o=Yp.from(s,e,t);await zw(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await of(i)}async function WD(i,e){e&&ps(i).S_&&await async function(s,o){if(function(h){return ON(h)&&h!==ee.ABORTED}(o.code)){const u=s.K_.shift();ps(s).h_(),await zw(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await of(s)}}(i,e),Bw(i)&&qw(i)}async function n0(i,e){const t=be(i);t.asyncQueue.verifyOperationInProgress(),he(ca,"RemoteStore received new credentials");const s=pa(t);t.W_.add(3),await Cu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await af(t)}async function ZD(i,e){const t=be(i);e?(t.W_.delete(2),await af(t)):e||(t.W_.add(2),await Cu(t),t.j_.set("Unknown"))}function xo(i){return i.J_||(i.J_=function(t,s,o){const u=be(t);return u.M_(),new LD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:qD.bind(null,i),No:HD.bind(null,i),Lo:FD.bind(null,i),p_:GD.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),sg(i)?rg(i):i.j_.set("Unknown")):(await i.J_.stop(),jw(i))})),i.J_}function ps(i){return i.Y_||(i.Y_=function(t,s,o){const u=be(t);return u.M_(),new PD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:QD.bind(null,i),Lo:WD.bind(null,i),D_:YD.bind(null,i),v_:XD.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await of(i)):(await i.Y_.stop(),i.K_.length>0&&(he(ca,`Stopping write stream with ${i.K_.length} pending writes`),i.K_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,d=new ag(e,t,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(i,e){if(cr("AsyncQueue",`${e}: ${i}`),No(i))return new fe(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=Wl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(){this.Z_=new ot(ve.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class So{constructor(e,t,s,o,u,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new So(e,t,go.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ex{constructor(){this.queries=r0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const o=be(t),u=o.queries;o.queries=r0(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function r0(){return new ma(i=>lw(i),Jh)}async function Hw(i,e){const t=be(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new JD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=og(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&lg(t)}async function Fw(i,e){const t=be(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function tx(i,e){const t=be(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&lg(t)}function nx(i,e,t){const s=be(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(t);s.queries.delete(e)}function lg(i){i.ia.forEach(e=>{e.next()})}var dp,s0;(s0=dp||(dp={}))._a="default",s0.Cache="cache";class Gw{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.key=e}}class $w{constructor(e){this.key=e}}class ix{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Le(),this.mutatedKeys=Le(),this.ya=uw(e),this.wa=new go(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new i0,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const R=o.get(v),x=ef(this.query,T)?T:null,D=!!R&&this.mutatedKeys.has(R.key),q=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;R&&x?R.data.isEqual(x.data)?D!==q&&(s.track({type:3,doc:x}),k=!0):this.va(R,x)||(s.track({type:2,doc:x}),k=!0,(p&&this.ya(x,p)>0||g&&this.ya(x,g)<0)&&(d=!0)):!R&&x?(s.track({type:0,doc:x}),k=!0):R&&!x&&(s.track({type:1,doc:R}),k=!0,(p||g)&&(d=!0)),k&&(x?(h=h.add(x),u=q?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((v,T)=>function(x,D){const q=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return q(x)-q(D)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(s),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new So(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new i0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Le(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new $w(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Kw(s))}),t}Oa(e){this.fa=e.gs,this.pa=Le();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return So.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ug="SyncEngine";class rx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class sx{constructor(e){this.key=e,this.Ba=!1}}class ax{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ma(d=>lw(d),Jh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ve.comparator),this.Ka=new Map,this.Ua=new Zp,this.Wa={},this.Ga=new Map,this.za=wo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ox(i,e,t=!0){const s=Jw(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Qw(s,e,t,!0),o}async function lx(i,e){const t=Jw(i);await Qw(t,e,!0,!1)}async function Qw(i,e,t,s){const o=await ID(i.localStore,Ai(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let d;return s&&(d=await ux(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&Pw(i.remoteStore,o),d}async function ux(i,e,t,s,o){i.Ha=(T,R,x)=>async function(q,k,K,Z){let X=k.view.ba(K);X.ls&&(X=await WE(q.localStore,k.query,!1).then(({documents:M})=>k.view.ba(M,X)));const de=Z&&Z.targetChanges.get(k.targetId),oe=Z&&Z.targetMismatches.get(k.targetId)!=null,se=k.view.applyChanges(X,q.isPrimaryClient,de,oe);return o0(q,k.targetId,se.Ma),se.snapshot}(i,T,R,x);const u=await WE(i.localStore,e,!0),h=new ix(e,u.gs),d=h.ba(u.documents),p=Ru.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);o0(i,t,g.Ma);const v=new rx(e,t,h);return i.ka.set(e,v),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function cx(i,e,t){const s=be(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!Jh(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ng(s.remoteStore,o.targetId),mp(s,o.targetId)}).catch(Io)):(mp(s,o.targetId),await hp(s.localStore,o.targetId,!0))}async function hx(i,e){const t=be(i),s=t.ka.get(e),o=t.qa.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ng(t.remoteStore,s.targetId))}async function fx(i,e,t){const s=vx(i);try{const o=await function(h,d){const p=be(h),g=Nt.now(),v=d.reduce((x,D)=>x.add(D.key),Le());let T,R;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let D=hr(),q=Le();return p.ds.getEntries(x,v).next(k=>{D=k,D.forEach((K,Z)=>{Z.isValidDocument()||(q=q.add(K))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,D)).next(k=>{T=k;const K=[];for(const Z of d){const X=CN(Z,T.get(Z.key).overlayedDocument);X!=null&&K.push(new Ts(Z.key,X,ew(X.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,K,d)}).next(k=>{R=k;const K=k.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(x,k.batchId,K)})}).then(()=>({batchId:R.batchId,changes:hw(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ot(Ue)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,t),await Iu(s,o.changes),await of(s.remoteStore)}catch(o){const u=og(o,"Failed to persist write");t.reject(u)}}async function Yw(i,e){const t=be(i);try{const s=await bD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Ka.get(u);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Qe(h.Ba):o.removedDocuments.size>0&&(Qe(h.Ba),h.Ba=!1))}),await Iu(t,s,e)}catch(s){await Io(s)}}function a0(i,e,t){const s=be(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=be(h);p.onlineState=d;let g=!1;p.queries.forEach((v,T)=>{for(const R of T.ta)R.sa(d)&&(g=!0)}),g&&lg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function dx(i,e,t){const s=be(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Ka.get(e),u=o&&o.key;if(u){let h=new ot(ve.comparator);h=h.insert(u,Jt.newNoDocument(u,Se.min()));const d=Le().add(u),p=new rf(Se.min(),new Map,new ot(Ue),h,d);await Yw(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),cg(s)}else await hp(s.localStore,e,!1).then(()=>mp(s,e,t)).catch(Io)}async function mx(i,e){const t=be(i),s=e.batch.batchId;try{const o=await AD(t.localStore,e);Ww(t,s,null),Xw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Iu(t,o)}catch(o){await Io(o)}}async function px(i,e,t){const s=be(i);try{const o=await function(h,d){const p=be(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Qe(T!==null),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);Ww(s,e,t),Xw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Iu(s,o)}catch(o){await Io(o)}}function Xw(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Ww(i,e,t){const s=be(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function mp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),t&&i.La.Ja(s,t);i.qa.delete(e),i.isPrimaryClient&&i.Ua.br(e).forEach(s=>{i.Ua.containsKey(s)||Zw(i,s)})}function Zw(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(ng(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ka.delete(t),cg(i))}function o0(i,e,t){for(const s of t)s instanceof Kw?(i.Ua.addReference(s.key,e),gx(i,s)):s instanceof $w?(he(ug,"Document no longer in limbo: "+s.key),i.Ua.removeReference(s.key,e),i.Ua.containsKey(s.key)||Zw(i,s.key)):we()}function gx(i,e){const t=e.key,s=t.path.canonicalString();i.$a.get(t)||i.Qa.has(s)||(he(ug,"New document in limbo: "+t),i.Qa.add(s),cg(i))}function cg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new ve(tt.fromString(e)),s=i.za.next();i.Ka.set(s,new sx(t)),i.$a=i.$a.insert(t,s),Pw(i.remoteStore,new is(Ai($p(t.path)),s,"TargetPurposeLimboResolution",Xh.ae))}}async function Iu(i,e,t){const s=be(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=eg.Yi(p.targetId,g);u.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const v=be(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>te.forEach(g,R=>te.forEach(R.Hi,x=>v.persistence.referenceDelegate.addReference(T,R.targetId,x)).next(()=>te.forEach(R.Ji,x=>v.persistence.referenceDelegate.removeReference(T,R.targetId,x)))))}catch(T){if(!No(T))throw T;he(tg,"Failed to update sequence numbers: "+T)}for(const T of g){const R=T.targetId;if(!T.fromCache){const x=v.Ts.get(R),D=x.snapshotVersion,q=x.withLastLimboFreeSnapshotVersion(D);v.Ts=v.Ts.insert(R,q)}}}(s.localStore,u))}async function yx(i,e){const t=be(i);if(!t.currentUser.isEqual(e)){he(ug,"User change. New user:",e.toKey());const s=await Mw(t.localStore,e);t.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new fe(ee.CANCELLED,h))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Iu(t,s.Rs)}}function _x(i,e){const t=be(i),s=t.Ka.get(e);if(s&&s.Ba)return Le().add(s.key);{let o=Le();const u=t.qa.get(e);if(!u)return o;for(const h of u){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function Jw(i){const e=be(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_x.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dx.bind(null,e),e.La.p_=tx.bind(null,e.eventManager),e.La.Ja=nx.bind(null,e.eventManager),e}function vx(i){const e=be(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=px.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return SD(this.persistence,new ED,e.initialUser,this.serializer)}Xa(e){return new Ow(Jp.ri,this.serializer)}Za(e){return new DD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class Ex extends zh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Qe(this.persistence.referenceDelegate instanceof Uh);const s=this.persistence.referenceDelegate.garbageCollector;return new sD(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Ow(s=>Uh.ri(s,t),this.serializer)}}class pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>a0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yx.bind(null,this.syncEngine),await ZD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ex}()}createDatastore(e){const t=sf(e.databaseInfo.databaseId),s=function(u){return new kD(u)}(e.databaseInfo);return function(u,h,d,p){return new jD(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,d){return new BD(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>a0(this.syncEngine,t,0),function(){return e0.D()?new e0:new xD}())}createSyncEngine(e,t){return function(o,u,h,d,p,g,v){const T=new ax(o,u,h,d,p,g);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=be(o);he(ca,"RemoteStore shutting down."),u.W_.add(5),await Cu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class Tx{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=FT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{he(gs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(he(gs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=og(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Pm(i,e){i.asyncQueue.verifyOperationInProgress(),he(gs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Mw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function l0(i,e){i.asyncQueue.verifyOperationInProgress();const t=await wx(i);he(gs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>n0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>n0(e.remoteStore,o)),i._onlineComponents=e}async function wx(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(gs,"Using user provided OfflineComponentProvider");try{await Pm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;_o("Error using user provided cache. Falling back to memory cache: "+t),await Pm(i,new zh)}}else he(gs,"Using default OfflineComponentProvider"),await Pm(i,new Ex(void 0));return i._offlineComponents}async function tS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(gs,"Using user provided OnlineComponentProvider"),await l0(i,i._uninitializedComponentsProvider._online)):(he(gs,"Using default OnlineComponentProvider"),await l0(i,new pp))),i._onlineComponents}function Sx(i){return tS(i).then(e=>e.syncEngine)}async function nS(i){const e=await tS(i),t=e.eventManager;return t.onListen=ox.bind(null,e.syncEngine),t.onUnlisten=cx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=lx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=hx.bind(null,e.syncEngine),t}function Ax(i,e,t={}){const s=new ar;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new eS({next:R=>{v.su(),h.enqueueAndForget(()=>Fw(u,T));const x=R.docs.has(d);!x&&R.fromCache?g.reject(new fe(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&R.fromCache&&p&&p.source==="server"?g.reject(new fe(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new Gw($p(d.path),v,{includeMetadataChanges:!0,Ta:!0});return Hw(u,T)}(await nS(i),i.asyncQueue,e,t,s)),s.promise}function bx(i,e,t={}){const s=new ar;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const v=new eS({next:R=>{v.su(),h.enqueueAndForget(()=>Fw(u,T)),R.fromCache&&p.source==="server"?g.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),T=new Gw(d,v,{includeMetadataChanges:!0,Ta:!0});return Hw(u,T)}(await nS(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(i,e,t){if(!t)throw new fe(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Rx(i,e,t,s){if(e===!0&&s===!0)throw new fe(ee.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function c0(i){if(!ve.isDocumentKey(i))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function h0(i){if(ve.isDocumentKey(i))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function lf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we()}function Ci(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lf(i);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="firestore.googleapis.com",f0=!0;class d0{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sS,this.ssl=f0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:f0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iD)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VI;switch(s.type){case"firstParty":return new UI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=u0.get(t);s&&(he("ComponentProvider","Removing Datastore"),u0.delete(t),s.terminate())}(this),Promise.resolve()}}function Cx(i,e,t,s={}){var o;const u=(i=Ci(i,uf))._getSettings(),h=`${e}:${t}`;if(u.host!==sS&&u.host!==h&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let d,p;if(typeof s.mockUserToken=="string")d=s.mockUserToken,p=Zt.MOCK_USER;else{d=Yb(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Zt(g)}i._authCredentials=new kI(new HT(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class un{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class us extends ga{constructor(e,t,s){super(e,t,$p(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new ve(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function ha(i,e,...t){if(i=jt(i),rS("collection","path",e),i instanceof uf){const s=tt.fromString(e,...t);return h0(s),new us(i,null,s)}{if(!(i instanceof un||i instanceof us))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return h0(s),new us(i.firestore,null,s)}}function cs(i,e,...t){if(i=jt(i),arguments.length===1&&(e=FT.newId()),rS("doc","path",e),i instanceof uf){const s=tt.fromString(e,...t);return c0(s),new un(i,null,new ve(s))}{if(!(i instanceof un||i instanceof us))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return c0(s),new un(i.firestore,i instanceof us?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="AsyncQueue";class p0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new kw(this,"async_queue_retry"),this.Su=()=>{const s=Lm();s&&he(m0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=Lm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Lm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ar;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!No(e))throw e;he(m0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw cr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=ag.createAndSchedule(this,e,t,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Oo extends uf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new p0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p0(e),this._firestoreClient=void 0,await e}}}function Ix(i,e){const t=typeof i=="object"?i:Dp(),s=typeof i=="string"?i:Oh,o=Np(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$b("firestore");u&&Cx(o,...u)}return o}function hg(i){if(i._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Nx(i),i._firestoreClient}function Nx(i){var e,t,s;const o=i._freezeSettings(),u=function(d,p,g,v){return new ZI(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,iS(v.experimentalLongPollingOptions),v.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Tx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao($t.fromBase64String(e))}catch(t){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ao($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=/^__.*__$/;class xx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new bu(e,this.data,t,this.fieldTransforms)}}class aS{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class pg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new pg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(oS(this.Lu)&&Dx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ox{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||sf(e)}ju(e,t,s,o=!1){return new pg({Lu:e,methodName:t,zu:s,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hf(i){const e=i._freezeSettings(),t=sf(i._databaseId);return new Ox(i._databaseId,!!e.ignoreUndefinedProperties,t)}function lS(i,e,t,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,t,o);gg("Data must be an object, but it was:",h,s);const d=uS(s,h);let p,g;if(u.merge)p=new bn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const v=[];for(const T of u.mergeFields){const R=gp(e,T,t);if(!h.contains(R))throw new fe(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);hS(v,R)||v.push(R)}p=new bn(v),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new xx(new pn(d),p,g)}class ff extends fg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}function Mx(i,e,t,s){const o=i.ju(1,e,t);gg("Data must be an object, but it was:",o,s);const u=[],h=pn.empty();Es(s,(p,g)=>{const v=yg(e,p,t);g=jt(g);const T=o.Ku(v);if(g instanceof ff)u.push(v);else{const R=Nu(g,T);R!=null&&(u.push(v),h.set(v,R))}});const d=new bn(u);return new aS(h,d,o.fieldTransforms)}function Vx(i,e,t,s,o,u){const h=i.ju(1,e,t),d=[gp(e,s,t)],p=[o];if(u.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)d.push(gp(e,u[R])),p.push(u[R+1]);const g=[],v=pn.empty();for(let R=d.length-1;R>=0;--R)if(!hS(g,d[R])){const x=d[R];let D=p[R];D=jt(D);const q=h.Ku(x);if(D instanceof ff)g.push(x);else{const k=Nu(D,q);k!=null&&(g.push(x),v.set(x,k))}}const T=new bn(g);return new aS(v,T,h.fieldTransforms)}function kx(i,e,t,s=!1){return Nu(t,i.ju(s?4:3,e))}function Nu(i,e){if(cS(i=jt(i)))return gg("Unsupported field value:",e,i),uS(i,e);if(i instanceof fg)return function(s,o){if(!oS(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=Nu(d,o.Uu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return TN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:Ph(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(s instanceof dg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ao)return{bytesValue:Aw(o.serializer,s._byteString)};if(s instanceof un){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mg)return function(h,d){return{mapValue:{fields:{[ZT]:{stringValue:JT},[Mh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Qp(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${lf(s)}`)}(i,e)}function uS(i,e){const t={};return KT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(i,(s,o)=>{const u=Nu(o,e.qu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function cS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Nt||i instanceof dg||i instanceof Ao||i instanceof un||i instanceof fg||i instanceof mg)}function gg(i,e,t){if(!cS(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=lf(t);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function gp(i,e,t){if((e=jt(e))instanceof cf)return e._internalPath;if(typeof e=="string")return yg(i,e);throw Bh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Lx=new RegExp("[~\\*/\\[\\]]");function yg(i,e,t){if(e.search(Lx)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new cf(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Bh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new fe(ee.INVALID_ARGUMENT,d+i+p)}function hS(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Px(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(df("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Px extends fS{data(){return super.data()}}function df(i,e){return typeof e=="string"?yg(i,e):e instanceof cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class dS extends _g{}function qh(i,e,...t){let s=[];e instanceof _g&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof vg).length,d=u.filter(p=>p instanceof mf).length;if(h>1||h>0&&d>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class mf extends dS{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new mf(e,t,s)}_apply(e){const t=this._parse(e);return mS(e._query,t),new ga(e.firestore,e.converter,sp(e._query,t))}_parse(e){const t=hf(e.firestore);return function(u,h,d,p,g,v,T){let R;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){y0(T,v);const D=[];for(const q of T)D.push(g0(p,u,q));R={arrayValue:{values:D}}}else R=g0(p,u,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||y0(T,v),R=kx(d,h,T,v==="in"||v==="not-in");return wt.create(g,v,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function rs(i,e,t){const s=e,o=df("where",i);return mf._create(o,s,t)}class vg extends _g{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ei.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)mS(h,p),h=sp(h,p)}(e._query,t),new ga(e.firestore,e.converter,sp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eg extends dS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Eg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new du(u,h)}(e._query,this._field,this._direction);return new ga(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Do(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function jx(i,e="asc"){const t=e,s=df("orderBy",i);return Eg._create(s,t)}function g0(i,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ow(e)&&t.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!ve.isDocumentKey(s))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return OE(i,new ve(s))}if(t instanceof un)return OE(i,t._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(t)}.`)}function y0(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mS(i,e){const t=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zx{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Es(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>pt(h.doubleValue));return new mg(u)}convertGeoPoint(e){return new dg(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Zh(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(cu(e));default:return null}}convertTimestamp(e){const t=fs(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);Qe(Dw(s));const o=new hu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(t)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gS extends fS{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(df("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class _h extends gS{data(e={}){return super.data(e)}}class Bx{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new _h(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new _h(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Jl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new _h(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Jl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),v=h.indexOf(d.doc.key)),{type:qx(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i){i=Ci(i,un);const e=Ci(i.firestore,Oo);return Ax(hg(e),i._key).then(t=>Fx(e,i,t))}class yS extends zx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,t)}}function gu(i){i=Ci(i,ga);const e=Ci(i.firestore,Oo),t=hg(e),s=new yS(e);return Ux(i._query),bx(t,i._query).then(o=>new Bx(e,s,i,o))}function Hx(i,e,t){i=Ci(i,un);const s=Ci(i.firestore,Oo),o=pS(i.converter,e);return Sg(s,[lS(hf(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Zn.none())])}function yp(i,e,t,...s){i=Ci(i,un);const o=Ci(i.firestore,Oo),u=hf(o);let h;return h=typeof(e=jt(e))=="string"||e instanceof cf?Vx(u,"updateDoc",i._key,e,t,s):Mx(u,"updateDoc",i._key,e),Sg(o,[h.toMutation(i._key,Zn.exists(!0))])}function wg(i,e){const t=Ci(i.firestore,Oo),s=cs(i),o=pS(i.converter,e);return Sg(t,[lS(hf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then(()=>s)}function Sg(i,e){return function(s,o){const u=new ar;return s.asyncQueue.enqueueAndForget(async()=>fx(await Sx(s),o,u)),u.promise}(hg(i),e)}function Fx(i,e,t){const s=t.docs.get(e._key),o=new yS(i);return new gS(i,o,e._key,s,new Jl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Co=o})(bo),yo(new aa("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new Oo(new LI(s.getProvider("auth-internal")),new jI(h,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hu(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),os(TE,wE,e),os(TE,wE,"esm2017")})();const Gx={apiKey:"AIzaSyBpF0IwNSk6W_9N3n3Kq_Mmf0ufYw3KnB0",authDomain:"scan-app-5d29a.firebaseapp.com",projectId:"scan-app-5d29a",storageBucket:"scan-app-5d29a.firebasestorage.app",messagingSenderId:"577766990257",appId:"1:577766990257:web:ab001688b2a5fd3c52dd90",measurementId:"G-TEVD1EZ6VD"},_S=c1().length?Dp():W0(Gx),gn=Ix(_S),fr=DI(_S);var Gl={},_0;function Kx(){if(_0)return Gl;_0=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.parse=h,Gl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,x){const D=new u,q=R.length;if(q<2)return D;const k=(x==null?void 0:x.decode)||v;let K=0;do{const Z=R.indexOf("=",K);if(Z===-1)break;const X=R.indexOf(";",K),de=X===-1?q:X;if(Z>de){K=R.lastIndexOf(";",Z-1)+1;continue}const oe=d(R,K,Z),se=p(R,Z,oe),M=R.slice(oe,se);if(D[M]===void 0){let C=d(R,Z+1,de),b=p(R,de,C);const I=k(R.slice(C,b));D[M]=I}K=de+1}while(K<q);return D}function d(R,x,D){do{const q=R.charCodeAt(x);if(q!==32&&q!==9)return x}while(++x<D);return D}function p(R,x,D){for(;x>D;){const q=R.charCodeAt(--x);if(q!==32&&q!==9)return x+1}return D}function g(R,x,D){const q=(D==null?void 0:D.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const k=q(x);if(!e.test(k))throw new TypeError(`argument val is invalid: ${x}`);let K=R+"="+k;if(!D)return K;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);K+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);K+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);K+="; Path="+D.path}if(D.expires){if(!T(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);K+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(K+="; HttpOnly"),D.secure&&(K+="; Secure"),D.partitioned&&(K+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":K+="; Priority=Low";break;case"medium":K+="; Priority=Medium";break;case"high":K+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":K+="; SameSite=Strict";break;case"lax":K+="; SameSite=Lax";break;case"none":K+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return K}function v(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function T(R){return o.call(R)==="[object Date]"}return Gl}Kx();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v0="popstate";function $x(i={}){function e(s,o){let{pathname:u,search:h,hash:d}=s.location;return _p("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:yu(o)}return Yx(e,t,null,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ti(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qx(){return Math.random().toString(36).substring(2,10)}function E0(i,e){return{usr:i.state,key:i.key,idx:e}}function _p(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Mo(e):e,state:t,key:e&&e.key||s||Qx()}}function yu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Mo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Yx(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){d="POP";let k=v(),K=k==null?null:k-g;g=k,p&&p({action:d,location:q.location,delta:K})}function R(k,K){d="PUSH";let Z=_p(q.location,k,K);g=v()+1;let X=E0(Z,g),de=q.createHref(Z);try{h.pushState(X,"",de)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(de)}u&&p&&p({action:d,location:q.location,delta:1})}function x(k,K){d="REPLACE";let Z=_p(q.location,k,K);g=v();let X=E0(Z,g),de=q.createHref(Z);h.replaceState(X,"",de),u&&p&&p({action:d,location:q.location,delta:0})}function D(k){let K=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof k=="string"?k:yu(k);return Z=Z.replace(/ $/,"%20"),it(K,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,K)}let q={get action(){return d},get location(){return i(o,h)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(v0,T),p=k,()=>{o.removeEventListener(v0,T),p=null}},createHref(k){return e(o,k)},createURL:D,encodeLocation(k){let K=D(k);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:R,replace:x,go(k){return h.go(k)}};return q}function vS(i,e,t="/"){return Xx(i,e,t,!1)}function Xx(i,e,t,s){let o=typeof e=="string"?Mo(e):e,u=ys(o.pathname||"/",t);if(u==null)return null;let h=ES(i);Wx(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=l2(u);d=a2(h[p],g,s)}return d}function ES(i,e=[],t=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=or([s,p.relativePath]),v=t.concat(p);u.children&&u.children.length>0&&(it(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ES(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:r2(g,u.index),routesMeta:v})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of TS(u.path))o(u,h,p)}),e}function TS(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=TS(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function Wx(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:s2(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Zx=/^:[\w-]+$/,Jx=3,e2=2,t2=1,n2=10,i2=-2,T0=i=>i==="*";function r2(i,e){let t=i.split("/"),s=t.length;return t.some(T0)&&(s+=i2),e&&(s+=e2),t.filter(o=>!T0(o)).reduce((o,u)=>o+(Zx.test(u)?Jx:u===""?t2:n2),s)}function s2(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function a2(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=Hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),R=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:or([u,T.pathname]),pathnameBase:f2(or([u,T.pathnameBase])),route:R}),T.pathnameBase!=="/"&&(u=or([u,T.pathnameBase]))}return h}function Hh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=o2(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},R)=>{if(v==="*"){let D=d[R]||"";h=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const x=d[R];return T&&!x?g[v]=void 0:g[v]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function o2(i,e=!1,t=!0){ti(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function l2(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ti(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ys(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function u2(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Mo(i):i;return{pathname:t?t.startsWith("/")?t:c2(t,e):e,search:d2(s),hash:m2(o)}}function c2(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Um(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h2(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ag(i){let e=h2(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function bg(i,e,t,s=!1){let o;typeof i=="string"?o=Mo(i):(o={...i},it(!o.pathname||!o.pathname.includes("?"),Um("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),Um("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),Um("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),T-=1;o.pathname=R.join("/")}d=T>=0?e[T]:"/"}let p=u2(o,d),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var or=i=>i.join("/").replace(/\/\/+/g,"/"),f2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),d2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,m2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function p2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var wS=["POST","PUT","PATCH","DELETE"];new Set(wS);var g2=["GET",...wS];new Set(g2);var Vo=B.createContext(null);Vo.displayName="DataRouter";var pf=B.createContext(null);pf.displayName="DataRouterState";var SS=B.createContext({isTransitioning:!1});SS.displayName="ViewTransition";var y2=B.createContext(new Map);y2.displayName="Fetchers";var _2=B.createContext(null);_2.displayName="Await";var ni=B.createContext(null);ni.displayName="Navigation";var Du=B.createContext(null);Du.displayName="Location";var Ii=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var Rg=B.createContext(null);Rg.displayName="RouteError";function v2(i,{relative:e}={}){it(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=B.useContext(ni),{hash:o,pathname:u,search:h}=xu(i,{relative:e}),d=u;return t!=="/"&&(d=u==="/"?t:or([t,u])),s.createHref({pathname:d,search:h,hash:o})}function ko(){return B.useContext(Du)!=null}function ws(){return it(ko(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Du).location}var AS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bS(i){B.useContext(ni).static||B.useLayoutEffect(i)}function mr(){let{isDataRoute:i}=B.useContext(Ii);return i?O2():E2()}function E2(){it(ko(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(Vo),{basename:e,navigator:t}=B.useContext(ni),{matches:s}=B.useContext(Ii),{pathname:o}=ws(),u=JSON.stringify(Ag(s)),h=B.useRef(!1);return bS(()=>{h.current=!0}),B.useCallback((p,g={})=>{if(ti(h.current,AS),!h.current)return;if(typeof p=="number"){t.go(p);return}let v=bg(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:or([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,u,o,i])}B.createContext(null);function xu(i,{relative:e}={}){let{matches:t}=B.useContext(Ii),{pathname:s}=ws(),o=JSON.stringify(Ag(t));return B.useMemo(()=>bg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function T2(i,e){return RS(i,e)}function RS(i,e,t,s){var Z;it(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=B.useContext(ni),{matches:h}=B.useContext(Ii),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let X=T&&T.path||"";CS(g,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let R=ws(),x;if(e){let X=typeof e=="string"?Mo(e):e;it(v==="/"||((Z=X.pathname)==null?void 0:Z.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${X.pathname}" was given in the \`location\` prop.`),x=X}else x=R;let D=x.pathname||"/",q=D;if(v!=="/"){let X=v.replace(/^\//,"").split("/");q="/"+D.replace(/^\//,"").split("/").slice(X.length).join("/")}let k=!u&&t&&t.matches&&t.matches.length>0?t.matches:vS(i,{pathname:q});ti(T||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ti(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=R2(k&&k.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:or([v,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?v:or([v,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),h,t,s);return e&&K?B.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},K):K}function w2(){let i=x2(),e=p2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:o},t):null,h)}var S2=B.createElement(w2,null),A2=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?B.createElement(Ii.Provider,{value:this.props.routeContext},B.createElement(Rg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b2({routeContext:i,match:e,children:t}){let s=B.useContext(Vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ii.Provider,{value:i},t)}function R2(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:T}=t,R=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||R){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let T,R=!1,x=null,D=null;t&&(T=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||S2,h&&(d<0&&v===0?(CS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,D=null):d===v&&(R=!0,D=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,v+1)),k=()=>{let K;return T?K=x:R?K=D:g.route.Component?K=B.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=p,B.createElement(b2,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:t!=null},children:K})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?B.createElement(A2,{location:t.location,revalidation:t.revalidation,component:x,error:T,children:k(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):k()},null)}function Cg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C2(i){let e=B.useContext(Vo);return it(e,Cg(i)),e}function I2(i){let e=B.useContext(pf);return it(e,Cg(i)),e}function N2(i){let e=B.useContext(Ii);return it(e,Cg(i)),e}function Ig(i){let e=N2(i),t=e.matches[e.matches.length-1];return it(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function D2(){return Ig("useRouteId")}function x2(){var s;let i=B.useContext(Rg),e=I2("useRouteError"),t=Ig("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function O2(){let{router:i}=C2("useNavigate"),e=Ig("useNavigate"),t=B.useRef(!1);return bS(()=>{t.current=!0}),B.useCallback(async(o,u={})=>{ti(t.current,AS),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var w0={};function CS(i,e,t){!e&&!w0[i]&&(w0[i]=!0,ti(!1,t))}B.memo(M2);function M2({routes:i,future:e,state:t}){return RS(i,void 0,t,e)}function oh({to:i,replace:e,state:t,relative:s}){it(ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(ni);ti(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=B.useContext(Ii),{pathname:h}=ws(),d=mr(),p=bg(i,Ag(u),h,s==="path"),g=JSON.stringify(p);return B.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function Wn(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function V2({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){it(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Mo(t));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:R="default"}=t,x=B.useMemo(()=>{let D=ys(p,h);return D==null?null:{location:{pathname:D,search:g,hash:v,state:T,key:R},navigationType:s}},[h,p,g,v,T,R,s]);return ti(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:B.createElement(ni.Provider,{value:d},B.createElement(Du.Provider,{children:e,value:x}))}function k2({children:i,location:e}){return T2(vp(i),e)}function vp(i,e=[]){let t=[];return B.Children.forEach(i,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){t.push.apply(t,vp(s.props.children,u));return}it(s.type===Wn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=vp(s.props.children,u)),t.push(h)}),t}var vh="get",Eh="application/x-www-form-urlencoded";function gf(i){return i!=null&&typeof i.tagName=="string"}function L2(i){return gf(i)&&i.tagName.toLowerCase()==="button"}function P2(i){return gf(i)&&i.tagName.toLowerCase()==="form"}function U2(i){return gf(i)&&i.tagName.toLowerCase()==="input"}function j2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function z2(i,e){return i.button===0&&(!e||e==="_self")&&!j2(i)}var lh=null;function B2(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var q2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(i){return i!=null&&!q2.has(i)?(ti(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):i}function H2(i,e){let t,s,o,u,h;if(P2(i)){let d=i.getAttribute("action");s=d?ys(d,e):null,t=i.getAttribute("method")||vh,o=jm(i.getAttribute("enctype"))||Eh,u=new FormData(i)}else if(L2(i)||U2(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?ys(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||vh,o=jm(i.getAttribute("formenctype"))||jm(d.getAttribute("enctype"))||Eh,u=new FormData(d,i),!B2()){let{name:g,type:v,value:T}=i;if(v==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,T)}}else{if(gf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=vh,s=null,o=Eh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Ng(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function F2(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function K2(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await F2(u,t);return h.links?h.links():[]}return[]}));return X2(s.flat(1).filter(G2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function S0(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var T;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function $2(i,e,{includeHydrateFallback:t}={}){return Q2(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Q2(i){return[...new Set(i)]}function Y2(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function X2(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(Y2(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function W2(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Z2(){let i=B.useContext(Vo);return Ng(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function J2(){let i=B.useContext(pf);return Ng(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Dg=B.createContext(void 0);Dg.displayName="FrameworkContext";function IS(){let i=B.useContext(Dg);return Ng(i,"You must render this element inside a <HydratedRouter> element"),i}function eO(i,e){let t=B.useContext(Dg),[s,o]=B.useState(!1),[u,h]=B.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,R=B.useRef(null);B.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=K=>{K.forEach(Z=>{h(Z.isIntersecting)})},k=new IntersectionObserver(q,{threshold:.5});return R.current&&k.observe(R.current),()=>{k.disconnect()}}},[i]),B.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let x=()=>{o(!0)},D=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,R,{}]:[u,R,{onFocus:Kl(d,x),onBlur:Kl(p,D),onMouseEnter:Kl(g,x),onMouseLeave:Kl(v,D),onTouchStart:Kl(T,x)}]:[!1,R,{}]}function Kl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function tO({page:i,...e}){let{router:t}=Z2(),s=B.useMemo(()=>vS(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?B.createElement(iO,{page:i,matches:s,...e}):null}function nO(i){let{manifest:e,routeModules:t}=IS(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return K2(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function iO({page:i,matches:e,...t}){let s=ws(),{manifest:o,routeModules:u}=IS(),{loaderData:h,matches:d}=J2(),p=B.useMemo(()=>S0(i,e,d,o,s,"data"),[i,e,d,o,s]),g=B.useMemo(()=>S0(i,e,d,o,s,"assets"),[i,e,d,o,s]),v=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let x=new Set,D=!1;if(e.forEach(k=>{var Z;let K=o.routes[k.route.id];!K||!K.hasLoader||(!p.some(X=>X.route.id===k.route.id)&&k.route.id in h&&((Z=u[k.route.id])!=null&&Z.shouldRevalidate)||K.hasClientLoader?D=!0:x.add(k.route.id))}),x.size===0)return[];let q=W2(i);return D&&x.size>0&&q.searchParams.set("_routes",e.filter(k=>x.has(k.route.id)).map(k=>k.route.id).join(",")),[q.pathname+q.search]},[h,s,o,p,e,i,u]),T=B.useMemo(()=>$2(g,o),[g,o]),R=nO(g);return B.createElement(B.Fragment,null,v.map(x=>B.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),T.map(x=>B.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),R.map(({key:x,link:D})=>B.createElement("link",{key:x,...D})))}function rO(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var NS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{NS&&(window.__reactRouterVersion="7.2.0")}catch{}function sO({basename:i,children:e,window:t}){let s=B.useRef();s.current==null&&(s.current=$x({window:t,v5Compat:!0}));let o=s.current,[u,h]=B.useState({action:o.action,location:o.location}),d=B.useCallback(p=>{B.startTransition(()=>h(p))},[h]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(V2,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var DS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dn=B.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:v,viewTransition:T,...R},x){let{basename:D}=B.useContext(ni),q=typeof g=="string"&&DS.test(g),k,K=!1;if(typeof g=="string"&&q&&(k=g,NS))try{let b=new URL(window.location.href),I=g.startsWith("//")?new URL(b.protocol+g):new URL(g),L=ys(I.pathname,D);I.origin===b.origin&&L!=null?g=L+I.search+I.hash:K=!0}catch{ti(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=v2(g,{relative:o}),[X,de,oe]=eO(s,R),se=uO(g,{replace:h,state:d,target:p,preventScrollReset:v,relative:o,viewTransition:T});function M(b){e&&e(b),b.defaultPrevented||se(b)}let C=B.createElement("a",{...R,...oe,href:k||Z,onClick:K||u?e:M,ref:rO(x,de),target:p,"data-discover":!q&&t==="render"?"true":void 0});return X&&!q?B.createElement(B.Fragment,null,C,B.createElement(tO,{page:Z})):C});dn.displayName="Link";var aO=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},v){let T=xu(h,{relative:g.relative}),R=ws(),x=B.useContext(pf),{navigator:D,basename:q}=B.useContext(ni),k=x!=null&&mO(T)&&d===!0,K=D.encodeLocation?D.encodeLocation(T).pathname:T.pathname,Z=R.pathname,X=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(Z=Z.toLowerCase(),X=X?X.toLowerCase():null,K=K.toLowerCase()),X&&q&&(X=ys(X,q)||X);const de=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let oe=Z===K||!o&&Z.startsWith(K)&&Z.charAt(de)==="/",se=X!=null&&(X===K||!o&&X.startsWith(K)&&X.charAt(K.length)==="/"),M={isActive:oe,isPending:se,isTransitioning:k},C=oe?e:void 0,b;typeof s=="function"?b=s(M):b=[s,oe?"active":null,se?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(M):u;return B.createElement(dn,{...g,"aria-current":C,className:b,ref:v,style:I,to:h,viewTransition:d},typeof p=="function"?p(M):p)});aO.displayName="NavLink";var oO=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=vh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...R},x)=>{let D=fO(),q=dO(d,{relative:g}),k=h.toLowerCase()==="get"?"get":"post",K=typeof d=="string"&&DS.test(d),Z=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let de=X.nativeEvent.submitter,oe=(de==null?void 0:de.getAttribute("formmethod"))||h;D(de||X.currentTarget,{fetcherKey:e,method:oe,navigate:t,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return B.createElement("form",{ref:x,method:k,action:q,onSubmit:s?p:Z,...R,"data-discover":!K&&i==="render"?"true":void 0})});oO.displayName="Form";function lO(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xS(i){let e=B.useContext(Vo);return it(e,lO(i)),e}function uO(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=mr(),p=ws(),g=xu(i,{relative:u});return B.useCallback(v=>{if(z2(v,e)){v.preventDefault();let T=t!==void 0?t:yu(p)===yu(g);d(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,t,s,e,i,o,u,h])}var cO=0,hO=()=>`__${String(++cO)}__`;function fO(){let{router:i}=xS("useSubmit"),{basename:e}=B.useContext(ni),t=D2();return B.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=H2(s,e);if(o.navigate===!1){let v=o.fetcherKey||hO();await i.fetch(v,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function dO(i,{relative:e}={}){let{basename:t}=B.useContext(ni),s=B.useContext(Ii);it(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...xu(i||".",{relative:e})},h=ws();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:or([t,u.pathname])),yu(u)}function mO(i,e={}){let t=B.useContext(SS);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xS("useViewTransitionState"),o=xu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=ys(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=ys(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Hh(o.pathname,h)!=null||Hh(o.pathname,u)!=null}new TextEncoder;const pO=()=>{const[i,e]=B.useState(!1),[t,s]=B.useState(!1),[o,u]=B.useState(!1),[h,d]=B.useState(!1);B.useEffect(()=>{const T=()=>{window.scrollY>60?d(!0):d(!1)};return window.addEventListener("scroll",T),()=>window.removeEventListener("scroll",T)},[]);const p=()=>e(!i),g=()=>{s(!t),u(!1)},v=()=>{u(!o),s(!1)};return B.useEffect(()=>{const T=R=>{R.target.closest(".navbar-item")||(s(!1),u(!1))};return document.addEventListener("click",T),()=>document.removeEventListener("click",T)},[]),S.jsx("nav",{className:`navbar ${h?"scrolled":""}`,children:S.jsxs("div",{className:"navbar-container",children:[S.jsx(dn,{to:"/",className:"navbar-logo",children:S.jsxs("div",{className:"logo-container",children:[S.jsx("img",{src:"/logo.jpeg",height:30,width:30}),S.jsx("span",{className:"appName",children:"Scan App"})]})}),S.jsx("button",{className:"menu-toggle",onClick:p,"aria-label":"Toggle menu",children:S.jsxs("span",{className:`menu-icon ${i?"open":""}`,children:[S.jsx("span",{className:"bar"}),S.jsx("span",{className:"bar"}),S.jsx("span",{className:"bar"})]})}),S.jsxs("ul",{className:`navbar-links ${i?"open":""}`,children:[S.jsxs("div",{className:"nav-items",children:[S.jsx("li",{children:S.jsxs(dn,{to:"/HomePage",className:"navbar-item",children:[S.jsx("i",{className:"nav-icon home-icon"}),"Home"]})}),S.jsx("li",{children:S.jsxs(dn,{to:"/Home",className:"navbar-item",children:[S.jsx("i",{className:"nav-icon scan-icon"}),"ScanIn"]})}),S.jsx("li",{children:S.jsxs(dn,{to:"/about",className:"navbar-item",children:[S.jsx("i",{className:"nav-icon qr-icon"}),"QR Code"]})}),S.jsx("li",{children:S.jsxs("div",{className:`navbar-item dropdown-trigger ${o?"active":""}`,onClick:v,children:[S.jsx("i",{className:"nav-icon login-icon"}),"Login",S.jsx("i",{className:`dropdown-arrow ${o?"up":"down"}`}),o&&S.jsxs("ul",{className:"dropdown-menu",children:[S.jsx("li",{children:S.jsx(dn,{to:"/AdminLogin",className:"dropdown-item",children:"Admin"})}),S.jsx("li",{children:S.jsx(dn,{to:"/UserLogin",className:"dropdown-item",children:"User"})})]})]})}),S.jsx("li",{children:S.jsxs(dn,{to:"/Dashboard",className:"navbar-item",children:[S.jsx("i",{className:"nav-icon dashboard-icon"}),"Dashboard"]})})]}),S.jsxs("li",{className:`navbar-item dropdown-trigger register-btn ${t?"active":""}`,onClick:g,children:[S.jsx("i",{className:"nav-icon register-icon"}),"Register",S.jsx("i",{className:`dropdown-arrow ${t?"up":"down"}`}),t&&S.jsxs("ul",{className:"dropdown-menu",children:[S.jsx("li",{children:S.jsx(dn,{to:"/AdminRegister",className:"dropdown-item",children:"Admin"})}),S.jsx("li",{children:S.jsx(dn,{to:"/UserRegister",className:"dropdown-item",children:"User"})})]})]})]})]})})};function OS(i,e){return function(){return i.apply(e,arguments)}}const{toString:gO}=Object.prototype,{getPrototypeOf:xg}=Object,yf=(i=>e=>{const t=gO.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ii=i=>(i=i.toLowerCase(),e=>yf(e)===i),_f=i=>e=>typeof e===i,{isArray:Lo}=Array,_u=_f("undefined");function yO(i){return i!==null&&!_u(i)&&i.constructor!==null&&!_u(i.constructor)&&Rn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const MS=ii("ArrayBuffer");function _O(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&MS(i.buffer),e}const vO=_f("string"),Rn=_f("function"),VS=_f("number"),vf=i=>i!==null&&typeof i=="object",EO=i=>i===!0||i===!1,Th=i=>{if(yf(i)!=="object")return!1;const e=xg(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},TO=ii("Date"),wO=ii("File"),SO=ii("Blob"),AO=ii("FileList"),bO=i=>vf(i)&&Rn(i.pipe),RO=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||Rn(i.append)&&((e=yf(i))==="formdata"||e==="object"&&Rn(i.toString)&&i.toString()==="[object FormData]"))},CO=ii("URLSearchParams"),[IO,NO,DO,xO]=["ReadableStream","Request","Response","Headers"].map(ii),OO=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ou(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),Lo(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const u=t?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let d;for(s=0;s<h;s++)d=u[s],e.call(null,i[d],d,i)}}function kS(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const ra=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,LS=i=>!_u(i)&&i!==ra;function Ep(){const{caseless:i}=LS(this)&&this||{},e={},t=(s,o)=>{const u=i&&kS(e,o)||o;Th(e[u])&&Th(s)?e[u]=Ep(e[u],s):Th(s)?e[u]=Ep({},s):Lo(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Ou(arguments[s],t);return e}const MO=(i,e,t,{allOwnKeys:s}={})=>(Ou(e,(o,u)=>{t&&Rn(o)?i[u]=OS(o,t):i[u]=o},{allOwnKeys:s}),i),VO=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),kO=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},LO=(i,e,t,s)=>{let o,u,h;const d={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!d[h]&&(e[h]=i[h],d[h]=!0);i=t!==!1&&xg(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},PO=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},UO=i=>{if(!i)return null;if(Lo(i))return i;let e=i.length;if(!VS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},jO=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&xg(Uint8Array)),zO=(i,e)=>{const s=(i&&i[Symbol.iterator]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},BO=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},qO=ii("HTMLFormElement"),HO=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),A0=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),FO=ii("RegExp"),PS=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};Ou(t,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},GO=i=>{PS(i,(e,t)=>{if(Rn(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(Rn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},KO=(i,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return Lo(i)?s(i):s(String(i).split(e)),t},$O=()=>{},QO=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function YO(i){return!!(i&&Rn(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const XO=i=>{const e=new Array(10),t=(s,o)=>{if(vf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Lo(s)?[]:{};return Ou(s,(h,d)=>{const p=t(h,o+1);!_u(p)&&(u[d]=p)}),e[o]=void 0,u}}return s};return t(i,0)},WO=ii("AsyncFunction"),ZO=i=>i&&(vf(i)||Rn(i))&&Rn(i.then)&&Rn(i.catch),US=((i,e)=>i?setImmediate:e?((t,s)=>(ra.addEventListener("message",({source:o,data:u})=>{o===ra&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),ra.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Rn(ra.postMessage)),JO=typeof queueMicrotask<"u"?queueMicrotask.bind(ra):typeof process<"u"&&process.nextTick||US,Q={isArray:Lo,isArrayBuffer:MS,isBuffer:yO,isFormData:RO,isArrayBufferView:_O,isString:vO,isNumber:VS,isBoolean:EO,isObject:vf,isPlainObject:Th,isReadableStream:IO,isRequest:NO,isResponse:DO,isHeaders:xO,isUndefined:_u,isDate:TO,isFile:wO,isBlob:SO,isRegExp:FO,isFunction:Rn,isStream:bO,isURLSearchParams:CO,isTypedArray:jO,isFileList:AO,forEach:Ou,merge:Ep,extend:MO,trim:OO,stripBOM:VO,inherits:kO,toFlatObject:LO,kindOf:yf,kindOfTest:ii,endsWith:PO,toArray:UO,forEachEntry:zO,matchAll:BO,isHTMLForm:qO,hasOwnProperty:A0,hasOwnProp:A0,reduceDescriptors:PS,freezeMethods:GO,toObjectSet:KO,toCamelCase:HO,noop:$O,toFiniteNumber:QO,findKey:kS,global:ra,isContextDefined:LS,isSpecCompliantForm:YO,toJSONObject:XO,isAsyncFn:WO,isThenable:ZO,setImmediate:US,asap:JO};function Ce(i,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const jS=Ce.prototype,zS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{zS[i]={value:i}});Object.defineProperties(Ce,zS);Object.defineProperty(jS,"isAxiosError",{value:!0});Ce.from=(i,e,t,s,o,u)=>{const h=Object.create(jS);return Q.toFlatObject(i,h,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Ce.call(h,i.message,e,t,s,o),h.cause=i,h.name=i.name,u&&Object.assign(h,u),h};const eM=null;function Tp(i){return Q.isPlainObject(i)||Q.isArray(i)}function BS(i){return Q.endsWith(i,"[]")?i.slice(0,-2):i}function b0(i,e,t){return i?i.concat(e).map(function(o,u){return o=BS(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function tM(i){return Q.isArray(i)&&!i.some(Tp)}const nM=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function Ef(i,e,t){if(!Q.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(q,k){return!Q.isUndefined(k[q])});const s=t.metaTokens,o=t.visitor||v,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function g(D){if(D===null)return"";if(Q.isDate(D))return D.toISOString();if(!p&&Q.isBlob(D))throw new Ce("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(D)||Q.isTypedArray(D)?p&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function v(D,q,k){let K=D;if(D&&!k&&typeof D=="object"){if(Q.endsWith(q,"{}"))q=s?q:q.slice(0,-2),D=JSON.stringify(D);else if(Q.isArray(D)&&tM(D)||(Q.isFileList(D)||Q.endsWith(q,"[]"))&&(K=Q.toArray(D)))return q=BS(q),K.forEach(function(X,de){!(Q.isUndefined(X)||X===null)&&e.append(h===!0?b0([q],de,u):h===null?q:q+"[]",g(X))}),!1}return Tp(D)?!0:(e.append(b0(k,q,u),g(D)),!1)}const T=[],R=Object.assign(nM,{defaultVisitor:v,convertValue:g,isVisitable:Tp});function x(D,q){if(!Q.isUndefined(D)){if(T.indexOf(D)!==-1)throw Error("Circular reference detected in "+q.join("."));T.push(D),Q.forEach(D,function(K,Z){(!(Q.isUndefined(K)||K===null)&&o.call(e,K,Q.isString(Z)?Z.trim():Z,q,R))===!0&&x(K,q?q.concat(Z):[Z])}),T.pop()}}if(!Q.isObject(i))throw new TypeError("data must be an object");return x(i),e}function R0(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Og(i,e){this._pairs=[],i&&Ef(i,this,e)}const qS=Og.prototype;qS.append=function(e,t){this._pairs.push([e,t])};qS.toString=function(e){const t=e?function(s){return e.call(this,s,R0)}:R0;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function iM(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HS(i,e,t){if(!e)return i;const s=t&&t.encode||iM;Q.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=Q.isURLSearchParams(e)?e.toString():new Og(e,t).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class C0{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(s){s!==null&&e(s)})}}const FS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rM=typeof URLSearchParams<"u"?URLSearchParams:Og,sM=typeof FormData<"u"?FormData:null,aM=typeof Blob<"u"?Blob:null,oM={isBrowser:!0,classes:{URLSearchParams:rM,FormData:sM,Blob:aM},protocols:["http","https","file","blob","url","data"]},Mg=typeof window<"u"&&typeof document<"u",wp=typeof navigator=="object"&&navigator||void 0,lM=Mg&&(!wp||["ReactNative","NativeScript","NS"].indexOf(wp.product)<0),uM=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cM=Mg&&window.location.href||"http://localhost",hM=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mg,hasStandardBrowserEnv:lM,hasStandardBrowserWebWorkerEnv:uM,navigator:wp,origin:cM},Symbol.toStringTag,{value:"Module"})),en={...hM,...oM};function fM(i,e){return Ef(i,new en.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return en.isNode&&Q.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function dM(i){return Q.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mM(i){const e={},t=Object.keys(i);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=i[u];return e}function GS(i){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const d=Number.isFinite(+h),p=u>=t.length;return h=!h&&Q.isArray(o)?o.length:h,p?(Q.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!d):((!o[h]||!Q.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&Q.isArray(o[h])&&(o[h]=mM(o[h])),!d)}if(Q.isFormData(i)&&Q.isFunction(i.entries)){const t={};return Q.forEachEntry(i,(s,o)=>{e(dM(s),o,t,0)}),t}return null}function pM(i,e,t){if(Q.isString(i))try{return(e||JSON.parse)(i),Q.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const Mu={transitional:FS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=Q.isObject(e);if(u&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return o?JSON.stringify(GS(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return fM(e,this.formSerializer).toString();if((d=Q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Ef(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),pM(e)):e}],transformResponse:[function(e){const t=this.transitional||Mu.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(d){if(h)throw d.name==="SyntaxError"?Ce.from(d,Ce.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],i=>{Mu.headers[i]={}});const gM=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yM=i=>{const e={};let t,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&gM[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},I0=Symbol("internals");function $l(i){return i&&String(i).trim().toLowerCase()}function wh(i){return i===!1||i==null?i:Q.isArray(i)?i.map(wh):String(i)}function _M(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const vM=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function zm(i,e,t,s,o){if(Q.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!Q.isString(e)){if(Q.isString(s))return e.indexOf(s)!==-1;if(Q.isRegExp(s))return s.test(e)}}function EM(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function TM(i,e){const t=Q.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let yn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(d,p,g){const v=$l(p);if(!v)throw new Error("header name must be a non-empty string");const T=Q.findKey(o,v);(!T||o[T]===void 0||g===!0||g===void 0&&o[T]!==!1)&&(o[T||p]=wh(d))}const h=(d,p)=>Q.forEach(d,(g,v)=>u(g,v,p));if(Q.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(Q.isString(e)&&(e=e.trim())&&!vM(e))h(yM(e),t);else if(Q.isHeaders(e))for(const[d,p]of e.entries())u(p,d,s);else e!=null&&u(t,e,s);return this}get(e,t){if(e=$l(e),e){const s=Q.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return _M(o);if(Q.isFunction(t))return t.call(this,o,s);if(Q.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=$l(e),e){const s=Q.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||zm(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=$l(h),h){const d=Q.findKey(s,h);d&&(!t||zm(s,s[d],d,t))&&(delete s[d],o=!0)}}return Q.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||zm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return Q.forEach(this,(o,u)=>{const h=Q.findKey(s,u);if(h){t[h]=wh(o),delete t[u];return}const d=e?EM(u):String(u).trim();d!==u&&delete t[u],t[d]=wh(o),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Q.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&Q.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[I0]=this[I0]={accessors:{}}).accessors,o=this.prototype;function u(h){const d=$l(h);s[d]||(TM(o,h),s[d]=!0)}return Q.isArray(e)?e.forEach(u):u(e),this}};yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(yn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});Q.freezeMethods(yn);function Bm(i,e){const t=this||Mu,s=e||t,o=yn.from(s.headers);let u=s.data;return Q.forEach(i,function(d){u=d.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function KS(i){return!!(i&&i.__CANCEL__)}function Po(i,e,t){Ce.call(this,i??"canceled",Ce.ERR_CANCELED,e,t),this.name="CanceledError"}Q.inherits(Po,Ce,{__CANCEL__:!0});function $S(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Ce("Request failed with status code "+t.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function wM(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function SM(i,e){i=i||10;const t=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),v=s[u];h||(h=g),t[o]=p,s[o]=g;let T=u,R=0;for(;T!==o;)R+=t[T++],T=T%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),g-h<e)return;const x=v&&g-v;return x?Math.round(R*1e3/x):void 0}}function AM(i,e){let t=0,s=1e3/e,o,u;const h=(g,v=Date.now())=>{t=v,o=null,u&&(clearTimeout(u),u=null),i.apply(null,g)};return[(...g)=>{const v=Date.now(),T=v-t;T>=s?h(g,v):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-T)))},()=>o&&h(o)]}const Fh=(i,e,t=3)=>{let s=0;const o=SM(50,250);return AM(u=>{const h=u.loaded,d=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),v=h<=d;s=h;const T={loaded:h,total:d,progress:d?h/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&v?(d-h)/g:void 0,event:u,lengthComputable:d!=null,[e?"download":"upload"]:!0};i(T)},t)},N0=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},D0=i=>(...e)=>Q.asap(()=>i(...e)),bM=en.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,en.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,RM=en.hasStandardBrowserEnv?{write(i,e,t,s,o,u){const h=[i+"="+encodeURIComponent(e)];Q.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),Q.isString(s)&&h.push("path="+s),Q.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function CM(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function IM(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function QS(i,e,t){let s=!CM(e);return i&&s||t==!1?IM(i,e):e}const x0=i=>i instanceof yn?{...i}:i;function fa(i,e){e=e||{};const t={};function s(g,v,T,R){return Q.isPlainObject(g)&&Q.isPlainObject(v)?Q.merge.call({caseless:R},g,v):Q.isPlainObject(v)?Q.merge({},v):Q.isArray(v)?v.slice():v}function o(g,v,T,R){if(Q.isUndefined(v)){if(!Q.isUndefined(g))return s(void 0,g,T,R)}else return s(g,v,T,R)}function u(g,v){if(!Q.isUndefined(v))return s(void 0,v)}function h(g,v){if(Q.isUndefined(v)){if(!Q.isUndefined(g))return s(void 0,g)}else return s(void 0,v)}function d(g,v,T){if(T in e)return s(g,v);if(T in i)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:d,headers:(g,v,T)=>o(x0(g),x0(v),T,!0)};return Q.forEach(Object.keys(Object.assign({},i,e)),function(v){const T=p[v]||o,R=T(i[v],e[v],v);Q.isUndefined(R)&&T!==d||(t[v]=R)}),t}const YS=i=>{const e=fa({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:d}=e;e.headers=h=yn.from(h),e.url=HS(QS(e.baseURL,e.url),i.params,i.paramsSerializer),d&&h.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(Q.isFormData(t)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,...v]=p?p.split(";").map(T=>T.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",...v].join("; "))}}if(en.hasStandardBrowserEnv&&(s&&Q.isFunction(s)&&(s=s(e)),s||s!==!1&&bM(e.url))){const g=o&&u&&RM.read(u);g&&h.set(o,g)}return e},NM=typeof XMLHttpRequest<"u",DM=NM&&function(i){return new Promise(function(t,s){const o=YS(i);let u=o.data;const h=yn.from(o.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=o,v,T,R,x,D;function q(){x&&x(),D&&D(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function K(){if(!k)return;const X=yn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),oe={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:X,config:i,request:k};$S(function(M){t(M),q()},function(M){s(M),q()},oe),k=null}"onloadend"in k?k.onloadend=K:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(K)},k.onabort=function(){k&&(s(new Ce("Request aborted",Ce.ECONNABORTED,i,k)),k=null)},k.onerror=function(){s(new Ce("Network Error",Ce.ERR_NETWORK,i,k)),k=null},k.ontimeout=function(){let de=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const oe=o.transitional||FS;o.timeoutErrorMessage&&(de=o.timeoutErrorMessage),s(new Ce(de,oe.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,i,k)),k=null},u===void 0&&h.setContentType(null),"setRequestHeader"in k&&Q.forEach(h.toJSON(),function(de,oe){k.setRequestHeader(oe,de)}),Q.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),d&&d!=="json"&&(k.responseType=o.responseType),g&&([R,D]=Fh(g,!0),k.addEventListener("progress",R)),p&&k.upload&&([T,x]=Fh(p),k.upload.addEventListener("progress",T),k.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(v=X=>{k&&(s(!X||X.type?new Po(null,i,k):X),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const Z=wM(o.url);if(Z&&en.protocols.indexOf(Z)===-1){s(new Ce("Unsupported protocol "+Z+":",Ce.ERR_BAD_REQUEST,i));return}k.send(u||null)})},xM=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(g){if(!o){o=!0,d();const v=g instanceof Error?g:this.reason;s.abort(v instanceof Ce?v:new Po(v instanceof Error?v.message:v))}};let h=e&&setTimeout(()=>{h=null,u(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const d=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),i=null)};i.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>Q.asap(d),p}},OM=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,o;for(;s<t;)o=s+e,yield i.slice(s,o),s=o},MM=async function*(i,e){for await(const t of VM(i))yield*OM(t,e)},VM=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},O0=(i,e,t,s)=>{const o=MM(i,e);let u=0,h,d=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:v}=await o.next();if(g){d(),p.close();return}let T=v.byteLength;if(t){let R=u+=T;t(R)}p.enqueue(new Uint8Array(v))}catch(g){throw d(g),g}},cancel(p){return d(p),o.return()}},{highWaterMark:2})},Tf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",XS=Tf&&typeof ReadableStream=="function",kM=Tf&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),WS=(i,...e)=>{try{return!!i(...e)}catch{return!1}},LM=XS&&WS(()=>{let i=!1;const e=new Request(en.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),M0=64*1024,Sp=XS&&WS(()=>Q.isReadableStream(new Response("").body)),Gh={stream:Sp&&(i=>i.body)};Tf&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Gh[e]&&(Gh[e]=Q.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new Ce(`Response type '${e}' is not supported`,Ce.ERR_NOT_SUPPORT,s)})})})(new Response);const PM=async i=>{if(i==null)return 0;if(Q.isBlob(i))return i.size;if(Q.isSpecCompliantForm(i))return(await new Request(en.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(i)||Q.isArrayBuffer(i))return i.byteLength;if(Q.isURLSearchParams(i)&&(i=i+""),Q.isString(i))return(await kM(i)).byteLength},UM=async(i,e)=>{const t=Q.toFiniteNumber(i.getContentLength());return t??PM(e)},jM=Tf&&(async i=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:v,withCredentials:T="same-origin",fetchOptions:R}=YS(i);g=g?(g+"").toLowerCase():"text";let x=xM([o,u&&u.toAbortSignal()],h),D;const q=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let k;try{if(p&&LM&&t!=="get"&&t!=="head"&&(k=await UM(v,s))!==0){let oe=new Request(e,{method:"POST",body:s,duplex:"half"}),se;if(Q.isFormData(s)&&(se=oe.headers.get("content-type"))&&v.setContentType(se),oe.body){const[M,C]=N0(k,Fh(D0(p)));s=O0(oe.body,M0,M,C)}}Q.isString(T)||(T=T?"include":"omit");const K="credentials"in Request.prototype;D=new Request(e,{...R,signal:x,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:K?T:void 0});let Z=await fetch(D);const X=Sp&&(g==="stream"||g==="response");if(Sp&&(d||X&&q)){const oe={};["status","statusText","headers"].forEach(b=>{oe[b]=Z[b]});const se=Q.toFiniteNumber(Z.headers.get("content-length")),[M,C]=d&&N0(se,Fh(D0(d),!0))||[];Z=new Response(O0(Z.body,M0,M,()=>{C&&C(),q&&q()}),oe)}g=g||"text";let de=await Gh[Q.findKey(Gh,g)||"text"](Z,i);return!X&&q&&q(),await new Promise((oe,se)=>{$S(oe,se,{data:de,headers:yn.from(Z.headers),status:Z.status,statusText:Z.statusText,config:i,request:D})})}catch(K){throw q&&q(),K&&K.name==="TypeError"&&/fetch/i.test(K.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,i,D),{cause:K.cause||K}):Ce.from(K,K&&K.code,i,D)}}),Ap={http:eM,xhr:DM,fetch:jM};Q.forEach(Ap,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const V0=i=>`- ${i}`,zM=i=>Q.isFunction(i)||i===null||i===!1,ZS={getAdapter:i=>{i=Q.isArray(i)?i:[i];const{length:e}=i;let t,s;const o={};for(let u=0;u<e;u++){t=i[u];let h;if(s=t,!zM(t)&&(s=Ap[(h=String(t)).toLowerCase()],s===void 0))throw new Ce(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(V0).join(`
`):" "+V0(u[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:Ap};function qm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Po(null,i)}function k0(i){return qm(i),i.headers=yn.from(i.headers),i.data=Bm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),ZS.getAdapter(i.adapter||Mu.adapter)(i).then(function(s){return qm(i),s.data=Bm.call(i,i.transformResponse,s),s.headers=yn.from(s.headers),s},function(s){return KS(s)||(qm(i),s&&s.response&&(s.response.data=Bm.call(i,i.transformResponse,s.response),s.response.headers=yn.from(s.response.headers))),Promise.reject(s)})}const JS="1.8.1",wf={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{wf[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const L0={};wf.transitional=function(e,t,s){function o(u,h){return"[Axios v"+JS+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,d)=>{if(e===!1)throw new Ce(o(h," has been removed"+(t?" in "+t:"")),Ce.ERR_DEPRECATED);return t&&!L0[h]&&(L0[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,d):!0}};wf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function BM(i,e,t){if(typeof i!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const d=i[u],p=d===void 0||h(d,u,i);if(p!==!0)throw new Ce("option "+u+" must be "+p,Ce.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ce("Unknown option "+u,Ce.ERR_BAD_OPTION)}}const Sh={assertOptions:BM,validators:wf},Ei=Sh.validators;let sa=class{constructor(e){this.defaults=e,this.interceptors={request:new C0,response:new C0}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=fa(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&Sh.assertOptions(s,{silentJSONParsing:Ei.transitional(Ei.boolean),forcedJSONParsing:Ei.transitional(Ei.boolean),clarifyTimeoutError:Ei.transitional(Ei.boolean)},!1),o!=null&&(Q.isFunction(o)?t.paramsSerializer={serialize:o}:Sh.assertOptions(o,{encode:Ei.function,serialize:Ei.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Sh.assertOptions(t,{baseUrl:Ei.spelling("baseURL"),withXsrfToken:Ei.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&Q.merge(u.common,u[t.method]);u&&Q.forEach(["delete","get","head","post","put","patch","common"],D=>{delete u[D]}),t.headers=yn.concat(h,u);const d=[];let p=!0;this.interceptors.request.forEach(function(q){typeof q.runWhen=="function"&&q.runWhen(t)===!1||(p=p&&q.synchronous,d.unshift(q.fulfilled,q.rejected))});const g=[];this.interceptors.response.forEach(function(q){g.push(q.fulfilled,q.rejected)});let v,T=0,R;if(!p){const D=[k0.bind(this),void 0];for(D.unshift.apply(D,d),D.push.apply(D,g),R=D.length,v=Promise.resolve(t);T<R;)v=v.then(D[T++],D[T++]);return v}R=d.length;let x=t;for(T=0;T<R;){const D=d[T++],q=d[T++];try{x=D(x)}catch(k){q.call(this,k);break}}try{v=k0.call(this,x)}catch(D){return Promise.reject(D)}for(T=0,R=g.length;T<R;)v=v.then(g[T++],g[T++]);return v}getUri(e){e=fa(this.defaults,e);const t=QS(e.baseURL,e.url,e.allowAbsoluteUrls);return HS(t,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){sa.prototype[e]=function(t,s){return this.request(fa(s||{},{method:e,url:t,data:(s||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,d){return this.request(fa(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}sa.prototype[e]=t(),sa.prototype[e+"Form"]=t(!0)});let qM=class eA{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(d=>{s.subscribe(d),u=d}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,d){s.reason||(s.reason=new Po(u,h,d),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new eA(function(o){e=o}),cancel:e}}};function HM(i){return function(t){return i.apply(null,t)}}function FM(i){return Q.isObject(i)&&i.isAxiosError===!0}const bp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bp).forEach(([i,e])=>{bp[e]=i});function tA(i){const e=new sa(i),t=OS(sa.prototype.request,e);return Q.extend(t,sa.prototype,e,{allOwnKeys:!0}),Q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return tA(fa(i,o))},t}const gt=tA(Mu);gt.Axios=sa;gt.CanceledError=Po;gt.CancelToken=qM;gt.isCancel=KS;gt.VERSION=JS;gt.toFormData=Ef;gt.AxiosError=Ce;gt.Cancel=gt.CanceledError;gt.all=function(e){return Promise.all(e)};gt.spread=HM;gt.isAxiosError=FM;gt.mergeConfig=fa;gt.AxiosHeaders=yn;gt.formToJSON=i=>GS(Q.isHTMLForm(i)?new FormData(i):i);gt.getAdapter=ZS.getAdapter;gt.HttpStatusCode=bp;gt.default=gt;const{Axios:IV,AxiosError:NV,CanceledError:DV,isCancel:xV,CancelToken:OV,VERSION:MV,all:VV,Cancel:kV,isAxiosError:LV,spread:PV,toFormData:UV,AxiosHeaders:jV,HttpStatusCode:zV,formToJSON:BV,getAdapter:qV,mergeConfig:HV}=gt,Ft=[];for(let i=0;i<256;++i)Ft.push((i+256).toString(16).slice(1));function GM(i,e=0){return(Ft[i[e+0]]+Ft[i[e+1]]+Ft[i[e+2]]+Ft[i[e+3]]+"-"+Ft[i[e+4]]+Ft[i[e+5]]+"-"+Ft[i[e+6]]+Ft[i[e+7]]+"-"+Ft[i[e+8]]+Ft[i[e+9]]+"-"+Ft[i[e+10]]+Ft[i[e+11]]+Ft[i[e+12]]+Ft[i[e+13]]+Ft[i[e+14]]+Ft[i[e+15]]).toLowerCase()}let Hm;const KM=new Uint8Array(16);function $M(){if(!Hm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Hm=crypto.getRandomValues.bind(crypto)}return Hm(KM)}const QM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),P0={randomUUID:QM};function YM(i,e,t){var o;if(P0.randomUUID&&!i)return P0.randomUUID();i=i||{};const s=i.random??((o=i.rng)==null?void 0:o.call(i))??$M();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,GM(s)}const XM=8,U0=i=>{const e={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0};return new Intl.DateTimeFormat("en-US",e).format(i)},j0=async()=>{try{const i=await gt.get("https://api.ipgeolocation.io/ipgeo",{params:{apiKey:"fb8d7499d1e04891a1f797815bd4c5b1"}}),{latitude:e,longitude:t}=i.data;return{latitude:e,longitude:t}}catch(i){return console.error("Error fetching location from API:",i),{latitude:null,longitude:null}}},WM=()=>{const i=mr(),[e,t]=B.useState(!1),[s,o]=B.useState(""),[u,h]=B.useState(""),[d,p]=B.useState(""),[g,v]=B.useState(""),[T,R]=B.useState({latitude:null,longitude:null}),[x,D]=B.useState(""),[q,k]=B.useState(""),[K,Z]=B.useState(""),[X,de]=B.useState(!1),[oe,se]=B.useState(""),M=Me=>{const ie=new Date(Me),ue=Math.abs(new Date-ie),Re=Math.floor(ue/(1e3*60*60)),V=Math.floor(ue%(1e3*60*60)/(1e3*60));return`${Re}h ${V}m`},C=Me=>{const ie=new Date(Me);return Math.abs(new Date-ie)>=XM*60*60*1e3},b=async()=>{!X||!d||C(d)&&(console.log("Auto-logging out due to timeout."),await O())};B.useEffect(()=>{const Me=setInterval(b,3e5);return()=>clearInterval(Me)},[X,d]);const I=async Me=>{try{const ie=ha(gn,"visits"),me=qh(ie,rs("userEmail","==",Me),rs("isSessionActive","==",!0)),ue=await gu(me);if(ue.empty)D("No active session found.");else{const Re=ue.docs[0],V=Re.data();Z(Re.id),p(V.scanTime),se(V.token),R(V.location),de(!0),k(M(V.scanTime)),localStorage.setItem("activeSession",JSON.stringify({visitId:Re.id,scanTime:V.scanTime,location:V.location,token:V.token,isSessionActive:!0})),D("Resumed active session from Firestore.")}}catch(ie){console.error("Error fetching active session:",ie)}};B.useEffect(()=>{const Me=Up(fr,async ie=>{ie?(t(!0),await L(ie),await I(ie.email)):(t(!1),i("/UserRegister"))});return()=>Me()},[i]);const L=async Me=>{try{const ie=cs(gn,"users",Me.email.toLowerCase()),me=await Tg(ie);if(me.exists()){const ue=me.data();o(ue.name||"Unknown User"),h(ue.email||"Unknown Email")}else console.log("No user data found in Firestore.")}catch(ie){console.error("Error fetching user data from Firestore:",ie)}},j=async()=>{if(X){D("A session is already active.");return}const ie=U0(new Date);p(ie);const me=await j0();if(!me.latitude||!me.longitude){D("Unable to fetch location.");return}R(me);const ue=YM();se(ue);try{const Re=ha(gn,"visits"),V=qh(Re,rs("userEmail","==",u),rs("isSessionActive","==",!0));(await gu(V)).forEach(async ce=>{await yp(cs(gn,"visits",ce.id),{isSessionActive:!1,exitTime:ie})});const le=await wg(Re,{scanTime:ie,location:me,userName:s,userEmail:u,token:ue,isSessionActive:!0});Z(le.id),de(!0),localStorage.setItem("activeSession",JSON.stringify({visitId:le.id,scanTime:ie,location:me,token:ue,isSessionActive:!0})),D("Session started successfully!")}catch(Re){console.error("Error starting session:",Re),D("Error starting session.")}},O=async()=>{if(!X){D("No active session to exit.");return}const ie=U0(new Date);v(ie);try{const me=await j0(),ue=M(d),Re={exitTime:ie,isSessionActive:!1,exitLocation:me,duration:ue};await yp(cs(gn,"visits",K),Re),D("Session ended successfully!"),nt()}catch(me){console.error("Error recording exit:",me),D("Error recording exit.")}},nt=()=>{p(""),v(""),R({latitude:null,longitude:null}),k(""),Z(""),de(!1),se(""),localStorage.removeItem("activeSession")};return S.jsxs("div",{className:"container my-4",children:[S.jsx("h1",{className:"text-center mb-4",children:"Visit Logger"}),S.jsxs("div",{className:"mb-3",children:[S.jsx("strong",{children:"Most Recent User:"})," ",s]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("strong",{children:"Email:"})," ",u]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("strong",{children:"Scan Time:"})," ",d||"Not started yet"]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("strong",{children:"Exit Time:"})," ",g||"Not recorded yet"]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("strong",{children:"Duration:"})," ",q||"Calculating..."]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("strong",{children:"Location:"})," ",T.latitude&&T.longitude?`${T.latitude}, ${T.longitude}`:"Fetching..."]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("strong",{children:"Status:"})," ",x]}),X?S.jsx("button",{className:"btn btn-danger w-100",onClick:O,children:"Log Exit"}):S.jsx("button",{className:"btn btn-success w-100",onClick:j,children:"Start Session"})]})},ZM=()=>{const[i]=B.useState("https://scan-app-5d29a.web.app/"),[e,t]=B.useState(!1),s=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(i)}`,o=async()=>{t(!0);try{const h=await wg(ha(gn,"qrcodes"),{url:i,timestamp:new Date().toISOString(),qrApiUrl:s});alert(`QR Code saved with ID: ${h.id}`)}catch(h){console.error("Error saving QR Code to database:",h),alert("Failed to save QR code. Please check your database configuration.")}finally{t(!1)}},u=async()=>{try{const h=await fetch(s);if(!h.ok)throw new Error("Network response was not ok");const d=await h.blob(),p=document.createElement("a");p.href=URL.createObjectURL(d),p.download="prototype-qrcode.png",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(p.href),await o()}catch(h){console.error("Error downloading QR code:",h),alert("Failed to download QR code. Please try again.")}};return S.jsxs("div",{style:{maxWidth:"400px",margin:"20px auto",padding:"20px",textAlign:"center",boxShadow:"0 0 10px rgba(0,0,0,0.1)",borderRadius:"8px",backgroundColor:"white"},children:[S.jsx("h1",{style:{marginBottom:"20px",color:"#333",fontSize:"24px"},children:"Register Your Acoount"}),S.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",marginBottom:"20px",boxShadow:"0 0 5px rgba(0,0,0,0.05)"},children:S.jsx("img",{src:s,alt:"Prototype QR Code",style:{maxWidth:"100%",height:"auto",display:"block",margin:"0 auto"}})}),S.jsx("button",{onClick:u,style:{backgroundColor:"#4CAF50",color:"white",padding:"12px 24px",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",fontWeight:"500",transition:"background-color 0.3s",marginBottom:"15px"},onMouseOver:h=>h.target.style.backgroundColor="#45a049",onMouseOut:h=>h.target.style.backgroundColor="#4CAF50",disabled:e,children:e?"Saving...":"Download & Save QR Code"}),S.jsx("p",{style:{color:"#666",fontSize:"14px",marginTop:"10px"},children:"Scan this QR code with your phone"}),S.jsxs("p",{style:{color:"#888",fontSize:"12px",marginTop:"20px"},children:["URL: ",i]})]})},JM=({setUser:i=()=>{}})=>{const[e,t]=B.useState({email:"",password:""}),[s,o]=B.useState(!1),[u,h]=B.useState(""),[d,p]=B.useState(!1),g=mr();B.useEffect(()=>{localStorage.getItem("adminEmail")&&(i(!0),g("/dashboard"))},[g,i]);const v=R=>{const{name:x,value:D}=R.target;t({...e,[x]:D})},T=async R=>{R.preventDefault(),h(""),o(!0);try{const D=(await RT(fr,e.email,e.password)).user;i(!0),localStorage.setItem("adminEmail",D.email),g("/dashboard")}catch(x){console.error("Error during login:",x),h("Invalid email or password. Please try again."),o(!1)}};return S.jsx("div",{className:"admin-register-container",children:S.jsxs("div",{className:"admin-register-card",children:[S.jsx("h2",{className:"admin-register-title",children:"Admin Login"}),S.jsx("p",{className:"admin-register-subtitle",children:"Access your administrative account"}),S.jsxs("form",{onSubmit:T,className:"admin-register-form",children:[S.jsxs("div",{className:"form-input-group",children:[S.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:v,className:"form-input",placeholder:" "}),S.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"})]}),S.jsxs("div",{className:"form-input-group",children:[S.jsx("input",{id:"password",name:"password",type:d?"text":"password",required:!0,value:e.password,onChange:v,className:"form-input",placeholder:" ",minLength:6}),S.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),S.jsx("button",{type:"button",onClick:()=>p(!d),className:"password-toggle",children:d?"👁️":"👁️‍🗨️"})]}),u&&S.jsx("p",{className:"error-message",children:u}),S.jsx("button",{type:"submit",disabled:s,className:"submit-button",children:s?"Logging In...":"Login"}),S.jsxs("div",{className:"login-link",children:["Don't have an account?",S.jsxs("span",{onClick:()=>g("/AdminRegister"),className:"login-link-text",children:[" ","Register"]})]})]})]})})};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nA=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=B.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...d},p)=>B.createElement("svg",{ref:p,...tV,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:nA("lucide",o),...d},[...h.map(([g,v])=>B.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=(i,e)=>{const t=B.forwardRef(({className:s,...o},u)=>B.createElement(nV,{ref:u,iconNode:e,className:nA(`lucide-${eV(i)}`,s),...o}));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rV=Ss("Calendar",iV);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],aV=Ss("ChevronDown",sV);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],z0=Ss("Clock",oV);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],iA=Ss("LogOut",lV);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Fm=Ss("MapPin",uV);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],hV=Ss("RefreshCw",cV);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],dV=Ss("Timer",fV);/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pV=Ss("User",mV),B0=8,gV=()=>{const[i,e]=B.useState([]),[t,s]=B.useState(""),[o,u]=B.useState(!0),[h,d]=B.useState(null),[p,g]=B.useState({totalDevices:0,totalVisits:0,avgDuration:"0 mins",lastUpdate:null}),[v,T]=B.useState({key:"scanTime",direction:"desc"}),R=mr(),x=se=>{const M=new Date(se);return Math.floor((new Date-M)/(1e3*60))},D=async se=>{const M=new Date,C=se.filter(b=>{const I=new Date(b.scanTime);return(M-I)/(1e3*60*60)>=B0&&b.isSessionActive}).map(async b=>{try{const I=cs(gn,"visits",b.id);await yp(I,{isSessionActive:!1,exitTime:M.toISOString(),exitLocation:{latitude:"Auto",longitude:"Auto"},duration:`${B0*60} mins`})}catch(I){console.error(`Error updating session ${b.id}:`,I)}});await Promise.all(C)},q=async()=>{u(!0);try{const M=(await gu(ha(gn,"visits"))).docs.map(I=>{var nt,Me;const L=new Date(I.data().scanTime||Date.now()),j=I.data().exitTime?new Date(I.data().exitTime):null,O=j?Math.floor((j-L)/(1e3*60)):x(L);return{id:I.id,userName:I.data().userName||"Unknown User",userEmail:I.data().userEmail||"No Email Provided",scanTime:L,exitTime:j,location:{latitude:((nt=I.data().location)==null?void 0:nt.latitude)||"N/A",longitude:((Me=I.data().location)==null?void 0:Me.longitude)||"N/A"},duration:`${O} mins`,exitLocation:I.data().exitLocation||null,isSessionActive:I.data().isSessionActive||!1}});await D(M);const C=M.filter(I=>I.userName&&I.userEmail);C.sort((I,L)=>L.scanTime-I.scanTime);let b=0;C.forEach(I=>{const L=parseInt(I.duration.replace(/\D/g,""))||0;b+=L}),e(C),g({totalDevices:new Set(C.map(I=>I.userEmail)).size,totalVisits:C.length,avgDuration:C.length?Math.round(b/C.length)+" mins":"0 mins",lastUpdate:new Date().toLocaleTimeString()}),C.length>0&&d(C[0].userEmail)}catch(se){console.error("Error fetching visits:",se)}u(!1)};B.useEffect(()=>{q()},[]);const k=()=>{localStorage.removeItem("adminEmail"),R("/AdminLogin")},K=se=>{d(h===se?null:se)},Z=se=>{T(M=>{const C=M.key===se&&M.direction==="asc"?"desc":"asc";return{key:se,direction:C}})},de=[...i].sort((se,M)=>{if(!v.key)return 0;const C=v.key,b=v.direction==="asc"?1:-1,I=se[C]||"",L=M[C]||"";return typeof I=="string"&&typeof L=="string"?b*I.localeCompare(L):b*(I>L?1:-1)}).reduce((se,M)=>{const C=M.userEmail;return se[C]||(se[C]=[]),se[C].push(M),se},{}),oe=Object.entries(de).filter(([se])=>se.toLowerCase().includes(t.toLowerCase()));return S.jsxs("div",{className:"min-vh-100 bg-light",children:[S.jsxs("div",{className:"text-center my-4",children:[S.jsx("h1",{children:"Admin Dashboard"}),S.jsxs("button",{onClick:k,className:"btn btn-outline-danger mt-3",children:[S.jsx(iA,{size:18})," Logout"]})]}),S.jsxs("div",{className:"container-fluid px-4 py-4",children:[S.jsxs("div",{className:"row g-3 mb-4",children:[S.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:S.jsx("div",{className:"card shadow-sm h-100",children:S.jsxs("div",{className:"card-body",children:[S.jsx("h6",{children:"Total Users"}),S.jsx("h3",{children:p.totalDevices})]})})}),S.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:S.jsx("div",{className:"card shadow-sm h-100",children:S.jsxs("div",{className:"card-body",children:[S.jsx("h6",{children:"Total Visits"}),S.jsx("h3",{children:p.totalVisits})]})})}),S.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:S.jsx("div",{className:"card shadow-sm h-100",children:S.jsxs("div",{className:"card-body",children:[S.jsx("h6",{children:"Average Duration"}),S.jsx("h3",{children:p.avgDuration})]})})}),S.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:S.jsx("div",{className:"card shadow-sm h-100",children:S.jsxs("div",{className:"card-body",children:[S.jsx("h6",{children:"Last Updated"}),S.jsx("h3",{children:p.lastUpdate})]})})})]}),S.jsxs("div",{className:"card shadow-sm",children:[S.jsx("div",{className:"card-header",children:S.jsxs("div",{className:"d-flex align-items-center",children:[S.jsx("input",{type:"text",className:"form-control",placeholder:"Search by email...",value:t,onChange:se=>s(se.target.value)}),S.jsxs("button",{onClick:q,className:"btn btn-secondary ms-2",children:[S.jsx(hV,{size:18})," Refresh"]})]})}),S.jsx("div",{className:"card-body",children:o?S.jsx("div",{className:"text-center",children:"Loading..."}):S.jsxs("table",{className:"table table-striped table-hover",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsxs("th",{onClick:()=>Z("userName"),children:["User Name"," ",v.key==="userName"&&(v.direction==="asc"?"▲":"▼")]}),S.jsx("th",{children:"User Details"})]})}),S.jsx("tbody",{children:oe.map(([se,M])=>{const C=M[0];return S.jsx(Ob.Fragment,{children:S.jsxs("tr",{children:[S.jsx("td",{children:S.jsxs("button",{className:"btn btn-link",onClick:()=>K(se),children:[C.userName,S.jsx(aV,{size:18,className:`ms-2 ${h===se?"rotate-180":""}`})]})}),S.jsx("td",{children:h===se?S.jsxs("table",{className:"table mb-0",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"User Name"}),S.jsx("th",{children:"Email"}),S.jsx("th",{children:"Scan Time"}),S.jsx("th",{children:"Duration"}),S.jsx("th",{children:"Entry Location"}),S.jsx("th",{children:"Exit Time"}),S.jsx("th",{children:"Exit Location"})]})}),S.jsx("tbody",{children:M.map(b=>{var I;return S.jsxs("tr",{children:[S.jsx("td",{children:b.userName}),S.jsx("td",{children:b.userEmail}),S.jsx("td",{children:b.scanTime.toLocaleString()}),S.jsx("td",{children:b.duration}),S.jsxs("td",{children:[b.location.latitude,","," ",b.location.longitude]}),S.jsx("td",{children:((I=b.exitTime)==null?void 0:I.toLocaleString())||"Active"}),S.jsx("td",{children:b.exitLocation?`${b.exitLocation.latitude}, ${b.exitLocation.longitude}`:"Active"})]},b.id)})})]}):S.jsxs("div",{children:[S.jsx("strong",{children:"Latest Visit:"})," ",C.scanTime.toLocaleString()," -"," ",C.duration]})})]})},se)})})]})})]})]})]})},yV=()=>{const[i,e]=B.useState({email:"",name:"",password:""}),[t,s]=B.useState(!1),[o,u]=B.useState(!1),h=mr(),d=g=>{const{name:v,value:T}=g.target;e({...i,[v]:T})},p=async g=>{g.preventDefault(),s(!0);try{const T=(await bT(fr,i.email,i.password)).user;await wg(ha(gn,"admins"),{uid:T.uid,name:i.name,email:i.email,role:"admin",createdAt:new Date().toISOString()}),alert("Admin registered successfully!"),e({email:"",name:"",password:""}),h("/AdminLogin")}catch(v){console.error("Error registering admin:",v),alert(`Registration failed: ${v.message}`)}finally{s(!1)}};return S.jsx("div",{className:"admin-register-container",children:S.jsxs("div",{className:"admin-register-card",children:[S.jsx("h2",{className:"admin-register-title",children:"Admin Registration"}),S.jsx("p",{className:"admin-register-subtitle",children:"Create your administrative account"}),S.jsxs("form",{onSubmit:p,className:"admin-register-form",children:[S.jsxs("div",{className:"form-input-group",children:[S.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:i.name,onChange:d,className:"form-input",placeholder:" "}),S.jsx("label",{htmlFor:"name",className:"form-label",children:"Full Name"})]}),S.jsxs("div",{className:"form-input-group",children:[S.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:i.email,onChange:d,className:"form-input",placeholder:" "}),S.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"})]}),S.jsxs("div",{className:"form-input-group",children:[S.jsx("input",{id:"password",name:"password",type:o?"text":"password",required:!0,value:i.password,onChange:d,className:"form-input",placeholder:" ",minLength:6}),S.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),S.jsx("button",{type:"button",onClick:()=>u(!o),className:"password-toggle",children:o?"👁️":"👁️‍🗨️"})]}),S.jsx("button",{type:"submit",disabled:t,className:"submit-button",children:t?"Registering...":"Create Account"}),S.jsxs("div",{className:"login-link",children:["Already have an account?",S.jsxs("span",{onClick:()=>h("/AdminLogin"),className:"login-link-text",children:[" ","Sign In"]})]})]})]})})},_V=()=>{const[i,e]=B.useState({email:"",name:"",password:""}),[t,s]=B.useState(!1),[o,u]=B.useState(!1),h=mr(),d=g=>{const{name:v,value:T}=g.target;e({...i,[v]:T})},p=async g=>{g.preventDefault(),s(!0);try{const T=(await bT(fr,i.email,i.password)).user,R=i.email.toLowerCase(),x=cs(gn,"users",R);await Hx(x,{uid:T.uid,name:i.name,email:i.email,role:"user",createdAt:new Date().toISOString()}),alert("User registered successfully!"),e({email:"",name:"",password:""}),h("/Home")}catch(v){console.error("Error registering user:",v),alert(`Registration failed: ${v.message}`)}finally{s(!1)}};return S.jsx("div",{className:"user-register-container",children:S.jsxs("div",{className:"user-register-card",children:[S.jsx("h2",{className:"user-register-title",children:"User Registration"}),S.jsx("p",{className:"user-register-subtitle",children:"Create your account"}),S.jsxs("form",{onSubmit:p,className:"user-register-form",children:[S.jsxs("div",{className:"form-input-group",children:[S.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:i.name,onChange:d,className:"form-input",placeholder:" "}),S.jsx("label",{htmlFor:"name",className:"form-label",children:"Full Name"})]}),S.jsxs("div",{className:"form-input-group",children:[S.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:i.email,onChange:d,className:"form-input",placeholder:" "}),S.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"})]}),S.jsxs("div",{className:"form-input-group",children:[S.jsx("input",{id:"password",name:"password",type:o?"text":"password",required:!0,value:i.password,onChange:d,className:"form-input",placeholder:" ",minLength:6}),S.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),S.jsx("button",{type:"button",onClick:()=>u(!o),className:"password-toggle",children:o?"👁️":"👁️‍🗨️"})]}),S.jsx("button",{type:"submit",disabled:t,className:"submit-button",children:t?"Registering...":"Create Account"}),S.jsxs("div",{className:"login-link",children:["Already have an account?",S.jsxs("span",{onClick:()=>h("/UserLogin"),className:"login-link-text",children:["","Sign In"]})]})]})]})})},vV=()=>{const[i,e]=B.useState({email:"",password:""}),[t,s]=B.useState(!1),[o,u]=B.useState(""),h=mr(),d=g=>{const{name:v,value:T}=g.target;e({...i,[v]:T})},p=async g=>{g.preventDefault(),s(!0),u("");try{const T=(await RT(fr,i.email,i.password)).user,R=cs(gn,"users",i.email),x=await Tg(R);if(x.exists()){const D=x.data();console.log(D),h("/Dashboard")}else u("User data not found.")}catch(v){console.error("Error logging in:",v),u("Invalid credentials, please try again.")}finally{s(!1)}};return S.jsx("div",{className:"login-container",children:S.jsxs("form",{className:"login-form",onSubmit:p,children:[S.jsx("h1",{className:"login-title",children:"Welcome Back"}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"email",children:"Email"}),S.jsx("input",{id:"email",type:"email",name:"email",value:i.email,onChange:d,required:!0,className:"form-input"})]}),S.jsxs("div",{className:"form-group",children:[S.jsx("label",{htmlFor:"password",children:"Password"}),S.jsx("input",{id:"password",type:"password",name:"password",value:i.password,onChange:d,required:!0,className:"form-input"})]}),S.jsx("button",{type:"submit",className:`login-button ${t?"loading":""}`,disabled:t,children:t?"Logging in...":"Login"}),o&&S.jsx("p",{className:"error-message",children:o})]})})},EV=()=>{var T;const[i,e]=B.useState(null),[t,s]=B.useState(!0),[o,u]=B.useState(null),[h,d]=B.useState([]),p=mr();B.useEffect(()=>{(async()=>{const x=fr.currentUser;if(x){const D=x.email.toLowerCase();try{const q=cs(gn,"users",D),k=await Tg(q);k.exists()?e(k.data()):console.error("No user data found in Firestore.");const K=qh(ha(gn,"visits"),rs("userEmail","==",D),rs("isSessionActive","==",!0)),Z=await gu(K);Z.empty?u(null):u(Z.docs[0].data());const X=qh(ha(gn,"visits"),rs("userEmail","==",D),rs("isSessionActive","==",!1),jx("scanTime","desc")),oe=(await gu(X)).docs.map(se=>{const M=se.data();return{id:se.id,scanTime:M.scanTime,exitTime:M.exitTime||"N/A",duration:M.duration||"N/A",location:M.location||{latitude:"N/A",longitude:"N/A"},exitLocation:M.exitLocation||{latitude:"N/A",longitude:"N/A"}}});d(oe)}catch(q){console.error("Error fetching data:",q)}finally{s(!1)}}else p("/UserLogin")})()},[p]);const g=async()=>{try{await vC(fr),p("/UserLogin")}catch(R){console.error("Error logging out:",R)}},v=R=>{if(!R||typeof R!="string")return"N/A";const x=parseInt(R.split(" ")[0],10),D=Math.floor(x/60),q=x%60;return`${D}h ${q}m`};return t?S.jsxs("div",{className:"loading-container",children:[S.jsx("div",{className:"loading-spinner"}),S.jsx("p",{children:"Loading your dashboard..."})]}):S.jsxs("div",{className:"dashboard-container",children:[S.jsxs("div",{className:"dashboard-header",children:[S.jsxs("div",{className:"user-info",children:[S.jsx("div",{className:"avatar",children:((T=i==null?void 0:i.name)==null?void 0:T.charAt(0))||"U"}),S.jsxs("div",{className:"user-details",children:[S.jsxs("h1",{children:["Welcome, ",(i==null?void 0:i.name)||"User","!"]}),S.jsxs("p",{children:[S.jsx(pV,{size:16})," ",(i==null?void 0:i.email)||"N/A"]})]})]}),S.jsxs("button",{className:"logout-button",onClick:g,children:[S.jsx(iA,{size:16})," Logout"]})]}),o?S.jsxs("div",{className:"active-session-card",children:[S.jsx("h2",{children:"Active Session"}),S.jsxs("div",{className:"session-details",children:[S.jsxs("p",{children:[S.jsx(z0,{size:16})," Started: ",o.scanTime]}),S.jsxs("p",{children:[S.jsx(Fm,{size:16})," Location: ",`${o.location.latitude}, ${o.location.longitude}`]})]})]}):S.jsx("div",{className:"no-active-session",children:S.jsx("p",{children:"No active session found."})}),S.jsxs("div",{className:"recent-visits-section",children:[S.jsx("h2",{children:"Past Visits"}),h.length>0?S.jsx("div",{className:"visits-grid",children:h.map(R=>S.jsxs("div",{className:"visit-card",children:[S.jsxs("div",{className:"visit-header",children:[S.jsx(rV,{size:16}),S.jsx("span",{children:R.scanTime})]}),S.jsxs("div",{className:"visit-details",children:[S.jsxs("p",{children:[S.jsx(z0,{size:16})," Exit: ",R.exitTime]}),S.jsxs("p",{children:[S.jsx(dV,{size:16})," Duration: ",v(R.duration)]}),S.jsxs("p",{children:[S.jsx(Fm,{size:16})," Location: ",`${R.location.latitude}, ${R.location.longitude}`]}),S.jsxs("p",{children:[S.jsx(Fm,{size:16})," Exit Location: ",`${R.exitLocation.latitude}, ${R.exitLocation.longitude}`]})]})]},R.id))}):S.jsx("p",{children:"No past visits found."})]})]})},q0=()=>S.jsxs("div",{className:"home-container",children:[S.jsx("header",{className:"hero-section",children:S.jsxs("div",{className:"hero-content",children:[S.jsx("h1",{children:"Welcome to ScanApp"}),S.jsx("p",{children:"Track employee attendance by scanning QR codes. Simple, fast, and secure!"}),S.jsxs("div",{className:"cta-buttons",children:[S.jsx(dn,{to:"/about",className:"cta-btn login-btn",children:"Scan QR Code"}),S.jsx(dn,{to:"/UserLogin",className:"cta-btn register-btn",children:"Login"}),S.jsx(dn,{to:"/UserRegister",className:"cta-btn register-btn",children:"Register"})]})]})}),S.jsxs("section",{className:"features",children:[S.jsxs("div",{className:"feature",children:[S.jsx("h2",{children:"Effortless Attendance"}),S.jsx("p",{children:"Employees can easily mark attendance with a QR scan. No more manual entry!"})]}),S.jsxs("div",{className:"feature",children:[S.jsx("h2",{children:"Track in Real-Time"}),S.jsx("p",{children:"Monitor attendance live as employees scan QR codes at the office entrance."})]}),S.jsxs("div",{className:"feature",children:[S.jsx("h2",{children:"Safe and Secure"}),S.jsx("p",{children:"Our platform ensures that employee data and attendance are kept safe with the latest security standards."})]})]})]}),TV=()=>{const[i,e]=B.useState(null),[t,s]=B.useState(null),[o,u]=B.useState(!0);B.useEffect(()=>{const d=Up(fr,p=>{p?(e(p),(async()=>{const v=p.email;s(v==="cs2022239@global.org.in"?"admin":"user")})()):(e(null),s(null)),u(!1)});return()=>d()},[]);const h=({children:d,allowedRoles:p})=>o?S.jsx("div",{children:"Loading..."}):i?p&&!p.includes(t)?S.jsx(oh,{to:"/"}):d:S.jsx(oh,{to:"/UserLogin"});return S.jsxs(k2,{children:[S.jsx(Wn,{path:"/",element:S.jsx(q0,{})}),S.jsx(Wn,{path:"/HomePage",element:S.jsx(q0,{})}),S.jsx(Wn,{path:"/Home",element:S.jsx(WM,{})}),S.jsx(Wn,{path:"/UserRegister",element:S.jsx(_V,{})}),S.jsx(Wn,{path:"/about",element:S.jsx(ZM,{})}),S.jsx(Wn,{path:"/AdminLogin",element:i?S.jsx(oh,{to:"/dashboard"}):S.jsx(JM,{})}),S.jsx(Wn,{path:"/AdminRegister",element:S.jsx(yV,{})}),S.jsx(Wn,{path:"/dashboard",element:S.jsx(h,{allowedRoles:["admin"],children:S.jsx(gV,{})})}),S.jsx(Wn,{path:"/UserLogin",element:i?S.jsx(oh,{to:"/UserDashboard"}):S.jsx(vV,{})}),S.jsx(Wn,{path:"/UserDashboard",element:S.jsx(h,{allowedRoles:["user","admin"],children:S.jsx(EV,{})})})]})},wV=()=>{const i=new Date().getFullYear();return S.jsxs("footer",{className:"footer",children:[S.jsxs("div",{className:"footer-content",children:[S.jsxs("div",{className:"footer-main",children:[S.jsxs("p",{className:"footer-text",children:["© ",i," ",S.jsx("span",{className:"footer-brand",children:"ScanApp"}),". All rights reserved to OrangeBits."]}),S.jsxs("div",{className:"sponsor-container",children:[S.jsx("span",{className:"sponsor-text",children:"Proudly sponsored by"}),S.jsx("img",{src:"/footerPic.jpeg",alt:"Parent Company Logo",className:"sponsor-logo"})]})]}),S.jsxs("div",{className:"footer-links",children:[S.jsx("a",{href:"/about",className:"footer-link",children:"About Us"}),S.jsx("a",{href:"/privacy",className:"footer-link",children:"Privacy Policy"}),S.jsx("a",{href:"/terms",className:"footer-link",children:"Terms of Service"}),S.jsx("a",{href:"/contact",className:"footer-link",children:"Contact"})]}),S.jsxs("div",{className:"footer-social",children:[S.jsx("a",{href:"mailto:contact@scanapp.com",className:"social-icon","aria-label":"Email",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),S.jsx("polyline",{points:"22,6 12,13 2,6"})]})}),S.jsx("a",{href:"https://github.com/yourcompany",className:"social-icon","aria-label":"GitHub",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"})})}),S.jsx("a",{href:"https://linkedin.com/company/yourcompany",className:"social-icon","aria-label":"LinkedIn",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}),S.jsx("rect",{x:"2",y:"9",width:"4",height:"12"}),S.jsx("circle",{cx:"4",cy:"4",r:"2"})]})}),S.jsx("a",{href:"https://twitter.com/yourcompany",className:"social-icon","aria-label":"Twitter",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})})]})]}),S.jsx("div",{className:"footer-wave",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 160",children:S.jsx("path",{fill:"#b22222",fillOpacity:"0.2",d:"M0,128L80,117.3C160,107,320,85,480,90.7C640,96,800,128,960,138.7C1120,149,1280,139,1360,133.3L1440,128L1440,0L1360,0C1280,0,1120,0,960,0C800,0,640,0,480,0C320,0,160,0,80,0L0,0Z"})})})]})},SV=()=>{const[i,e]=B.useState(null);return B.useEffect(()=>{const t=Up(fr,s=>{e(s)});return()=>t()},[]),S.jsxs("div",{children:[S.jsx(pO,{}),S.jsx(TV,{user:i}),S.jsx(wV,{})]})};jb.createRoot(document.getElementById("root")).render(S.jsx(B.StrictMode,{children:S.jsx(sO,{children:S.jsx(SV,{})})}));
